(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{1480:function(e,t,n){"use strict";var o=n(0),r=n(19);n(566),n(567),n(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=S,t.TeamChannelContext=void 0;var a,s=o(n(15)),p=o(n(3)),i=o(n(1488)),l=o(n(106)),d=o(n(139)),c=o(n(333)),u=o(n(79)),h=o(n(55)),y=o(n(210)),m=o(n(25)),g=r(n(33)),C=o(n(155)),f=o(n(1009)),O=o(n(1)),b=o(n(22)),v=o(n(158)),I=n(61),P=o(n(44)),w=n(2),j=n(4),T=o(n(452));function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){(0,s.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const x=T.default.GetMentionableEveryone({description:"Notify everyone in the channel"}),B=T.default.GetMentionableHere({description:"Notify everyone in this channel that is online and not idle"});function S(e){var t,n,o,r,a,s,O,j,T,M,S,R,_,U,A,E;return t=(0,w.computed)(u.default),n=(0,w.computed)(u.default),o=(0,w.computed)(u.default),r=w.computed.struct,a=w.computed.struct,s=w.computed.struct,O=w.computed.struct,j=(0,w.computed)(l.default),T=(0,w.computed)(u.default),M=w.computed.struct,S=w.computed.struct,R=(0,w.computed)(u.default),(0,C.default)(_=(0,m.default)(_=(0,v.default)(_=(0,d.default)(_=(0,y.default)(_=(0,b.default)((E=A=class extends e{constructor(...e){super(...e),this.memberHasContentAccess=e=>{if(!this.groupContext.group||!this.channel)return!1;const{group:t}=this.groupContext,{channelRolesById:n,currentUserChannelPermission:o}=this,{userId:r}=this.userContext,{id:a,membershipRole:s}=e;return c.default.GetIsGroupActive({userId:a,membershipRole:s,groupInfo:t})&&(this.channel.isPublic||(null==s?void 0:s.CanReadChannelContent({contentType:this.channel.contentType,channelRolesById:n,channelUserPermissions:r===a?o:this.userPermissionsByUserId[a]})))}}get channel(){var e,t;const{channelId:n}=this;return(null===(e=this.teamChannelsContext.channelsById)||void 0===e?void 0:e[n])||(null===(t=this.chatContext.channelsById)||void 0===t?void 0:t[n])||this.props.channel}get category(){var e;const{channelCategoryId:t}=this;return null===(e=this.teamChannelsContext.categoriesById)||void 0===e?void 0:e[t]}get parentChannel(){const{channelsById:e}=this.teamChannelsContext,{channel:t}=this;return null==e?void 0:e[null==t?void 0:t.parentChannelId]}get channelRolesById(){const{channel:e}=this;var t;if(!e)return null===(t=this.category)||void 0===t?void 0:t.rolesById;const{parentChannel:n}=this,{isRoleSynced:o,rolesById:r}=n||e;return o&&this.category?this.category.rolesById:r}get userPermissions(){const{channel:e,category:t}=this;if(!e)return null==t?void 0:t.userPermissions;const{parentChannel:n}=this,{isRoleSynced:o,userPermissions:r}=n||e;return o&&t?t.userPermissions:r}get userPermissionsByUserId(){return(this.userPermissions||[]).reduce((e,t)=>(e[t.userId]=t,e),{})}get currentUserChannelPermission(){const{userPermissionsByUserId:e,channel:t}=this,{userId:n}=this.userContext;return null==e?void 0:e[n]}get membershipRole(){const{teamId:e}=this.teamContext;if(!e)return null;const{memberInfo:t,teamInfo:n}=this.teamContext,{channelRolesById:o,currentUserChannelPermission:r}=this;return f.default.GetChannelMembershipRole({channelRolesById:o,teamInfo:n,memberInfo:t,channelUserPermissions:r?[r]:[]})}get settings(){var e;return(null===(e=this.channel)||void 0===e?void 0:e.settings)||{}}get canManageChannels(){var e;return!!(null===(e=this.membershipRole)||void 0===e?void 0:e.CanManageChannels())&&this.isWithinOwningTeam}get canModerateChannel(){var e;return!!(this.channel&&g.ContentTypesWithTextChatSupport.includes(this.channel.contentType)&&(null===(e=this.membershipRole)||void 0===e?void 0:e.CanModerateChannels())&&this.isWithinOwningTeam)}get isViewingInModeratorMode(){var e;return!!i.default.moderationStatusById[null===(e=this.channel)||void 0===e?void 0:e.id]}get canOpenSettings(){const{channel:e,category:t,membershipRole:n}=this;return!(!e&&!t||!n||!this.isWithinOwningTeam)&&((null==e||!e.isTemporal)&&(this.canManageChannels||!!n.CanUpdateTeam()||(null==e?void 0:e.isVoice)||!!((null==e?void 0:e.supportsInboundWebhooks)&&n.CanManageWebhooks())))}get isWithinOwningTeam(){var e;return(null===(e=this.channel||this.category)||void 0===e?void 0:e.teamId)===this.teamContext.teamId}get canMentionEveryone(){const{canMentionHere:e}=this;return!!e&&!g.ContentTypesDisableEveryoneMention[this.contentType]}get canMentionHere(){var e;return!!(null===(e=this.membershipRole)||void 0===e?void 0:e.CanMentionEveryone())}get slateMentionTypeaheadAudienceOptions(){return[this.canMentionEveryone&&x,this.canMentionHere&&B].filter(Boolean)}get slateMentionTypeaheadOptions(){const{slateMentionTypeaheadOptions:e}=this.teamContext;return[...this.slateMentionTypeaheadAudienceOptions,...e]}get slateMentionTypeaheadOptionsV2(){const{slateMentionTypeaheadOptionsV2:e}=this.teamContext;return[...this.slateMentionTypeaheadAudienceOptions,...e]}get channelType(){return this.props.channelType}get contentType(){var e;return I.ChannelTypeToContentType[this.channelType]||(null===(e=this.channel)||void 0===e?void 0:e.contentType)}get channelId(){return this.props.channelId}get lastSeen(){var e,t;const{teamId:n}=this.teamContext,{channelId:o}=this.props,{channelsByTeamId:r}=this.unreadContext,a=null===(e=r[n])||void 0===e?void 0:null===(t=e[o])||void 0===t?void 0:t.lastSeen;return a&&(0,h.default)(a)}get temporalChannels(){const{channelId:e}=this,{visibleTemporalChannelsByParentChannelId:t}=this.chatContext;return t[e]||[]}get orderedNestedTemporalChannels(){const e={};return this.temporalChannels.reduce((t,n)=>{const{isTopLevelTemporal:o,originatingChannelId:r,id:a}=n;if(e[a]=!0,o||!e[r]){const e=0;t.push({channel:{channel:n,depth:e},nestedChannels:[],seen:{[a]:e}})}else{const e=t.find(e=>null!=e.seen[r]),o=e.seen[r]+1;e.nestedChannels.push({channel:n,depth:o}),e.seen[a]=o}return t},[]).map(({channel:e,nestedChannels:t})=>[e,...t]).flat()}get badgedContent(){const{channelId:e}=this,{getChannelContentBadgeCount:t}=this.unreadContext,{teamId:n}=this.teamContext,{badgedChannelContentByChannelId:o}=this.teamChannelsContext;return(o[e]||[]).map(o=>D(D({},o),{},{unreadCount:t({teamId:n,channelId:e,contentId:o.contentId})})).filter(e=>!!e.unreadCount)}get slateMoveToChannelTypeaheadOptions(){if(this.contentType!==g.default.List)return[];const{channelId:e}=this,{shareableListChannels:t}=this.teamChannelsContext;return t.reduce((t,n)=>(n.value!==e&&t.push({matcher:">>".concat(n.label.toLowerCase()),name:n.label,id:n.value}),t),[])}get channelCategoryId(){var e,t;return this.props.channelCategoryId||(null===(e=this.parentChannel)||void 0===e?void 0:e.channelCategoryId)||(null===(t=this.channel)||void 0===t?void 0:t.channelCategoryId)||null}get isCategoryEnabled(){return!!this.props.channelCategoryId}get membersWithContentAccess(){const{teamInfo:e}=this.teamContext;return e?e.activeMembersWithoutAutomated.filter(this.memberHasContentAccess):[]}get isUserChannelParticipant(){const{channel:e}=this;return!!(null==e?void 0:e.isTemporal)&&!!e.participantUserIdMap[this.userContext.userId]}get channelOptionLabel(){var e;return this.isUserChannelParticipant&&!(null===(e=this.channel)||void 0===e?void 0:e.isMatch)?"Thread options":"Channel options"}getChildContext(){return D(D({},super.getChildContext&&super.getChildContext()),{},{teamChannelContext:this})}},A.displayName=e.displayName||e.name,A.childContextTypes=D(D({},e.childContextTypes),{},{teamChannelContext:P.default.object}),U=E,(0,p.default)(U.prototype,"channel",[t],Object.getOwnPropertyDescriptor(U.prototype,"channel"),U.prototype),(0,p.default)(U.prototype,"category",[n],Object.getOwnPropertyDescriptor(U.prototype,"category"),U.prototype),(0,p.default)(U.prototype,"parentChannel",[o],Object.getOwnPropertyDescriptor(U.prototype,"parentChannel"),U.prototype),(0,p.default)(U.prototype,"channelRolesById",[w.computed],Object.getOwnPropertyDescriptor(U.prototype,"channelRolesById"),U.prototype),(0,p.default)(U.prototype,"userPermissions",[w.computed],Object.getOwnPropertyDescriptor(U.prototype,"userPermissions"),U.prototype),(0,p.default)(U.prototype,"userPermissionsByUserId",[r],Object.getOwnPropertyDescriptor(U.prototype,"userPermissionsByUserId"),U.prototype),(0,p.default)(U.prototype,"currentUserChannelPermission",[w.computed],Object.getOwnPropertyDescriptor(U.prototype,"currentUserChannelPermission"),U.prototype),(0,p.default)(U.prototype,"membershipRole",[w.computed],Object.getOwnPropertyDescriptor(U.prototype,"membershipRole"),U.prototype),(0,p.default)(U.prototype,"settings",[w.computed],Object.getOwnPropertyDescriptor(U.prototype,"settings"),U.prototype),(0,p.default)(U.prototype,"canManageChannels",[w.computed],Object.getOwnPropertyDescriptor(U.prototype,"canManageChannels"),U.prototype),(0,p.default)(U.prototype,"canModerateChannel",[w.computed],Object.getOwnPropertyDescriptor(U.prototype,"canModerateChannel"),U.prototype),(0,p.default)(U.prototype,"isViewingInModeratorMode",[w.computed],Object.getOwnPropertyDescriptor(U.prototype,"isViewingInModeratorMode"),U.prototype),(0,p.default)(U.prototype,"canOpenSettings",[w.computed],Object.getOwnPropertyDescriptor(U.prototype,"canOpenSettings"),U.prototype),(0,p.default)(U.prototype,"isWithinOwningTeam",[w.computed],Object.getOwnPropertyDescriptor(U.prototype,"isWithinOwningTeam"),U.prototype),(0,p.default)(U.prototype,"canMentionEveryone",[w.computed],Object.getOwnPropertyDescriptor(U.prototype,"canMentionEveryone"),U.prototype),(0,p.default)(U.prototype,"canMentionHere",[w.computed],Object.getOwnPropertyDescriptor(U.prototype,"canMentionHere"),U.prototype),(0,p.default)(U.prototype,"slateMentionTypeaheadAudienceOptions",[a],Object.getOwnPropertyDescriptor(U.prototype,"slateMentionTypeaheadAudienceOptions"),U.prototype),(0,p.default)(U.prototype,"slateMentionTypeaheadOptions",[s],Object.getOwnPropertyDescriptor(U.prototype,"slateMentionTypeaheadOptions"),U.prototype),(0,p.default)(U.prototype,"slateMentionTypeaheadOptionsV2",[O],Object.getOwnPropertyDescriptor(U.prototype,"slateMentionTypeaheadOptionsV2"),U.prototype),(0,p.default)(U.prototype,"channelType",[w.computed],Object.getOwnPropertyDescriptor(U.prototype,"channelType"),U.prototype),(0,p.default)(U.prototype,"contentType",[w.computed],Object.getOwnPropertyDescriptor(U.prototype,"contentType"),U.prototype),(0,p.default)(U.prototype,"channelId",[w.computed],Object.getOwnPropertyDescriptor(U.prototype,"channelId"),U.prototype),(0,p.default)(U.prototype,"lastSeen",[j],Object.getOwnPropertyDescriptor(U.prototype,"lastSeen"),U.prototype),(0,p.default)(U.prototype,"temporalChannels",[T],Object.getOwnPropertyDescriptor(U.prototype,"temporalChannels"),U.prototype),(0,p.default)(U.prototype,"orderedNestedTemporalChannels",[M],Object.getOwnPropertyDescriptor(U.prototype,"orderedNestedTemporalChannels"),U.prototype),(0,p.default)(U.prototype,"badgedContent",[S],Object.getOwnPropertyDescriptor(U.prototype,"badgedContent"),U.prototype),(0,p.default)(U.prototype,"slateMoveToChannelTypeaheadOptions",[w.computed],Object.getOwnPropertyDescriptor(U.prototype,"slateMoveToChannelTypeaheadOptions"),U.prototype),(0,p.default)(U.prototype,"channelCategoryId",[w.computed],Object.getOwnPropertyDescriptor(U.prototype,"channelCategoryId"),U.prototype),(0,p.default)(U.prototype,"isCategoryEnabled",[w.computed],Object.getOwnPropertyDescriptor(U.prototype,"isCategoryEnabled"),U.prototype),(0,p.default)(U.prototype,"membersWithContentAccess",[R],Object.getOwnPropertyDescriptor(U.prototype,"membersWithContentAccess"),U.prototype),(0,p.default)(U.prototype,"isUserChannelParticipant",[w.computed],Object.getOwnPropertyDescriptor(U.prototype,"isUserChannelParticipant"),U.prototype),(0,p.default)(U.prototype,"channelOptionLabel",[w.computed],Object.getOwnPropertyDescriptor(U.prototype,"channelOptionLabel"),U.prototype),_=U))||_)||_)||_)||_)||_)||_}let R=S(a=(0,j.observer)(a=class extends O.default.Component{render(){return this.props.children}})||a)||a;t.TeamChannelContext=R},1488:function(e,t,n){"use strict";var o=n(0),r=n(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,s,p,i,l,d,c=o(n(15)),u=o(n(12)),h=o(n(3)),y=(o(n(13)),r(n(111))),m=n(2);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=new(a=(0,y.persistWithKey)("team-channel-moderation-settings"),s=m.observable.ref,(0,y.default)((i=class{constructor(){(0,u.default)(this,"_moderatedChannelsById",l,this),(0,u.default)(this,"setModerationStatusById",d,this)}get moderationStatusById(){return this._moderatedChannelsById}},l=(0,h.default)(i.prototype,"_moderatedChannelsById",[a,s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),(0,h.default)(i.prototype,"moderationStatusById",[m.computed],Object.getOwnPropertyDescriptor(i.prototype,"moderationStatusById"),i.prototype),d=(0,h.default)(i.prototype,"setModerationStatusById",[m.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return({channelId:e,isModerating:t})=>{if(t)this._moderatedChannelsById=C({[e]:!0},this._moderatedChannelsById);else{const t=C({},this._moderatedChannelsById);delete t[e],this._moderatedChannelsById=t}}}}),p=i))||p);t.default=f},7984:function(e,t,n){"use strict";var o=n(0);n(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n,o;return(0,p.default)(t=(0,s.default)(t=(0,a.default)((o=n=class extends e{constructor(...e){super(...e),this._handleRenderGroupAvatar=e=>{const t=e.value,n=this.teamChannelsContext.channelsById[t]||this.chatContext.temporalChannelsById[t],{groupsById:o}=this.teamContext,a=o[null==n?void 0:n.groupId];return a&&(0,r.default)(i.default,{group:a,size:l.default.IsNative?16:"xs"})}}},n.displayName=e.displayName||e.name,t=o))||t)||t)||t};var r=o(n(6)),a=o(n(158)),s=o(n(155)),p=o(n(25)),i=o(n(314)),l=(o(n(1)),n(2),o(n(18)))},8080:function(e,t,n){"use strict";var o=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n,o,l,d;return t=i.computed.struct,(0,s.default)(n=(0,p.default)((d=l=class extends e{get _defaultDropdownValue(){const{shareableChannelContentChannelsById:e}=this.teamChannelsContext,{DefaultChannelIdForDropdown:t}=this,{emptyDefaultDropdownValue:n}=this.props;return n?null:e[t]}get channelFieldSpec(){const{_defaultDropdownValue:e}=this;return{type:a.default.Dropdown,label:"Channel",fieldName:"channelId",grow:1,useFuzzySort:!0,fuzzySortMaxResults:25,defaultValue:e,optionSubLabelRenderer:this._handleRenderGroupAvatar,searchPlaceholder:"Type or select a channel name"}}},l.displayName=e.displayName||e.name,o=d,(0,r.default)(o.prototype,"_defaultDropdownValue",[t],Object.getOwnPropertyDescriptor(o.prototype,"_defaultDropdownValue"),o.prototype),(0,r.default)(o.prototype,"channelFieldSpec",[i.computed],Object.getOwnPropertyDescriptor(o.prototype,"channelFieldSpec"),o.prototype),n=o))||n)||n};var r=o(n(3)),a=o(n(68)),s=o(n(155)),p=o(n(7984)),i=n(2)}}]);
//# sourceMappingURL=https://sourcemaps.local.guilded.gg/db0e2dcb/ManageFlowOverlay~ShareChannelContentOverlay.js.map