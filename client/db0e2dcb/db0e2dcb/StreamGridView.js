(window.webpackJsonp=window.webpackJsonp||[]).push([[157],{10286:function(t,e,r){"use strict";var i=r(0);r(566),r(567),r(9),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e,r,i,o,c,p,d,l;return e=s.computed.struct,r=s.computed.struct,i=s.computed.struct,o=s.computed.struct,c=s.computed.struct,l=d=class extends t{get streamsEntries(){const{sortedStreamsByParticipantId:t}=this.streamChannelContext;return Object.entries(t)}get streamCount(){return this.streamsEntries.length}get gridLayoutMatrix(){const{streamCount:t}=this,e=[];let r=1;for(;r<8&&!e.some(t=>t.includes(r));){const i=Math.ceil(t/r);e.push([r,i]),r++}return e}get aspectRatioOptions(){return this.gridLayoutMatrix.map(([t,e])=>[{ratio:9*t/(16*e),rows:t,cols:e},{ratio:9*e/(16*t),rows:e,cols:t}]).flat()}get bestFitAspectRatio(){const{width:t,height:e}=this._size;return this.aspectRatioOptions.reduce((r,i)=>{const o=e/i.ratio,a=t*i.ratio;let s=0;return s=o>t?a/i.rows*(t/i.cols):e/i.rows*(o/i.cols),!r||r.maxStreamSize<s?n(n({},i),{},{maxStreamSize:s}):r},null)}get aspectRatioContainerSize(){const{ratio:t}=this.bestFitAspectRatio;let e,r;return this._size.width>=this._size.height?(r=Math.min(this._size.width*t,this._size.height),e=r/t):(e=Math.min(this._size.height/t,this._size.width),r=e*t),{width:e,height:r}}},d.displayName=t.displayName||t.name,p=l,(0,a.default)(p.prototype,"streamsEntries",[e],Object.getOwnPropertyDescriptor(p.prototype,"streamsEntries"),p.prototype),(0,a.default)(p.prototype,"streamCount",[s.computed],Object.getOwnPropertyDescriptor(p.prototype,"streamCount"),p.prototype),(0,a.default)(p.prototype,"gridLayoutMatrix",[r],Object.getOwnPropertyDescriptor(p.prototype,"gridLayoutMatrix"),p.prototype),(0,a.default)(p.prototype,"aspectRatioOptions",[i],Object.getOwnPropertyDescriptor(p.prototype,"aspectRatioOptions"),p.prototype),(0,a.default)(p.prototype,"bestFitAspectRatio",[o],Object.getOwnPropertyDescriptor(p.prototype,"bestFitAspectRatio"),p.prototype),(0,a.default)(p.prototype,"aspectRatioContainerSize",[c],Object.getOwnPropertyDescriptor(p.prototype,"aspectRatioContainerSize"),p.prototype),p};var o=i(r(15)),a=i(r(3)),s=r(2);function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function n(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){(0,o.default)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}},10287:function(t,e,r){var i=r(7),o=r(10288);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var a,s=0,c={injectType:"lazyStyleTag",insert:"head",singleton:!1},n={};o.locals&&(n.locals=o.locals),n.use=function(t){return s++||(a=i(o,{...c,...t})),n},n.unuse=function(){s>0&&!--s&&(a(),a=null)},t.exports=n},10288:function(t,e,r){(e=r(8)(!1)).push([t.i,".StreamGridView-container{display:flex;height:100%;width:100%;justify-content:center;align-items:center}.StreamGridView-aspect-ratio-container{display:flex;flex-wrap:wrap;justify-content:center;align-items:center}.StreamGridView-grid-item-cols-1{width:calc(100% - 6px)}.StreamGridView-grid-item-cols-2{width:calc(50% - 6px)}.StreamGridView-grid-item-cols-3{width:calc(33% - 6px)}.StreamGridView-grid-item-cols-4{width:calc(25% - 6px)}.StreamGridView-grid-item-cols-5{width:calc(20% - 6px)}.StreamGridView-grid-item-cols-6{width:calc(16.66% - 6px)}.StreamGridView-grid-item-cols-7{width:calc(14.285% - 6px)}.StreamGridView-grid-item-cols-8{width:calc(12.5% - 6px)}",""]),t.exports=e},7920:function(t,e,r){"use strict";var i=r(0);r(9),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,a,s=i(r(6)),c=i(r(3)),n=i(r(5157)),p=i(r(10286)),d=i(r(438)),l=i(r(1405)),u=i(r(1639)),m=i(r(11)),h=i(r(1)),y=r(2),f=r(4);var w=(0,i(r(10)).default)({name:"StreamGridView",loader:()=>r(10287)})(o=(0,d.default)(o=(0,l.default)(o=(0,u.default)(o=(0,p.default)(o=(0,f.observer)((a=class extends h.default.Component{get aspectRatioContainerStyle(){const{width:t,height:e}=this.aspectRatioContainerSize;return{width:"".concat(t,"px"),height:"".concat(e,"px")}}render(){const{className:t}=this.props,{aspectRatioContainerStyle:e,streamsEntries:r,bestFitAspectRatio:i}=this;return h.default.createElement("div",{className:(0,m.default)("StreamGridView-container",t),ref:this.HandleResizeWrapperRef},(0,s.default)("div",{className:"StreamGridView-aspect-ratio-container",style:e},void 0,r.map(([t,e])=>(0,s.default)("div",{className:(0,m.default)("StreamGridView-grid-item","StreamGridView-grid-item-cols-".concat(i.cols))},t,(0,s.default)(n.default,{streams:e})))))}},(0,c.default)(a.prototype,"aspectRatioContainerStyle",[y.computed],Object.getOwnPropertyDescriptor(a.prototype,"aspectRatioContainerStyle"),a.prototype),o=a))||o)||o)||o)||o)||o)||o;e.default=w}}]);
//# sourceMappingURL=https://sourcemaps.local.guilded.gg/db0e2dcb/StreamGridView.js.map