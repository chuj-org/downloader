(window.webpackJsonp=window.webpackJsonp||[]).push([[126],{1479:function(e,t,r){"use strict";var a=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(r(15)),u=r(14),d=a(r(279)),n=a(r(1013)),i=a(r(4471)),p=a(r(428)),s=a(r(17)),l=r(2);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=class{static GetGroups({teamId:e}){return(0,u.coroutine)((function*(){(0,s.default)(e,"teamId is required");const{groups:t}=yield i.default.getGroups({teamId:e});return(0,l.runInAction)(()=>t.map(e=>new p.default(e)))}))()}static GetGroupById({teamId:e,groupId:t}){return(0,u.coroutine)((function*(){(0,s.default)(e,"teamId is required"),(0,s.default)(t,"groupId is required");const{group:r}=yield i.default.getGroupById({teamId:e,groupId:t});return new p.default(r)}))()}static CreateGroup(e){return(0,u.coroutine)((function*(){(0,s.default)(e.teamId,"teamId is required"),(0,s.default)(e.name,"name is required");const{group:t,channel:r,voiceChannel:a}=yield i.default.createGroup(f(f({},e),{},{users:(e.userIds||[]).map(e=>({id:e})),userIds:null}));return{group:new p.default(t),channel:new d.default(r),voiceChannel:new d.default(a)}}))()}static UpdateGroup(e){return(0,u.coroutine)((function*(){(0,s.default)(e.teamId,"teamId is required"),(0,s.default)(e.groupId,"groupId is required");const{group:t}=yield i.default.updateGroup(f(f({},e),{},{users:(e.userIds||[]).map(e=>({id:e})),userIds:null}));return new p.default(t)}))()}static UpdateGroupMembership({teamId:e,groupId:t,type:r}){return(0,s.default)(e,"teamId is required"),(0,s.default)(t,"groupId is required"),(0,s.default)(r,"type is required"),i.default.updateGroupMembership({teamId:e,groupId:t,type:r})}static DeleteGroup({teamId:e,groupId:t}){return(0,u.coroutine)((function*(){return(0,s.default)(e,"teamId is required"),(0,s.default)(t,"groupId is required"),i.default.deleteGroup({teamId:e,groupId:t})}))()}static MoveChannelToGroup({teamId:e,groupId:t,channelId:r}){return(0,u.coroutine)((function*(){return(0,s.default)(e,"teamId is required"),(0,s.default)(t,"groupId is required"),(0,s.default)(r,"channelId is required"),i.default.moveChannelToGroup({teamId:e,groupId:t,channelId:r})}))()}static MoveChannelCategoryToGroup({teamId:e,groupId:t,channelCategoryId:r}){return(0,u.coroutine)((function*(){return(0,s.default)(e,"teamId is required"),(0,s.default)(t,"groupId is required"),(0,s.default)(r,"channelCategoryId is required"),i.default.moveChannelCategoryToGroup({teamId:e,groupId:t,channelCategoryId:r})}))()}static UpdateGroupPriorities({teamId:e,orderedGroupIds:t}){return(0,u.coroutine)((function*(){return(0,s.default)(e,"teamId is required"),(0,s.default)(t,"orderedGroupIds is required"),i.default.updateGroupPriorities({teamId:e,orderedGroupIds:t})}))()}static UpdateUserGroupPriorities({teamId:e,orderedGroupIds:t}){return(0,u.coroutine)((function*(){return(0,s.default)(e,"teamId is required"),(0,s.default)(t,"orderedGroupIds is required"),i.default.updateUserGroupPriorities({teamId:e,orderedGroupIds:t})}))()}static MarkAsRead({teamId:e,groupId:t}){return(0,u.coroutine)((function*(){return(0,s.default)(e,"teamId is required"),(0,s.default)(t,"groupId is required"),i.default.markAsRead({teamId:e,groupId:t})}))()}static ArchiveGroup({teamId:e,groupId:t}){return(0,u.coroutine)((function*(){return(0,s.default)(e,"teamId is required"),(0,s.default)(t,"groupId is required"),i.default.archiveGroup({teamId:e,groupId:t})}))()}static RestoreGroup({teamId:e,groupId:t}){return(0,u.coroutine)((function*(){return(0,s.default)(e,"teamId is required"),(0,s.default)(t,"groupId is required"),i.default.restoreGroup({teamId:e,groupId:t})}))()}static GetGroupChannels({teamId:e,groupId:t}){return(0,u.coroutine)((function*(){(0,s.default)(e,"teamId is required"),(0,s.default)(t,"groupId is required");const{channels:r,badgedChannelContentByChannelId:a,temporalChannels:o,categories:u}=yield i.default.getGroupChannels({teamId:e,groupId:t});let p,c,f;return(0,l.runInAction)(()=>{p=r.map(e=>new d.default(e)),c=o.map(e=>new d.default(e)),f=u.map(e=>new n.default(e))}),{channels:p,badgedChannelContentByChannelId:a,temporalChannels:c,categories:f}}))()}}},4471:function(e,t,r){"use strict";var a=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(r(40)),u=a(r(73)),d=r(152),n=a(r(18));const i=["teamId"],p=["teamId","groupId"],s={withCredentials:!n.default.IsGuildedTwitchExtension};var l={getGroups:({teamId:e})=>(0,d.GuildedRequest)({xhrFields:s,url:"".concat(u.default.BaseUrl,"/teams/").concat(e,"/groups"),type:"GET",contentType:"application/json",dataType:"json"}),getGroupById:({teamId:e,groupId:t})=>(0,d.GuildedRequest)({xhrFields:s,url:"".concat(u.default.BaseUrl,"/teams/").concat(e,"/groups/").concat(t),type:"GET",contentType:"application/json",dataType:"json"}),createGroup:e=>{let{teamId:t}=e,r=(0,o.default)(e,i);return(0,d.GuildedRequest)({xhrFields:s,url:"".concat(u.default.BaseUrl,"/teams/").concat(t,"/groups"),type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify(r)})},updateGroup:e=>{let{teamId:t,groupId:r}=e,a=(0,o.default)(e,p);return(0,d.GuildedRequest)({xhrFields:s,url:"".concat(u.default.BaseUrl,"/teams/").concat(t,"/groups/").concat(r),type:"PUT",contentType:"application/json",dataType:"json",data:JSON.stringify(a)})},updateGroupMembership:({teamId:e,groupId:t,type:r})=>(0,d.GuildedRequest)({xhrFields:s,url:"".concat(u.default.BaseUrl,"/teams/").concat(e,"/groups/").concat(t,"/membership/").concat(r),type:"PUT",contentType:"application/json",dataType:"json"}),deleteGroup:({teamId:e,groupId:t})=>(0,d.GuildedRequest)({xhrFields:s,url:"".concat(u.default.BaseUrl,"/teams/").concat(e,"/groups/").concat(t),type:"DELETE",contentType:"application/json",dataType:"json"}),moveChannelToGroup:({teamId:e,groupId:t,channelId:r})=>(0,d.GuildedRequest)({xhrFields:s,url:"".concat(u.default.BaseUrl,"/teams/").concat(e,"/groups/").concat(t,"/channels/").concat(r,"/move"),type:"PUT",contentType:"application/json",dataType:"json"}),moveChannelCategoryToGroup:({teamId:e,groupId:t,channelCategoryId:r})=>(0,d.GuildedRequest)({xhrFields:s,url:"".concat(u.default.BaseUrl,"/teams/").concat(e,"/groups/").concat(t,"/channelcategories/").concat(r,"/move"),type:"PUT",contentType:"application/json",dataType:"json"}),updateGroupPriorities:({teamId:e,orderedGroupIds:t})=>(0,d.GuildedRequest)({xhrFields:s,url:"".concat(u.default.BaseUrl,"/teams/").concat(e,"/grouppriorities"),type:"PUT",contentType:"application/json",dataType:"json",data:JSON.stringify({groups:t.map(e=>({id:e}))})}),updateUserGroupPriorities:({teamId:e,orderedGroupIds:t})=>(0,d.GuildedRequest)({xhrFields:s,url:"".concat(u.default.BaseUrl,"/teams/").concat(e,"/usergrouppriorities"),type:"PUT",contentType:"application/json",dataType:"json",data:JSON.stringify({groups:t.map(e=>({id:e}))})}),markAsRead:({teamId:e,groupId:t})=>(0,d.GuildedRequest)({xhrFields:s,url:"".concat(u.default.BaseUrl,"/teams/").concat(e,"/groups/").concat(t,"/unread"),type:"PUT",contentType:"application/json",dataType:"json"}),archiveGroup:({teamId:e,groupId:t})=>(0,d.GuildedRequest)({xhrFields:s,url:"".concat(u.default.BaseUrl,"/teams/").concat(e,"/groups/").concat(t,"/archive"),type:"PUT",contentType:"application/json",dataType:"json"}),restoreGroup:({teamId:e,groupId:t})=>(0,d.GuildedRequest)({xhrFields:s,url:"".concat(u.default.BaseUrl,"/teams/").concat(e,"/groups/").concat(t,"/restore"),type:"PUT",contentType:"application/json",dataType:"json"}),getGroupChannels:({teamId:e,groupId:t})=>(0,d.GuildedRequest)({xhrFields:s,url:"".concat(u.default.BaseUrl,"/teams/").concat(e,"/groups/").concat(t,"/channels"),type:"GET",contentType:"application/json",dataType:"json"})};t.default=l},4715:function(e,t,r){"use strict";var a=r(0);r(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,u,d,n,i,p,s=a(r(6)),l=r(14),c=a(r(12)),f=a(r(3)),I=(a(r(13)),a(r(369))),g=a(r(114)),m=a(r(1479)),y=a(r(68)),h=a(r(25)),G=a(r(273)),C=a(r(204)),T=a(r(1)),v=r(2),j=r(4);var q=(o=v.computed.struct,u=v.computed.struct,(0,C.default)(d=(0,h.default)(d=(0,I.default)(d=(0,j.observer)((n=class extends T.default.Component{constructor(...e){var t;super(...e),t=this,this.Header=this.props.channel?"Move channel":"Move category",this.ControlConfiguration=G.default.ConfirmAndCancel,this.IsContentScrollable=!1,(0,c.default)(this,"groupId",i,this),(0,c.default)(this,"_handleChange",p,this),this.Confirm=(0,l.coroutine)((function*(){const{channel:e,channelCategory:r}=t.props,{teamId:a}=t.teamContext,{groupId:o}=t;e?(yield m.default.MoveChannelToGroup({teamId:a,groupId:o,channelId:e.id}),t.channelsContext.updateChannel({teamId:a,channel:{id:e.id,groupId:o,channelCategoryId:null}})):yield m.default.MoveChannelCategoryToGroup({teamId:a,groupId:o,channelCategoryId:r.id})}))}get Disabled(){return!this.groupId}get options(){const{groups:e}=this.teamContext,{channel:t,channelCategory:r}=this.props;return e.filter(e=>e.id!==(null==t?void 0:t.groupId)&&e.id!==(null==r?void 0:r.groupId)).map(e=>({value:e.id,id:e.id,label:e.name}))}get formSpecs(){const{options:e}=this;return{header:"Choose group",sections:[{id:"Move",fieldSpecs:[{type:y.default.Dropdown,fieldName:"group",options:e,defaultValue:e[0],searchable:!0,grow:!0}]}]}}render(){const{formSpecs:e}=this;return(0,s.default)(g.default,{onChange:this._handleChange,formSpecs:e,useScrollWrapper:!0,autoFocus:!0})}},i=(0,f.default)(n.prototype,"groupId",[v.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),(0,f.default)(n.prototype,"Disabled",[v.computed],Object.getOwnPropertyDescriptor(n.prototype,"Disabled"),n.prototype),(0,f.default)(n.prototype,"options",[o],Object.getOwnPropertyDescriptor(n.prototype,"options"),n.prototype),(0,f.default)(n.prototype,"formSpecs",[u],Object.getOwnPropertyDescriptor(n.prototype,"formSpecs"),n.prototype),p=(0,f.default)(n.prototype,"_handleChange",[v.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return({values:e})=>{var t;return this.groupId=null===(t=e.group)||void 0===t?void 0:t.id}}}),d=n))||d)||d)||d)||d);t.default=q}}]);
//# sourceMappingURL=https://sourcemaps.local.guilded.gg/db0e2dcb/MoveToGroupOverlay.js.map