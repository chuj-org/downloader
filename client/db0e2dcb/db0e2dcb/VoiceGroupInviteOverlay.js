(window.webpackJsonp=window.webpackJsonp||[]).push([[198],{10045:function(e,t,r){"use strict";var a=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=a(r(6)),n=a(r(10046)),l=a(r(938)),d=a(r(961)),s=a(r(109)),u=a(r(8281)),c=a(r(1616)),p=a(r(11)),f=a(r(1)),m=(r(2),r(4));var h=(0,a(r(10)).default)({name:"VoiceGroupInviteControl",loader:()=>r(10047)})(i=(0,n.default)(i=(0,m.observer)(i=class extends f.default.Component{render(){const{className:e}=this.props,{canInviteMembers:t}=this.teamContext,{inviteTitle:r,inviteLink:a,inviteGrantsTeamMembership:i,hasFetched:n,isLoading:m,memberOptions:h,selectedMemberIds:b,socialShareInfo:g,showMemberInviteSection:v,inviteLimit:y}=this;return(0,o.default)("div",{className:(0,p.default)("VoiceGroupInviteControl-container",e)},void 0,!m&&n?(0,o.default)(c.default,{text:a,title:r,shareText:"Share this link",socialShareInfo:g}):(0,o.default)(s.default,{className:"VoiceGroupInviteControl-link-loader",fudgeTop:0}),t&&(0,o.default)(u.default,{defaultValue:i,className:"VoiceGroupInviteControl-team-membership-toggle",label:"Include server invite in link",onChange:this._handleToggleChange}),v&&f.default.createElement(f.default.Fragment,null,(0,o.default)(d.default,{className:"VoiceGroupInviteControl-divider",word:"or",wordStyle:"bold"}),(0,o.default)(l.default,{options:h,numSelected:b.length,selectionLimit:y,placeholder:"Search members",fillContainer:!0,selectionLimitText:"No invites are left."})))}})||i)||i)||i;t.default=h},10046:function(e,t,r){"use strict";var a=r(0),i=r(19);r(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,r,a,i,I,w,M,C,x,G;return t=y.observable.struct,(0,b.default)(r=(0,c.default)(r=(0,s.default)(r=(0,u.default)(r=(0,m.default)((G=x=class extends e{constructor(...e){var t;super(...e),t=this,(0,n.default)(this,"inviteGrantsTeamMembership",i,this),(0,n.default)(this,"inviteId",I,this),(0,n.default)(this,"selectedMemberIds",w,this),this.fetchData=(0,o.coroutine)((function*(){const{canInviteMembers:e,teamId:r}=t.teamContext;if(e)return f.default.CreateInvite({teamId:r,source:"Voice room direct invite link"})})),(0,n.default)(this,"_toggleMemberId",M,this),(0,n.default)(this,"_handleToggleChange",C,this)}get voiceGroupId(){return this.props.voiceGroupId}get voiceGroupName(){return this.props.voiceGroupName}get channelId(){return this.props.channelId}handleDataFetch({invite:e}={}){e&&(this.inviteId=e.id)}get inviteLink(){const{inviteId:e,inviteGrantsTeamMembership:t}=this,{canInviteMembers:r,teamId:a}=this.teamContext,{groupId:i}=this.groupContext,o={voiceGroupId:this.voiceGroupId};return r&&t&&e&&(o.inviteId=e),h.default.FriendlyDomainFull+v.default.Root.getPath({teamId:a,groupId:i,channelId:this.channelId},o)}get inviteTitle(){const e=this.voiceGroupName;return"Invite someone to ".concat(e)}get socialShareInfo(){return new g.default({text:"Join my voice chat room!",url:this.inviteLink})}get showMemberInviteSection(){var e;return!!(null===(e=this.memberOptions)||void 0===e?void 0:e.length)}get inviteLimit(){return this.teamChannelContext.canMentionEveryone?null:d.MaxVoiceRoomInvites}get memberOptions(){const{selectedMemberIds:e,inviteLimit:t}=this,{teamInfo:r}=this.teamContext,{membersWithContentAccess:a}=this.teamChannelContext,{userId:i}=this.userContext;return(a||r.activeMembers).reduce((r,a)=>{const o=e.includes(a.id);return a.id!==i&&r.push({title:a.nickname||a.name,selected:o,onClick:this._toggleMemberId,size:"sm",alignment:"right",user:a,image:a.profilePictureSm,color:a.roleColor,color2:a.roleColor2,flavor:p.default.IsDesktop?"gray":null,value:a.id,disabled:t&&!o&&e.length>=t}),r},[])}},x.displayName=e.displayName||e.name,a=G,i=(0,l.default)(a.prototype,"inviteGrantsTeamMembership",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),I=(0,l.default)(a.prototype,"inviteId",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=(0,l.default)(a.prototype,"selectedMemberIds",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),(0,l.default)(a.prototype,"voiceGroupId",[y.computed],Object.getOwnPropertyDescriptor(a.prototype,"voiceGroupId"),a.prototype),(0,l.default)(a.prototype,"voiceGroupName",[y.computed],Object.getOwnPropertyDescriptor(a.prototype,"voiceGroupName"),a.prototype),(0,l.default)(a.prototype,"channelId",[y.computed],Object.getOwnPropertyDescriptor(a.prototype,"channelId"),a.prototype),(0,l.default)(a.prototype,"handleDataFetch",[y.action],Object.getOwnPropertyDescriptor(a.prototype,"handleDataFetch"),a.prototype),(0,l.default)(a.prototype,"inviteLink",[y.computed],Object.getOwnPropertyDescriptor(a.prototype,"inviteLink"),a.prototype),(0,l.default)(a.prototype,"inviteTitle",[y.computed],Object.getOwnPropertyDescriptor(a.prototype,"inviteTitle"),a.prototype),(0,l.default)(a.prototype,"socialShareInfo",[y.computed],Object.getOwnPropertyDescriptor(a.prototype,"socialShareInfo"),a.prototype),(0,l.default)(a.prototype,"showMemberInviteSection",[y.computed],Object.getOwnPropertyDescriptor(a.prototype,"showMemberInviteSection"),a.prototype),(0,l.default)(a.prototype,"inviteLimit",[y.computed],Object.getOwnPropertyDescriptor(a.prototype,"inviteLimit"),a.prototype),M=(0,l.default)(a.prototype,"_toggleMemberId",[y.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{var t,r;this.selectedMemberIds.includes(e)?this.selectedMemberIds=this.selectedMemberIds.filter(t=>e!==t):this.selectedMemberIds=this.selectedMemberIds.concat(e),null===(t=(r=this.props).onInviteesChanged)||void 0===t||t.call(r,this.selectedMemberIds)}}}),C=(0,l.default)(a.prototype,"_handleToggleChange",[y.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.inviteGrantsTeamMembership=e}}),(0,l.default)(a.prototype,"memberOptions",[y.computed],Object.getOwnPropertyDescriptor(a.prototype,"memberOptions"),a.prototype),r=a))||r)||r)||r)||r)||r};var o=i(r(14)),n=a(r(12)),l=a(r(3)),d=(a(r(13)),r(255)),s=a(r(22)),u=a(r(139)),c=a(r(78)),p=a(r(18)),f=a(r(50)),m=a(r(39)),h=a(r(73)),b=a(r(25)),g=a(r(940)),v=a(r(1038)),y=r(2)},10047:function(e,t,r){var a=r(7),i=r(10048);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o,n=0,l={injectType:"lazyStyleTag",insert:"head",singleton:!1},d={};i.locals&&(d.locals=i.locals),d.use=function(e){return n++||(o=a(i,{...l,...e})),d},d.unuse=function(){n>0&&!--n&&(o(),o=null)},e.exports=d},10048:function(e,t,r){(t=r(8)(!1)).push([e.i,".VoiceGroupInviteControl-team-membership-toggle{margin-top:12px;justify-content:space-between;max-width:520px;margin-left:auto;margin-right:auto}.VoiceGroupInviteControl-divider{margin-top:32px;margin-bottom:32px}.VoiceGroupInviteControl-confirm-cancel{display:flex;align-items:center;justify-content:flex-end}.VoiceGroupInviteControl-cancel{margin-right:20px}",""]),e.exports=t},4728:function(e,t,r){"use strict";var a=r(0);r(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o,n,l,d,s=a(r(6)),u=r(14),c=a(r(12)),p=a(r(3)),f=(a(r(13)),a(r(10045))),m=a(r(427)),h=a(r(273)),b=a(r(204)),g=a(r(1)),v=r(2),y=r(4);var I=(i=v.observable.struct,(0,b.default)(o=(0,y.observer)((n=class extends g.default.Component{constructor(...e){var t;super(...e),t=this,(0,c.default)(this,"inviteeIds",l,this),this.ControlConfiguration=h.default.ConfirmAndCancel,this.Header="Invite to voice channel",this.CancelText="Cancel",this.ConfirmText="Invite",this.ConfirmType="gilded",this.Confirm=(0,u.coroutine)((function*(){const{inviteeIds:e}=t,{channelId:r,voiceGroupId:a}=t.props;return m.default.SendGroupInvites({channelId:r,voiceGroupId:a,userIds:e})})),(0,c.default)(this,"updateInvitees",d,this)}render(){const{teamId:e,channelId:t,voiceGroupId:r,voiceGroupName:a}=this.props;return(0,s.default)(f.default,{teamId:e,channelId:t,voiceGroupId:r,voiceGroupName:a,onInviteesChanged:this.updateInvitees})}},l=(0,p.default)(n.prototype,"inviteeIds",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=(0,p.default)(n.prototype,"updateInvitees",[v.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.inviteeIds=e}}}),o=n))||o)||o);t.default=I},8281:function(e,t,r){"use strict";var a=r(0);r(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o,n,l,d,s,u=a(r(6)),c=a(r(12)),p=a(r(3)),f=(a(r(13)),a(r(569))),m=a(r(11)),h=a(r(1)),b=r(2),g=r(4);var v=(i=(0,a(r(10)).default)({name:"SimpleToggle",loader:()=>r(8282)}),o=b.observable.ref,i(n=(0,g.observer)((l=class extends h.default.Component{constructor(...e){super(...e),(0,c.default)(this,"input",d,this),(0,c.default)(this,"_handleSwitchInputRef",s,this)}render(){const{input:e}=this,{onChange:t,className:r,defaultValue:a,isDisabled:i,label:o="Show server average"}=this.props;return(0,u.default)("div",{className:(0,m.default)("SimpleToggle-container",!!(null==e?void 0:e.value)&&"SimpleToggle-container-on",r)},void 0,(0,u.default)("div",{className:"SimpleToggle-label"},void 0,o),h.default.createElement(f.default,{className:"SimpleToggle-switch",defaultValue:a,onChange:t,isDisabled:i,ref:this._handleSwitchInputRef}))}},d=(0,p.default)(l.prototype,"input",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=(0,p.default)(l.prototype,"_handleSwitchInputRef",[b.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.input=e}}),n=l))||n)||n);t.default=v},8282:function(e,t,r){var a=r(7),i=r(8283);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o,n=0,l={injectType:"lazyStyleTag",insert:"head",singleton:!1},d={};i.locals&&(d.locals=i.locals),d.use=function(e){return n++||(o=a(i,{...l,...e})),d},d.unuse=function(){n>0&&!--n&&(o(),o=null)},e.exports=d},8283:function(e,t,r){(t=r(8)(!1)).push([e.i,".SimpleToggle-container{display:flex;align-items:center}.SimpleToggle-label{margin-right:12px;color:#a3a3ac;font-size:14px;line-height:145%;font-weight:normal;line-height:19px}.SimpleToggle-container-on .SimpleToggle-label{color:#ececee}",""]),t.locals={confirmationGreen:"#53da33",confirmationGreenDesaturated:"#6cba50",gilded4:"#ecb200",gilded5:"#e0a900",gilded6:"#be8c00",errorRedDesaturated:"#df5353",gray:"#a3a3ac",bodyTextWhite:"#ececee",bodyTextWiteMask64:"rgba(236,236,238,.64)",border:"#848a94",errorRed:"#ff6b6b",warnYellow:"#ffb400",nuxBlue:"#008ae1",calendarOrange:"#d89332",calendarBlue:"#355bf8",calendarGreen:"#6cba50",calendarSeagreen:"#30a68f",calendarJewelgreen:"#148f33",calendarPurple:"#a250e8",calendarPurpleMask7:"rgba(162,80,232,.07)",calendarPurpleMask10:"rgba(162,80,232,.1)",mediumPurple3:"#dab9f6",mediumPurple3Mask10:"rgba(218,185,246,.1)",dropmenuGray:"#4f515d",menuGray:"#4f515d",menuGrayMask30:"rgba(79,81,93,.3)",yellowHighlight:"#ffeca0",desaturatedReddit:"#ea794f",desaturatedTwitter:"#64a9d4",desaturatedYoutube:"#cf5c58",whatsapp:"#25d366",github:"#24292e",vimeo:"#1ab7ea",gilded:"#f5c400",orangeRed:"#ff4500",gameNavBlack:"#32343d",gameNavBlackMask36:"rgba(50,52,61,.36)",white:"#fff",gilded2:"#f8d64c",gilded2Mask5:"rgba(248,214,76,.05)",gilded2Mask7:"rgba(248,214,76,.07)",gilded2Mask10:"rgba(248,214,76,.1)",gilded2Mask20:"rgba(248,214,76,.2)",gilded2Mask50:"rgba(248,214,76,.5)",nuxBlueDesaturatedMask7:"rgba(174,189,252,.07)",restGet:"#335a9e",restHead:"#a250e8",restPost:"#6cba50",restPut:"#d89332",restPatch:"#4f515d",restDelete:"#ff6b6b",mysteriousGray:"#212329",backgroundBlack:"#1e2025",yellowThree:"#ffb400",calendarGreenDesaturated:"#476047",calendarRed:"#df5353",calendarRedMask30:"rgba(223,83,83,.2)",calendarRedDesaturated:"#694148",druidOrange:"#e4b370",sidebarBlack:"#292b32",brandyPunch:"#d89332",navBlack:"#191b1f",yellow1:"gold",yellow2:"#e4c519",yellow3:"#ffb400",yellow4:"#ffb400",yellow5:"#d89f0c",yellow6:"#ffd800",yellow6Mask35:"rgba(255,216,0,.35)",gameNavGray:"#30323a",skeletonGray:"#50525f",blackPearl:"#222329",twitch:"#9146ff",bnet:"#078ad2",psn:"#00134c",xbox:"#1c6d00",steam:"#231f20",origin:"#e73b00",youtube:"red",twitter:"#1189f4",facebook:"#335a9e",switch:"#e60012",patreon:"#ff424d",roblox:"#00a2ff",epic:"#2f2d2e",bnetSecondary:"#009ae4",psnSecondary:"#2d64e6",xboxSecondary:"#52b043",steamSecondary:"#096295",twitchSecondary:"#9146ff",epicSecondary:"#0078f2",grayMask20:"rgba(163,163,172,.2)",grayMask40:"rgba(163,163,172,.4)",goldenShadow:"rgba(255,234,0,.5)",colorChannelGray:"#373943"},e.exports=t}}]);
//# sourceMappingURL=https://sourcemaps.local.guilded.gg/db0e2dcb/VoiceGroupInviteOverlay.js.map