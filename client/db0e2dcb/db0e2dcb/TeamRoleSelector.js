(window.webpackJsonp=window.webpackJsonp||[]).push([[180],{4690:function(e,t,r){"use strict";var o=r(0);r(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,a,s=o(r(6)),i=r(14),n=o(r(3)),c=r(204),d=o(r(5054)),p=o(r(273)),b=o(r(18)),u=o(r(674)),m=r(23),f=o(r(938)),h=o(r(11)),g=o(r(1)),y=r(2),R=r(4);var w=(0,o(r(10)).default)({name:"TeamRoleSelector",loader:()=>r(9811)})(l=(0,d.default)(l=(0,R.observer)((a=class extends g.default.Component{constructor(...e){super(...e),this.Header="Roles",this.Confirm=(0,i.coroutine)((function*(){})),this.ControlConfiguration=p.default.BackArrow,this.Type=b.default.IsNative?c.OverlayDisplayTypes.Sheet:c.OverlayDisplayTypes.Transient,this.ContentType=b.default.IsDesktop?c.OverlayDisplayTypes.Transient:c.OverlayDisplayTypes.Sheet}get canViewSearchControl(){const{member:e}=this.props,{canManageRoles:t,teamInfo:r}=this.teamContext;return!e||t||!!(null==r?void 0:r.hasSelfAssignableRoles)}get showRolesList(){const{member:e,showRolesList:t}=this.props;return e&&t}render(){const{roleOptions:e,canViewSearchControl:t,showRolesList:r,size:o="md"}=this,{member:l,onCloseSelector:a,className:i}=this.props;return(0,s.default)("div",{className:(0,h.default)("TeamRoleSelector-container","TeamRoleSelector-container-size-".concat(o),i),onClick:m.stopEventPropagationAndDefault},void 0,r&&(0,s.default)("div",{className:"TeamRoleSelector-header"},void 0,"Roles"),r&&(0,s.default)("div",{className:"TeamRoleSelector-list"},void 0,l.membershipRoleIds.map(e=>(0,s.default)(u.default,{className:"TeamRoleSelector-role",roleId:e,member:l,size:b.default.IsDesktop?"md":"lg",alwaysShowRemove:!0},e)),0===l.membershipRoleIds.length&&(0,s.default)("div",{className:"TeamRoleSelector-none"},void 0,"No roles assigned")),r&&t&&(0,s.default)("div",{className:"TeamRoleSelector-header TeamRoleSelector-add-roles-header"},void 0,"Add roles"),t&&(0,s.default)(f.default,{className:"TeamRoleSelector-search-select",options:e,hideSelectOptions:!0,placeholder:"Search roles",noOptionsText:"All roles added",dismissOnContentClick:!1,size:b.default.IsDesktop?"sm":"md",onEscapePressed:a,autoFocus:!0}))}},(0,n.default)(a.prototype,"canViewSearchControl",[y.computed],Object.getOwnPropertyDescriptor(a.prototype,"canViewSearchControl"),a.prototype),(0,n.default)(a.prototype,"showRolesList",[y.computed],Object.getOwnPropertyDescriptor(a.prototype,"showRolesList"),a.prototype),l=a))||l)||l)||l;t.default=w},5054:function(e,t,r){"use strict";var o=r(0);r(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,r,o,a,u,f;return t=b.computed.struct,r=b.computed.struct,(0,p.default)((f=u=class extends e{constructor(...e){var t;super(...e),t=this,this.GetRoleLabelStyle=e=>{const{color:t,color2:r}=e;return r?m(m({},n.default.GetTextGradientStyle(t,r)),{},{maxWidth:"fit-content"}):{color:(0,i.GetRoleColor)(t)}},this.ConvertRoleToOption=e=>{const{IsSingleSelect:t=!0,IncludeRoleOptionOnClick:r=!0}=this;return{title:"@".concat(e.name),label:"@".concat(e.name),rgbColorNormalized:(0,i.GetRoleColor)(e.color),color:e.color,color2:e.color2,imageType:"icon",onClick:r?this._handleAssignRole:null,size:d.default.IsDesktop?"sm":"md",infoSize:d.default.IsDesktop?"sm":"md",flavor:"transparent",value:e.id,isSingleSelect:t,labelStyle:this.GetRoleLabelStyle(e)}},this._handleAssignRole=function(){var e=(0,l.coroutine)((function*(e){const{teamId:r}=t.teamContext,{member:o,onRoleSelect:l,onCloseSelector:a}=t.props;var s,i;o?(yield c.default.AssignTeamRole({teamId:r,userId:o.id,roleId:e}),o.addRoleId(e)):(null===(s=t.OnRoleSelect)||void 0===s||s.call(t,e),null==l||l(e),null===(i=t.close)||void 0===i||i.call(t),null==a||a())}));return function(t){return e.apply(this,arguments)}}()}get availableMembershipRoles(){const{member:e,excludedRoleIds:t,excludeHigherPriorityRoles:r=!0,includeBotRoles:o=this.IncludeBotRoles}=this.props,{IncludeCurrentRole:l=!1}=this,{teamInfo:a,viewerIsAdmin:s,memberInfo:i,canManageRoles:n}=this.teamContext;return(o?[...a.assignableRoles,...a.botRoles]:a.assignableRoles).filter(({id:o,isSelfAssignable:a,priority:c})=>!((null==t?void 0:t.includes(o))||(null==e?void 0:e.membershipRoleIds.includes(o)))&&(!r||(a&&(i.rank>c||(null==e?void 0:e.id)===i.id)||s||n&&i.rank>c||l&&i.rank===c)))}get roleOptions(){return this.availableMembershipRoles.map(this.ConvertRoleToOption)}},u.displayName=e.displayName||e.name,a=f,(0,s.default)(a.prototype,"availableMembershipRoles",[t],Object.getOwnPropertyDescriptor(a.prototype,"availableMembershipRoles"),a.prototype),(0,s.default)(a.prototype,"roleOptions",[r],Object.getOwnPropertyDescriptor(a.prototype,"roleOptions"),a.prototype),o=a))||o};var l=r(14),a=o(r(15)),s=o(r(3)),i=r(153),n=o(r(160)),c=o(r(50)),d=o(r(18)),p=o(r(25)),b=r(2);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},9811:function(e,t,r){var o=r(7),l=r(9812);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var a,s=0,i={injectType:"lazyStyleTag",insert:"head",singleton:!1},n={};l.locals&&(n.locals=l.locals),n.use=function(e){return s++||(a=o(l,{...i,...e})),n},n.unuse=function(){s>0&&!--s&&(a(),a=null)},e.exports=n},9812:function(e,t,r){(t=r(8)(!1)).push([e.i,".TeamRoleSelector-container{display:flex;flex-direction:column}.TeamRoleSelector-container .TeamRoleSelector-search-select{width:100%;padding:12px;flex:1}.TeamRoleSelector-list{flex-shrink:0;padding:0 12px 8px 12px;max-height:120px;overflow-y:auto;overflow-y:overlay;display:flex;flex-wrap:wrap;width:100%;scrollbar-width:thin;scrollbar-color:rgba(25,27,31,.8) transparent}.TeamRoleSelector-list::-webkit-scrollbar{width:4px}.TeamRoleSelector-list::-webkit-scrollbar:horizontal{height:4px}.TeamRoleSelector-list::-webkit-scrollbar-thumb{border-color:transparent;border:2px solid transparent;border-radius:3px;cursor:move;background-color:#191b1f}.TeamRoleSelector-list::-webkit-scrollbar-thumb,.TeamRoleSelector-list::-webkit-scrollbar-track{background-clip:padding-box;border-radius:7.5px;border-style:solid;border-width:3px}.TeamRoleSelector-list::-webkit-scrollbar-track{background-color:transparent !important;border-color:transparent !important;border:2px solid transparent !important;border-width:initial}.TeamRoleSelector-list::-webkit-scrollbar,.TeamRoleSelector-list::-webkit-scrollbar:hover,.TeamRoleSelector-list::-webkit-scrollbar-thumb:vertical,.TeamRoleSelector-list::-webkit-scrollbar,.TeamRoleSelector-list::-webkit-scrollbar,.TeamRoleSelector-list::-webkit-scrollbar-track,.TeamRoleSelector-list::-webkit-scrollbar-corner,.TeamRoleSelector-list::-webkit-scrollbar-track-piece,.TeamRoleSelector-list::-webkit-scrollbar-track-piece-thumb,.TeamRoleSelector-list::-webkit-scrollbar-track-piece-corner,.TeamRoleSelector-list::-webkit-scrollbar-track-piece-button{background-color:transparent;background:transparent}.TeamRoleSelector-list::-webkit-scrollbar-thumb{background:rgba(25,27,31,.8) !important}.TeamRoleSelector-role{margin:0 4px 4px 0;max-width:100%}.TeamRoleSelector-container-size-sm{width:220px;max-width:336px}.TeamRoleSelector-container-size-md{width:270px;max-width:336px}.TeamRoleSelector-none{color:#a3a3ac;font-size:14px;line-height:145%;font-weight:normal;line-height:19px}.TeamRoleSelector-add-roles-header{border-top:1px solid rgba(163,163,172,.2)}.TeamRoleSelector-header{padding:12px 12px 4px 12px;font-size:12px;line-height:14px;color:#a3a3ac;text-transform:uppercase;font-weight:700}.TeamRoleSelector-header + .TeamRoleSelector-search-select{padding:0 12px 12px 12px}",""]),t.locals={confirmationGreen:"#53da33",confirmationGreenDesaturated:"#6cba50",gilded4:"#ecb200",gilded5:"#e0a900",gilded6:"#be8c00",errorRedDesaturated:"#df5353",gray:"#a3a3ac",bodyTextWhite:"#ececee",bodyTextWiteMask64:"rgba(236,236,238,.64)",border:"#848a94",errorRed:"#ff6b6b",warnYellow:"#ffb400",nuxBlue:"#008ae1",calendarOrange:"#d89332",calendarBlue:"#355bf8",calendarGreen:"#6cba50",calendarSeagreen:"#30a68f",calendarJewelgreen:"#148f33",calendarPurple:"#a250e8",calendarPurpleMask7:"rgba(162,80,232,.07)",calendarPurpleMask10:"rgba(162,80,232,.1)",mediumPurple3:"#dab9f6",mediumPurple3Mask10:"rgba(218,185,246,.1)",dropmenuGray:"#4f515d",menuGray:"#4f515d",menuGrayMask30:"rgba(79,81,93,.3)",yellowHighlight:"#ffeca0",desaturatedReddit:"#ea794f",desaturatedTwitter:"#64a9d4",desaturatedYoutube:"#cf5c58",whatsapp:"#25d366",github:"#24292e",vimeo:"#1ab7ea",gilded:"#f5c400",orangeRed:"#ff4500",gameNavBlack:"#32343d",gameNavBlackMask36:"rgba(50,52,61,.36)",white:"#fff",gilded2:"#f8d64c",gilded2Mask5:"rgba(248,214,76,.05)",gilded2Mask7:"rgba(248,214,76,.07)",gilded2Mask10:"rgba(248,214,76,.1)",gilded2Mask20:"rgba(248,214,76,.2)",gilded2Mask50:"rgba(248,214,76,.5)",nuxBlueDesaturatedMask7:"rgba(174,189,252,.07)",restGet:"#335a9e",restHead:"#a250e8",restPost:"#6cba50",restPut:"#d89332",restPatch:"#4f515d",restDelete:"#ff6b6b",mysteriousGray:"#212329",backgroundBlack:"#1e2025",yellowThree:"#ffb400",calendarGreenDesaturated:"#476047",calendarRed:"#df5353",calendarRedMask30:"rgba(223,83,83,.2)",calendarRedDesaturated:"#694148",druidOrange:"#e4b370",sidebarBlack:"#292b32",brandyPunch:"#d89332",navBlack:"#191b1f",yellow1:"gold",yellow2:"#e4c519",yellow3:"#ffb400",yellow4:"#ffb400",yellow5:"#d89f0c",yellow6:"#ffd800",yellow6Mask35:"rgba(255,216,0,.35)",gameNavGray:"#30323a",skeletonGray:"#50525f",blackPearl:"#222329",twitch:"#9146ff",bnet:"#078ad2",psn:"#00134c",xbox:"#1c6d00",steam:"#231f20",origin:"#e73b00",youtube:"red",twitter:"#1189f4",facebook:"#335a9e",switch:"#e60012",patreon:"#ff424d",roblox:"#00a2ff",epic:"#2f2d2e",bnetSecondary:"#009ae4",psnSecondary:"#2d64e6",xboxSecondary:"#52b043",steamSecondary:"#096295",twitchSecondary:"#9146ff",epicSecondary:"#0078f2",grayMask20:"rgba(163,163,172,.2)",grayMask40:"rgba(163,163,172,.4)",goldenShadow:"rgba(255,234,0,.5)",colorChannelGray:"#373943",streamGradient:"linear-gradient(63.5deg, #ff0000 -29.74%, #b258ff 83.36%)"},e.exports=t}}]);
//# sourceMappingURL=https://sourcemaps.local.guilded.gg/db0e2dcb/TeamRoleSelector.js.map