(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{4640:function(e,t,a){"use strict";var n=a(0);a(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=n(a(6)),l=n(a(9308)),r=n(a(9309)),s=n(a(273)),d=n(a(1)),u=(a(2),a(4));var p=(0,n(a(10)).default)({name:"CreateTeamEvent",loader:()=>a(9315)})(i=(0,l.default)(i=(0,u.observer)(i=class extends d.default.Component{constructor(...e){super(...e),this.ControlConfiguration=s.default.ConfirmAndCancel,this.IsUnstyled=!0}render(){const{event:e}=this,{defaultDay:t,defaultDateTimeRange:a,isEditingFamily:n,showChannelPicker:i,defaultChannels:l}=this.props;return(0,o.default)("div",{className:"CreateTeamEvent-container"},void 0,(0,o.default)(r.default,{onChange:this._handleChange,event:e,isEditingFamily:n,defaultDay:t,defaultDateTimeRange:a,showChannelPicker:i,defaultChannels:l}))}})||i)||i)||i;t.default=p},9308:function(e,t,a){"use strict";var n=a(0);a(36),a(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,a,n,o,R,F,T,P;return(0,u.default)(t=(0,O.default)(t=(0,g.default)(t=(0,b.default)(t=(0,w.default)(t=(0,v.default)((P=T=class extends e{constructor(...e){var t;super(...e),t=this,(0,r.default)(this,"isValid",n,this),(0,r.default)(this,"hasChanged",o,this),(0,r.default)(this,"eventInfo",R,this),(0,r.default)(this,"_handleChange",F,this),this.Confirm=(0,l.coroutine)((function*(){var e,a;const{event:n}=t,{isEditingFamily:o,isFuture:l,showChannelPicker:r,creationSource:s}=t.props,{teamId:u}=t.teamContext,{gameId:v}=t.gameContext,{userId:y}=t.userContext,g=I(I({},t.eventInfo),{},{gameId:v,happensAtClientTimezone:d.default.GetTimezoneName()}),b=r?null===(e=t.teamChannelsContext.channelsById[g.channel.value])||void 0===e?void 0:e.channelInfo:t.teamChannelContext.channel.channelInfo,{channelId:O,groupId:w}=b;if(null===(a=C.default.GeneralCreation)||void 0===a||a.play(),!n){const e=(yield p.default.With(t.makeRequest(h.default.CreateEvent({channelId:O,eventInfo:g}))).Log((e,t)=>{let{success:a}=t,n=(0,i.default)(t,S);a&&p.default.Log(c.default.CalendarEventCreated,I(I({},n),{},{gameId:v,channelId:O,groupId:w,teamId:u,userId:y,eventName:g.name,eventId:e.id,isCustomFormRequired:g.isCustomFormRequired,isOpen:g.isOpen,isRoleRestricted:g.isRoleRestricted,isRsvpLimited:g.isRsvpLimited,isAllDay:g.isAllDay,creationSource:s||V.CreationSource.Calendar}))})).id;return f.default.emit(m.default.TeamCalendarEventMutated,{eventId:e}),{eventId:e,channelId:O,groupId:w}}if(o){var D;const e=(null===(D=n.allowedRoleIds)||void 0===D?void 0:D.length)&&!g.isRoleRestricted?[]:g.allowedRoleIds;yield t.makeRequest(h.default.UpdateEventFamily({channelId:O,eventInfo:I(I({},g),{},{allowedRoleIds:e}),familyId:n.familyId,fromEventId:l?n.id:null}))}else yield t.makeRequest(h.default.UpdateEvent({channelId:O,eventId:n.id,eventInfo:g}));return f.default.emit(m.default.TeamCalendarEventMutated,{eventId:n.id}),{eventId:n.id,channelId:O,groupId:w}}))}get event(){const{event:e}=this.props;return e?new y.default(I(I({},e._eventInfo),{},{description:e.description})):null}get Disabled(){return!this.isValid||!this.hasChanged}get Header(){const{isEditingFamily:e}=this.props;return this.props.event?e?"Edit event series":"Edit event":"Create an event"}get ConfirmText(){return this.props.event?"Update":"Create"}},T.displayName=e.displayName||e.name,a=P,n=(0,s.default)(a.prototype,"isValid",[D.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),o=(0,s.default)(a.prototype,"hasChanged",[D.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),R=(0,s.default)(a.prototype,"eventInfo",[D.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),(0,s.default)(a.prototype,"event",[D.computed],Object.getOwnPropertyDescriptor(a.prototype,"event"),a.prototype),F=(0,s.default)(a.prototype,"_handleChange",[D.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return({isValid:e,hasChanged:t,eventInfo:a})=>{this.eventInfo=a,this.isValid=e,this.hasChanged=t}}}),(0,s.default)(a.prototype,"Disabled",[D.computed],Object.getOwnPropertyDescriptor(a.prototype,"Disabled"),a.prototype),(0,s.default)(a.prototype,"Header",[D.computed],Object.getOwnPropertyDescriptor(a.prototype,"Header"),a.prototype),(0,s.default)(a.prototype,"ConfirmText",[D.computed],Object.getOwnPropertyDescriptor(a.prototype,"ConfirmText"),a.prototype),t=a))||t)||t)||t)||t)||t)||t};var i=n(a(40)),o=n(a(15)),l=a(14),r=n(a(12)),s=n(a(3)),d=(n(a(13)),n(a(70))),u=n(a(39)),p=n(a(42)),c=n(a(35)),f=n(a(38)),h=n(a(295)),v=n(a(56)),y=n(a(374)),m=n(a(277)),g=n(a(78)),b=n(a(155)),O=n(a(25)),w=n(a(22)),D=a(2),C=n(a(349)),V=a(346);const S=["success"];function R(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function I(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?R(Object(a),!0).forEach((function(t){(0,o.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}},9309:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=n(a(6)),l=n(a(9310)),r=n(a(9311)),s=n(a(9312)),d=n(a(1403)),u=n(a(11)),p=n(a(1)),c=(a(2),a(4));var f=(0,n(a(10)).default)({name:"CreateTeamEventForm",loader:()=>a(9313)})(i=(0,l.default)(i=(0,c.observer)(i=class extends p.default.Component{render(){const{event:e,isEditingFamily:t,defaultDay:a,defaultDateTimeRange:n,className:i,showChannelPicker:l,defaultChannels:p}=this.props,{TabSpecs:c}=this;return(0,o.default)(d.default,{className:(0,u.default)("CreateTeamEventForm-container",i),tabSpecs:c,type:"compact",renderAllChildren:!0},void 0,(0,o.default)(r.default,{onChange:this._handleBasicChange,event:e,isEditingFamily:t,defaultDay:a,defaultDateTimeRange:n,showChannelPicker:l,defaultChannels:p}),(0,o.default)(s.default,{onChange:this._handleAdvancedChange,event:e}))}})||i)||i)||i;t.default=f},9310:function(e,t,a){"use strict";var n=a(0);a(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,a,n,i,f,v,y,m,g,b,O,w,D,C,V,S;return(0,p.default)(t=(0,u.default)(t=(0,s.default)(t=(0,r.default)((S=V=class extends e{constructor(...e){super(...e),(0,o.default)(this,"basicValues",n,this),(0,o.default)(this,"advancedValues",i,this),(0,o.default)(this,"notificationValues",f,this),(0,o.default)(this,"hasBasicChanged",v,this),(0,o.default)(this,"hasAdvancedChanged",y,this),(0,o.default)(this,"hasNotificationsChanged",m,this),(0,o.default)(this,"isBasicValid",g,this),(0,o.default)(this,"isAdvancedValid",b,this),(0,o.default)(this,"isNotificationsValid",O,this),this.reactions=[{dataFn:()=>{const{basicValues:e,advancedValues:t,notificationValues:a,hasUnsavedChanges:n,isValid:i}=this;return{basicValues:e,advancedValues:t,notificationValues:a,hasUnsavedChanges:n,isValid:i}},reaction:()=>this._handleChange()}],(0,o.default)(this,"_handleBasicChange",w,this),(0,o.default)(this,"_handleAdvancedChange",D,this),(0,o.default)(this,"_handleNotificationsChange",C,this),this._handleChange=()=>{var e,t;const{basicValues:a,advancedValues:n,hasUnsavedChanges:i,notificationValues:o,isValid:l}=this,{event:r}=this.props;if(!a)return;const s=d.default.GetEventTimeMetadata(h(h({},a),{},{eventToEdit:r}));this.props.onChange({isValid:l,hasChanged:i,eventInfo:h(h(h(h({},a),n),o),{},{isAllDay:a.isAllDay||!!(null==s?void 0:s.isAllDay),colorLabel:(null===(e=a.colorLabel)||void 0===e?void 0:e.value)||"#ecb200",visibility:null===(t=a.visibility)||void 0===t?void 0:t.value,happensAt:null==s?void 0:s.happensAt,durationInMinutes:null==s?void 0:s.durationInMinutes})})}}get TabSpecs(){return{TabOptions:[{name:"Basic info"},{name:"Advanced"}].filter(Boolean)}}get hasUnsavedChanges(){return this.hasBasicChanged||this.hasAdvancedChanged||this.hasNotificationsChanged}get isValid(){return this.isBasicValid&&this.isAdvancedValid}},V.displayName=e.displayName||e.name,a=S,n=(0,l.default)(a.prototype,"basicValues",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),i=(0,l.default)(a.prototype,"advancedValues",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),f=(0,l.default)(a.prototype,"notificationValues",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),v=(0,l.default)(a.prototype,"hasBasicChanged",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y=(0,l.default)(a.prototype,"hasAdvancedChanged",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m=(0,l.default)(a.prototype,"hasNotificationsChanged",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g=(0,l.default)(a.prototype,"isBasicValid",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b=(0,l.default)(a.prototype,"isAdvancedValid",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),O=(0,l.default)(a.prototype,"isNotificationsValid",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,l.default)(a.prototype,"TabSpecs",[c.computed],Object.getOwnPropertyDescriptor(a.prototype,"TabSpecs"),a.prototype),(0,l.default)(a.prototype,"hasUnsavedChanges",[c.computed],Object.getOwnPropertyDescriptor(a.prototype,"hasUnsavedChanges"),a.prototype),(0,l.default)(a.prototype,"isValid",[c.computed],Object.getOwnPropertyDescriptor(a.prototype,"isValid"),a.prototype),w=(0,l.default)(a.prototype,"_handleBasicChange",[c.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return({isValid:e,values:t,hasChanged:a})=>{this.basicValues=t,this.hasBasicChanged=a,this.isBasicValid=e}}}),D=(0,l.default)(a.prototype,"_handleAdvancedChange",[c.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return({isValid:e,values:t,hasChanged:a})=>{this.advancedValues=t,this.hasAdvancedChanged=a,this.isAdvancedValid=e}}}),C=(0,l.default)(a.prototype,"_handleNotificationsChange",[c.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return({isValid:e,values:t,hasChanged:a})=>{this.notificationValues=t,this.hasNotificationsChanged=a,this.isNotificationsValid=e}}}),t=a))||t)||t)||t)||t};var i=n(a(15)),o=n(a(12)),l=n(a(3)),r=(n(a(13)),n(a(1010))),s=n(a(37)),d=n(a(454)),u=n(a(56)),p=n(a(25)),c=a(2);function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}},9311:function(e,t,a){"use strict";var n=a(0);a(36),a(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o,l,r,s,d,u=n(a(6)),p=n(a(12)),c=n(a(3)),f=(n(a(13)),n(a(199))),h=n(a(18)),v=n(a(56)),y=n(a(25)),m=n(a(48)),g=n(a(68)),b=a(346),O=n(a(114)),w=n(a(1)),D=a(2),C=a(4),V=n(a(347)),S=n(a(155)),R=n(a(61)),I=n(a(86)),F=n(a(47));var T=(i=D.computed.struct,o=D.computed.struct,(0,y.default)(l=(0,v.default)(l=(0,S.default)(l=(0,C.observer)((r=class extends w.default.Component{constructor(...e){var t,a,n,i,o;super(...e),(0,p.default)(this,"values",s,this),this.EventNameFieldSpec={type:g.default.Text,fieldName:"name",label:"Event name",validationFunction:f.default.ValidateEventName,defaultValue:null===(t=this.props.event)||void 0===t?void 0:t.name,rowCollapseId:"eventTitleRow"},this.IsAllDayFieldSpec={type:g.default.Switch,fieldName:"isAllDay",defaultValue:!!(null===(a=this.props.event)||void 0===a?void 0:a.isAllDay),grow:h.default.IsNative?1:0,label:"All day",iconName:"icon-clock-new"},this.LocationFieldSpec={type:g.default.Text,fieldName:"location",label:"Location (optional)",validationFunction:f.default.ValidateEventLocation,grow:1,isOptional:!0,defaultValue:null===(n=this.props.event)||void 0===n?void 0:n.location},this.LinkFieldSpec={type:g.default.Text,fieldName:"link",validationFunction:f.default.ValidateIsUrl,label:"Url (optional)",grow:1,isOptional:!0,defaultValue:null===(i=this.props.event)||void 0===i?void 0:i.link},this.DescriptionFieldSpec={type:g.default.RichText,fieldName:"description",defaultValue:null===(o=this.props.event)||void 0===o?void 0:o.description,grow:1,isOptional:!0,label:h.default.IsNative?"Description (optional)":null,placeholder:"Description (optional)",style:"padded",validationFunction:e=>{if(I.default.GetContentLength((0,D.toJS)(e))>F.default.MaxLengths.EventDescription)return"Event description is too long."},showValidationErrors:!0},this.MetadataFieldSpecs=[this.LocationFieldSpec,this.LinkFieldSpec,this.DescriptionFieldSpec],this.RepeatInfoFieldValueReactions={dateAndTimeRange:e=>e&&{repeatInfo:{repeatEndsDate:e.startMoment}},dateRange:e=>e&&{repeatInfo:{repeatEndsDate:e.startDate}}},(0,p.default)(this,"_handleChange",d,this)}get hasUnsavedChanges(){return this.hasBasicChanged||this.hasAdvancedChanged}get isValid(){return this.isBasicValid&&this.isAdvancedValid}get event(){return this.props.event}get channelOptions(){const{showChannelPicker:e,defaultChannels:t}=this.props;return e&&(t||this.teamChannelsContext.channels).filter(e=>e.channelType===R.default.Calendar).map(e=>({label:e.name,iconName:e.iconName,value:e.channelInfo.id}))}get showChannelOptions(){const{channelOptions:e}=this;return!!(null==e?void 0:e.length)}get colorLabelFieldSpec(){const{event:e}=this,{gameInfo:t}=this.gameContext,a=t?[{value:t.rgbColorNormalized}].concat(b.EVENT_COLOR_LABEL_OPTIONS):b.EVENT_COLOR_LABEL_OPTIONS;return{type:g.default.IconMenu,fieldName:"colorLabel",defaultValue:(null==e?void 0:e.colorLabel)&&{value:e.colorLabel}||a[0],grow:0,rowCollapseId:"eventTitleRow",iconType:"color",options:a,size:"sm"}}get channelsFieldSpec(){return this.showChannelOptions&&{type:g.default.Dropdown,label:"Calendar channel",fieldName:"channel",grow:1,options:this.channelOptions,useFuzzySort:!0}}get rawDefaultDay(){return this.props.defaultDay}get defaultDay(){const{rawDefaultDay:e}=this;return e&&new m.default(e.format("MM-DD-YYYY"),"MM-DD-YYYY")}get defaultDateTimeRange(){return this.props.defaultDateTimeRange}get isEditingFamily(){return this.props.isEditingFamily}get startDate(){var e,t;const{values:a}=this;return(null==a?void 0:null===(e=a.dateAndTimeRange)||void 0===e?void 0:e.startMoment)||(null==a?void 0:null===(t=a.dateRange)||void 0===t?void 0:t.startDate)||null}get isAllDay(){var e;return!!(null===(e=this.values)||void 0===e?void 0:e.isAllDay)}get dateAndTimeFieldSpec(){const{isAllDay:e,isEditingFamily:t}=this;return t&&e?null:t?{type:g.default.TimeRange,sectionStyle:"indented",fieldName:"timeRange",validationFunction:f.default.ValidateTimeRange,defaultValue:this.timeRangeDefaultValue,grow:0}:e?{type:g.default.DateRange,sectionStyle:"indented",fieldName:"dateRange",validationFunction:f.default.ValidateDateRange,defaultValue:this.dateRangeDefaultValue,grow:0,allowPastValues:!0}:{type:g.default.DateAndTimeRange,sectionStyle:"indented",fieldName:"dateAndTimeRange",validationFunction:f.default.ValidateDateAndTimeRange,defaultValue:this.dateTimeRangeDefaultValue,grow:0,allowPastValues:!0,autoUpdateEndDate:!0}}get allowsAllDayFieldSpec(){const{event:e}=this;return!(null==e||!e.isAllDay)||(!e||!e.repeats||e.daySpan<2)}get shouldAutoFocus(){return!this.EventNameFieldSpec.defaultValue}get dateTimeRangeValue(){var e;return(null===(e=this.values)||void 0===e?void 0:e.dateAndTimeRange)||{}}get dateRangeValue(){var e;return(null===(e=this.values)||void 0===e?void 0:e.dateRange)||{}}get timeRangeDefaultValue(){const{event:e,isEditingFamily:t}=this;if(e&&t)return{startMinutes:V.default.GetMinutesSinceMidnight(e.happensAt),endMinutes:V.default.GetMinutesSinceMidnight(e.endTime)}}get dateRangeDefaultValue(){const{dateTimeRangeValue:e,event:t,defaultDay:a}=this;return e.startMoment&&e.endMoment?{startDate:e.startMoment.clone().startOf("day"),endDate:e.endMoment.clone().startOf("day")}:t?{startDate:t.happensAt.clone().startOf("day"),endDate:t.endTime.clone().startOf("day")}:a?{startDate:a.clone().startOf("day"),endDate:a.clone().add(1,"hour").startOf("day")}:void 0}get dateTimeRangeDefaultValue(){const{event:e,defaultDay:t,dateRangeValue:a,defaultDateTimeRange:n}=this,i=a.startDate&&a.endDate;if(e&&!i)return{startMoment:e.happensAt.clone(),endMoment:e.endTime.clone()};if(n)return{startMoment:n.startMoment.clone(),endMoment:n.endMoment.clone()};const o=(0,m.default)().clone().startOf("hour").add(V.default.RoundUpToNearestMinuteIncrement((0,m.default)().get("minute"),30),"minute");if(i||t){const e=o.get("hour"),n=o.get("minute");return{startMoment:(a.startDate||t).clone().startOf("day").add(e,"hour").add(n,"minute"),endMoment:(a.endDate||t).clone().startOf("day").add(e+1,"hour").add(n,"minute")}}return{startMoment:o.clone(),endMoment:o.clone().add(1,"hour")}}get formSpecs(){const{event:e,startDate:t,allowsAllDayFieldSpec:a,dateAndTimeFieldSpec:n,showChannelOptions:i}=this;let o={},l=null;const r=[this.EventNameFieldSpec];return!h.default.IsNative&&r.push(this.colorLabelFieldSpec),i&&r.push(this.channelsFieldSpec),a&&r.push(this.IsAllDayFieldSpec),n&&r.push(n),e||(o=this.RepeatInfoFieldValueReactions,l={type:g.default.EventRepeat,fieldName:"repeatInfo",defaultValue:{repeatType:"once",isValid:!0},defaultStartDate:t,grow:h.default.IsNative?1:0}),e||h.default.IsNative||r.push(l),{sectionStyle:h.default.IsNative?null:"border-unpadded",sections:[{fieldSpecs:r,rowAlignment:"alignBottom"},h.default.IsNative&&!e&&{fieldSpecs:[l]},{fieldSpecs:this.MetadataFieldSpecs}].filter(Boolean),fieldValueReactions:o}}render(){const{className:e,style:t}=this.props,{shouldAutoFocus:a,formSpecs:n}=this;return(0,u.default)(O.default,{className:e,style:t,onChange:this._handleChange,formSpecs:n,autoFocus:a})}},s=(0,c.default)(r.prototype,"values",[D.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),(0,c.default)(r.prototype,"hasUnsavedChanges",[D.computed],Object.getOwnPropertyDescriptor(r.prototype,"hasUnsavedChanges"),r.prototype),(0,c.default)(r.prototype,"isValid",[D.computed],Object.getOwnPropertyDescriptor(r.prototype,"isValid"),r.prototype),(0,c.default)(r.prototype,"event",[D.computed],Object.getOwnPropertyDescriptor(r.prototype,"event"),r.prototype),(0,c.default)(r.prototype,"channelOptions",[i],Object.getOwnPropertyDescriptor(r.prototype,"channelOptions"),r.prototype),(0,c.default)(r.prototype,"showChannelOptions",[D.computed],Object.getOwnPropertyDescriptor(r.prototype,"showChannelOptions"),r.prototype),(0,c.default)(r.prototype,"colorLabelFieldSpec",[D.computed],Object.getOwnPropertyDescriptor(r.prototype,"colorLabelFieldSpec"),r.prototype),(0,c.default)(r.prototype,"channelsFieldSpec",[o],Object.getOwnPropertyDescriptor(r.prototype,"channelsFieldSpec"),r.prototype),(0,c.default)(r.prototype,"rawDefaultDay",[D.computed],Object.getOwnPropertyDescriptor(r.prototype,"rawDefaultDay"),r.prototype),(0,c.default)(r.prototype,"defaultDay",[D.computed],Object.getOwnPropertyDescriptor(r.prototype,"defaultDay"),r.prototype),(0,c.default)(r.prototype,"defaultDateTimeRange",[D.computed],Object.getOwnPropertyDescriptor(r.prototype,"defaultDateTimeRange"),r.prototype),(0,c.default)(r.prototype,"isEditingFamily",[D.computed],Object.getOwnPropertyDescriptor(r.prototype,"isEditingFamily"),r.prototype),(0,c.default)(r.prototype,"startDate",[D.computed],Object.getOwnPropertyDescriptor(r.prototype,"startDate"),r.prototype),(0,c.default)(r.prototype,"isAllDay",[D.computed],Object.getOwnPropertyDescriptor(r.prototype,"isAllDay"),r.prototype),(0,c.default)(r.prototype,"dateAndTimeFieldSpec",[D.computed],Object.getOwnPropertyDescriptor(r.prototype,"dateAndTimeFieldSpec"),r.prototype),(0,c.default)(r.prototype,"allowsAllDayFieldSpec",[D.computed],Object.getOwnPropertyDescriptor(r.prototype,"allowsAllDayFieldSpec"),r.prototype),(0,c.default)(r.prototype,"shouldAutoFocus",[D.computed],Object.getOwnPropertyDescriptor(r.prototype,"shouldAutoFocus"),r.prototype),(0,c.default)(r.prototype,"dateTimeRangeValue",[D.computed],Object.getOwnPropertyDescriptor(r.prototype,"dateTimeRangeValue"),r.prototype),(0,c.default)(r.prototype,"dateRangeValue",[D.computed],Object.getOwnPropertyDescriptor(r.prototype,"dateRangeValue"),r.prototype),(0,c.default)(r.prototype,"timeRangeDefaultValue",[D.computed],Object.getOwnPropertyDescriptor(r.prototype,"timeRangeDefaultValue"),r.prototype),(0,c.default)(r.prototype,"dateRangeDefaultValue",[D.computed],Object.getOwnPropertyDescriptor(r.prototype,"dateRangeDefaultValue"),r.prototype),(0,c.default)(r.prototype,"dateTimeRangeDefaultValue",[D.computed],Object.getOwnPropertyDescriptor(r.prototype,"dateTimeRangeDefaultValue"),r.prototype),(0,c.default)(r.prototype,"formSpecs",[D.computed],Object.getOwnPropertyDescriptor(r.prototype,"formSpecs"),r.prototype),d=(0,c.default)(r.prototype,"_handleChange",[D.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return({isValid:e,values:t,hasChanged:a})=>{this.values=t,this.props.onChange({isValid:e,values:t,hasChanged:a})}}}),l=r))||l)||l)||l)||l);t.default=T},9312:function(e,t,a){"use strict";var n=a(0);a(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o,l,r,s,d=n(a(6)),u=n(a(12)),p=n(a(3)),c=(n(a(13)),a(153)),f=n(a(18)),h=n(a(199)),v=n(a(25)),y=n(a(68)),m=n(a(114)),g=n(a(1)),b=a(2),O=a(4);var w=(i=b.computed.struct,(0,v.default)(o=(0,O.observer)((l=class extends g.default.Component{constructor(...e){super(...e),(0,u.default)(this,"values",r,this),this.OpenSection={fieldSpecs:[{type:y.default.Switch,layout:"space-between",fieldName:"isOpen",defaultValue:!this.props.event||this.props.event.isOpen,label:"Allow RSVPs",description:"If disabled, no one will be able to join your event.",grow:1}]},(0,u.default)(this,"_handleChange",s,this)}get event(){return this.props.event}get roleOptions(){const{teamInfo:e}=this.teamContext;return e?e.assignableRoles.map(e=>({title:e.name,iconColor:(0,c.GetRoleColor)(e.color),value:e.id})):null}get privateSection(){var e;return{fieldSpecs:[{type:y.default.Switch,layout:"space-between",fieldName:"isPrivate",defaultValue:!!(null===(e=this.event)||void 0===e?void 0:e.isPrivate),label:"Private event",description:"The event can only be seen by the event creator and invitees.",grow:1}]}}get rsvpSection(){const{event:e,values:t}=this;return(null==t?void 0:t.isOpen)?{fieldSpecs:[{type:y.default.Switch,layout:"space-between",fieldName:"isRsvpLimited",defaultValue:(null==e?void 0:e.rsvpLimit)>0,label:"Limit attendance",description:"Limit the number of people that can attend this event.",grow:1},(null==t?void 0:t.isRsvpLimited)&&{type:y.default.Number,fieldName:"rsvpLimit",number:100,isStandalone:f.default.IsNative,defaultValue:(null==e?void 0:e.rsvpLimit)||1,caption:"available slot"},(null==t?void 0:t.isRsvpLimited)&&{type:y.default.Switch,fieldName:"autofillWaitlist",label:"Automatically fill open slots",defaultValue:!e||(null==e?void 0:e.autofillWaitlist),description:"Whenever a slot opens, it will be filled according to the waitlist order."}].filter(Boolean)}:null}get roleRestrictionSection(){var e;const{values:t,roleOptions:a,event:n}=this;return(null==t?void 0:t.isOpen)&&a?{fieldSpecs:[{type:y.default.Switch,layout:"space-between",fieldName:"isRoleRestricted",defaultValue:(null==n?void 0:null===(e=n.allowedRoleIds)||void 0===e?void 0:e.length)>0,label:"Restrict roles",description:"Specify the roles that can attend this event.",grow:1},(null==t?void 0:t.isRoleRestricted)&&{type:y.default.SearchableList,layout:"space-between",fieldName:"allowedRoleIds",label:f.default.IsNative?"Allowed roles":null,options:a,defaultValue:(null==n?void 0:n.allowedRoleIds)||[],grow:1,validationFunction:h.default.ValidateRoleList}].filter(Boolean)}:null}get customFormSection(){const{event:e,values:t}=this;return!(null==t?void 0:t.isOpen)||f.default.IsNative?null:{fieldSpecs:[{type:y.default.Switch,layout:"space-between",fieldName:"isCustomFormRequired",defaultValue:!!(null==e?void 0:e.customFormTemplateId),label:"Fill out form upon RSVP",description:"Require that attendees fill out a form upon RSVP.",grow:1},(null==t?void 0:t.isCustomFormRequired)&&{type:y.default.CustomForm,fieldName:"customFormTemplateId",defaultValue:null==e?void 0:e.customFormTemplateId,isOptional:!1,skipServerDeleteRequest:!0}].filter(Boolean)}}get formSpecs(){const{rsvpSection:e,roleRestrictionSection:t,customFormSection:a,OpenSection:n,privateSection:i}=this;return{sectionStyle:"border-unpadded",sections:[i,n,e,t,a].filter(Boolean)}}render(){const{className:e,style:t}=this.props,{formSpecs:a}=this;return(0,d.default)(m.default,{className:e,style:t,onChange:this._handleChange,formSpecs:a})}},r=(0,p.default)(l.prototype,"values",[b.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),(0,p.default)(l.prototype,"event",[b.computed],Object.getOwnPropertyDescriptor(l.prototype,"event"),l.prototype),(0,p.default)(l.prototype,"roleOptions",[i],Object.getOwnPropertyDescriptor(l.prototype,"roleOptions"),l.prototype),(0,p.default)(l.prototype,"privateSection",[b.computed],Object.getOwnPropertyDescriptor(l.prototype,"privateSection"),l.prototype),(0,p.default)(l.prototype,"rsvpSection",[b.computed],Object.getOwnPropertyDescriptor(l.prototype,"rsvpSection"),l.prototype),(0,p.default)(l.prototype,"roleRestrictionSection",[b.computed],Object.getOwnPropertyDescriptor(l.prototype,"roleRestrictionSection"),l.prototype),(0,p.default)(l.prototype,"customFormSection",[b.computed],Object.getOwnPropertyDescriptor(l.prototype,"customFormSection"),l.prototype),(0,p.default)(l.prototype,"formSpecs",[b.computed],Object.getOwnPropertyDescriptor(l.prototype,"formSpecs"),l.prototype),s=(0,p.default)(l.prototype,"_handleChange",[b.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return({values:e,hasChanged:t,isValid:a})=>{this.values=e,this.props.onChange({values:e,hasChanged:t,isValid:a})}}}),o=l))||o)||o);t.default=w},9313:function(e,t,a){var n=a(7),i=a(9314);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o,l=0,r={injectType:"lazyStyleTag",insert:"head",singleton:!1},s={};i.locals&&(s.locals=i.locals),s.use=function(e){return l++||(o=n(i,{...r,...e})),s},s.unuse=function(){l>0&&!--l&&(o(),o=null)},e.exports=s},9314:function(e,t,a){(t=a(8)(!1)).push([e.i,".CreateTeamEventForm-container{padding:0 24px 12px 24px;min-height:500px}@media(max-width: 500px){.CreateTeamEventForm-container{padding:0 12px 12px 12px}}",""]),e.exports=t},9315:function(e,t,a){var n=a(7),i=a(9316);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o,l=0,r={injectType:"lazyStyleTag",insert:"head",singleton:!1},s={};i.locals&&(s.locals=i.locals),s.use=function(e){return l++||(o=n(i,{...r,...e})),s},s.unuse=function(){l>0&&!--l&&(o(),o=null)},e.exports=s},9316:function(e,t,a){(t=a(8)(!1)).push([e.i,".CreateTeamEvent-container{width:620px;max-width:100%;padding-top:24px}",""]),e.exports=t}}]);
//# sourceMappingURL=https://sourcemaps.local.guilded.gg/db0e2dcb/CreateTeamEvent.js.map