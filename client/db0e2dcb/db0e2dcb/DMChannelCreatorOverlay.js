(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{4698:function(e,t,r){"use strict";var n=r(0);r(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,i,o,s,l,u,d=n(r(6)),c=r(14),p=n(r(12)),f=n(r(3)),h=(n(r(13)),n(r(158))),y=n(r(157)),C=n(r(204)),b=n(r(378)),g=n(r(22)),m=n(r(8274)),v=n(r(273)),w=n(r(1)),x=r(2),D=r(4),I=n(r(349));var M=(a=(0,n(r(10)).default)({name:"DMChannelCreatorOverlay",loader:()=>r(9853)}),i=x.observable.ref,a(o=(0,C.default)(o=(0,g.default)(o=(0,h.default)(o=(0,D.observer)((s=class extends w.default.Component{constructor(...e){var t;super(...e),t=this,this.ControlConfiguration=v.default.ConfirmAndCancel,this.IsContentScrollable=!1,this.Header="New DM",(0,p.default)(this,"items",l,this),this.Confirm=(0,c.coroutine)((function*(){var e;const{items:r}=t,{userId:n}=t.userContext;null===(e=I.default.GeneralCreation)||void 0===e||e.play();try{const{channel:e,isCreated:t}=yield b.default.CreateDMChannel({userId:n,userIds:r.map(e=>e.id)});return{channel:e,isCreated:t}}catch(e){if(e.status!==y.default.PrivacyErrorHttpStatusCode)throw e;t.chatContext.createDMPrivacySettingsBlockedGilMessage()}})),(0,p.default)(this,"_handleChange",u,this)}get Disabled(){return 0===this.items.length}get excludedEntityIds(){const{userId:e}=this.userContext;return this.items.length>0?this.items.map(e=>e.id).concat(e):[]}render(){return(0,d.default)(m.default,{className:"DMChannelCreatorOverlay-container",entityType:"user",searchPlaceholder:"Search for users",onChange:this._handleChange,excludedEntityIds:this.excludedEntityIds,focusAfterSelection:!0})}},l=(0,f.default)(s.prototype,"items",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),(0,f.default)(s.prototype,"Disabled",[x.computed],Object.getOwnPropertyDescriptor(s.prototype,"Disabled"),s.prototype),(0,f.default)(s.prototype,"excludedEntityIds",[x.computed],Object.getOwnPropertyDescriptor(s.prototype,"excludedEntityIds"),s.prototype),u=(0,f.default)(s.prototype,"_handleChange",[x.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.items=e}}),o=s))||o)||o)||o)||o)||o);t.default=M},9853:function(e,t,r){var n=r(7),a=r(9854);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var i,o=0,s={injectType:"lazyStyleTag",insert:"head",singleton:!1},l={};a.locals&&(l.locals=a.locals),l.use=function(e){return o++||(i=n(a,{...s,...e})),l},l.unuse=function(){o>0&&!--o&&(i(),i=null)},e.exports=l},9854:function(e,t,r){(t=r(8)(!1)).push([e.i,".DMChannelCreatorOverlay-container{position:relative;z-index:1}",""]),e.exports=t}}]);
//# sourceMappingURL=https://sourcemaps.local.guilded.gg/db0e2dcb/DMChannelCreatorOverlay.js.map