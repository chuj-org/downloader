(window.webpackJsonp=window.webpackJsonp||[]).push([[86],{10038:function(e,t,r){"use strict";var o=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,l=o(r(6)),n=o(r(10039)),s=o(r(11)),d=o(r(1)),i=(r(2),r(4));var c=(0,o(r(10)).default)({name:"EditMembersRolesDisplay",loader:()=>r(10043)})(a=(0,i.observer)(a=class extends d.default.Component{render(){const{className:e,selectedMembers:t,roleToggleMap:r,onToggleRoleId:o,roles:a}=this.props;return(0,l.default)("div",{className:(0,s.default)("EditMembersRolesDisplay-container",e)},void 0,a.map(e=>(0,l.default)(n.default,{role:e,toggleType:r[e.id]||null,selectedMembers:t,onToggleRoleId:o},e.id)))}})||a)||a;t.default=c},10039:function(e,t,r){"use strict";var o=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,l,n=o(r(6)),s=o(r(3)),d=o(r(10040)),i=o(r(4488)),c=o(r(24)),u=o(r(11)),p=o(r(1)),f=o(r(160)),g=r(153),b=r(2),y=r(4);var m=(0,o(r(10)).default)({name:"ToggleRoleControl",loader:()=>r(10041)})(a=(0,d.default)(a=(0,y.observer)((l=class extends p.default.Component{get roleStyle(){const{color:e,color2:t}=this.role;return f.default.GetTextColorStyle((0,g.GetRoleColor)(e),(0,g.GetRoleColor)(t))}render(){const{className:e,role:t}=this.props,{roleStyle:r,isFull:o,isPartial:a}=this;return(0,n.default)("div",{className:(0,u.default)("ToggleRoleControl-container",e),onClick:this.OnToggleRole,"data-id":t.id},void 0,(0,n.default)(c.default,{className:"TeamRoleControl-name",weight:"bold",style:r,ellipsify:!0},void 0,t.name),(0,n.default)(i.default,{isFull:o,isPartial:a}))}},(0,s.default)(l.prototype,"roleStyle",[b.computed],Object.getOwnPropertyDescriptor(l.prototype,"roleStyle"),l.prototype),a=l))||a)||a)||a;t.default=m},10040:function(e,t,r){"use strict";var o=r(0);r(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,r,o;return o=r=class extends e{constructor(...e){super(...e),this.OnToggleRole=()=>this.props.onToggleRoleId({id:this.role.id,type:this.isFull?"off":"on"})}get role(){return this.props.role}get selectedMembers(){return this.props.selectedMembers}get isToggledOn(){return"on"===this.props.toggleType}get isToggledOff(){return"off"===this.props.toggleType}get isFull(){return!this.isToggledOff&&(this.isToggledOn||this.selectedMembers.every(e=>e.membershipRoleIds.includes(this.role.id)))}get isPartial(){return!this.isFull&&!this.isToggledOff&&this.selectedMembers.some(e=>e.membershipRoleIds.includes(this.role.id))}},r.displayName=e.displayName||e.name,t=o,(0,a.default)(t.prototype,"role",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"role"),t.prototype),(0,a.default)(t.prototype,"selectedMembers",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"selectedMembers"),t.prototype),(0,a.default)(t.prototype,"isToggledOn",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"isToggledOn"),t.prototype),(0,a.default)(t.prototype,"isToggledOff",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"isToggledOff"),t.prototype),(0,a.default)(t.prototype,"isFull",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"isFull"),t.prototype),(0,a.default)(t.prototype,"isPartial",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"isPartial"),t.prototype),t};var a=o(r(3)),l=r(2)},10041:function(e,t,r){var o=r(7),a=r(10042);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var l,n=0,s={injectType:"lazyStyleTag",insert:"head",singleton:!1},d={};a.locals&&(d.locals=a.locals),d.use=function(e){return n++||(l=o(a,{...s,...e})),d},d.unuse=function(){n>0&&!--n&&(l(),l=null)},e.exports=d},10042:function(e,t,r){(t=r(8)(!1)).push([e.i,'.ToggleRoleControl-container{display:flex;align-items:center;min-width:0;padding:4px 8px;-webkit-user-select:none;user-select:none;height:36px;cursor:pointer;border-radius:4px;background:#32343d;position:relative}.ToggleRoleControl-container::after{content:"";position:absolute;top:0;right:0;bottom:0;left:0;opacity:0;background:#a3a3ac;pointer-events:none;transition:opacity 75ms ease-out;will-change:opacity;border-radius:4px;z-index:1}.ToggleRoleControl-container:hover::after{opacity:0.1}.TeamRoleControl-name{flex:1;display:block;min-width:0;margin-right:6px}',""]),t.locals={confirmationGreen:"#53da33",confirmationGreenDesaturated:"#6cba50",gilded4:"#ecb200",gilded5:"#e0a900",gilded6:"#be8c00",errorRedDesaturated:"#df5353",gray:"#a3a3ac",bodyTextWhite:"#ececee",bodyTextWiteMask64:"rgba(236,236,238,.64)",border:"#848a94",errorRed:"#ff6b6b",warnYellow:"#ffb400",nuxBlue:"#008ae1",calendarOrange:"#d89332",calendarBlue:"#355bf8",calendarGreen:"#6cba50",calendarSeagreen:"#30a68f",calendarJewelgreen:"#148f33",calendarPurple:"#a250e8",calendarPurpleMask7:"rgba(162,80,232,.07)",calendarPurpleMask10:"rgba(162,80,232,.1)",mediumPurple3:"#dab9f6",mediumPurple3Mask10:"rgba(218,185,246,.1)",dropmenuGray:"#4f515d",menuGray:"#4f515d",menuGrayMask30:"rgba(79,81,93,.3)",yellowHighlight:"#ffeca0",desaturatedReddit:"#ea794f",desaturatedTwitter:"#64a9d4",desaturatedYoutube:"#cf5c58",whatsapp:"#25d366",github:"#24292e",vimeo:"#1ab7ea",gilded:"#f5c400",orangeRed:"#ff4500",gameNavBlack:"#32343d",gameNavBlackMask36:"rgba(50,52,61,.36)",white:"#fff",gilded2:"#f8d64c",gilded2Mask5:"rgba(248,214,76,.05)",gilded2Mask7:"rgba(248,214,76,.07)",gilded2Mask10:"rgba(248,214,76,.1)",gilded2Mask20:"rgba(248,214,76,.2)",gilded2Mask50:"rgba(248,214,76,.5)",nuxBlueDesaturatedMask7:"rgba(174,189,252,.07)",restGet:"#335a9e",restHead:"#a250e8",restPost:"#6cba50",restPut:"#d89332",restPatch:"#4f515d",restDelete:"#ff6b6b",mysteriousGray:"#212329",backgroundBlack:"#1e2025",yellowThree:"#ffb400",calendarGreenDesaturated:"#476047",calendarRed:"#df5353",calendarRedMask30:"rgba(223,83,83,.2)",calendarRedDesaturated:"#694148",druidOrange:"#e4b370",sidebarBlack:"#292b32",brandyPunch:"#d89332",navBlack:"#191b1f",yellow1:"gold",yellow2:"#e4c519",yellow3:"#ffb400",yellow4:"#ffb400",yellow5:"#d89f0c",yellow6:"#ffd800",yellow6Mask35:"rgba(255,216,0,.35)",gameNavGray:"#30323a",skeletonGray:"#50525f",blackPearl:"#222329",twitch:"#9146ff",bnet:"#078ad2",psn:"#00134c",xbox:"#1c6d00",steam:"#231f20",origin:"#e73b00",youtube:"red",twitter:"#1189f4",facebook:"#335a9e",switch:"#e60012",patreon:"#ff424d",roblox:"#00a2ff",epic:"#2f2d2e",bnetSecondary:"#009ae4",psnSecondary:"#2d64e6",xboxSecondary:"#52b043",steamSecondary:"#096295",twitchSecondary:"#9146ff",epicSecondary:"#0078f2",grayMask20:"rgba(163,163,172,.2)",grayMask40:"rgba(163,163,172,.4)",goldenShadow:"rgba(255,234,0,.5)",colorChannelGray:"#373943",streamGradient:"linear-gradient(63.5deg, #ff0000 -29.74%, #b258ff 83.36%)"},e.exports=t},10043:function(e,t,r){var o=r(7),a=r(10044);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var l,n=0,s={injectType:"lazyStyleTag",insert:"head",singleton:!1},d={};a.locals&&(d.locals=a.locals),d.use=function(e){return n++||(l=o(a,{...s,...e})),d},d.unuse=function(){n>0&&!--n&&(l(),l=null)},e.exports=d},10044:function(e,t,r){(t=r(8)(!1)).push([e.i,".EditMembersRolesDisplay-container{width:540px;display:grid;grid-gap:8px;grid-template-columns:1fr 1fr 1fr;grid-template-rows:32px}",""]),e.exports=t},4488:function(e,t,r){"use strict";var o=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,l=o(r(6)),n=o(r(21)),s=o(r(11)),d=o(r(1)),i=(r(2),r(4));var c=(0,o(r(10)).default)({name:"SelectToggleIcon",loader:()=>r(4489)})(a=(0,i.observer)(a=class extends d.default.Component{render(){const{className:e,isFull:t,isPartial:r,onToggle:o}=this.props;return(0,l.default)("div",{className:(0,s.default)("SelectToggleIcon-container",(r||t)&&"SelectToggleIcon-container-active",r&&"SelectToggleIcon-container-partial",o&&"SelectToggleIcon-container-clickable",e),onClick:o},void 0,t&&(0,l.default)(n.default,{className:"SelectToggleIcon-checkmark",iconName:"icon-checkmark"}))}})||a)||a;t.default=c},4489:function(e,t,r){var o=r(7),a=r(4490);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var l,n=0,s={injectType:"lazyStyleTag",insert:"head",singleton:!1},d={};a.locals&&(d.locals=a.locals),d.use=function(e){return n++||(l=o(a,{...s,...e})),d},d.unuse=function(){n>0&&!--n&&(l(),l=null)},e.exports=d},4490:function(e,t,r){(t=r(8)(!1)).push([e.i,'.SelectToggleIcon-container{width:20px;height:20px;border-radius:4px;border:1px solid #a3a3ac;display:flex;align-items:center;justify-content:center}.SelectToggleIcon-container-partial:after{content:"";display:block;height:2px;width:12px;border-radius:2px;background:#f5c400}.SelectToggleIcon-checkmark{height:14px;width:14px;padding:0;fill:#f5c400;display:flex;align-items:center;flex-shrink:0}.SelectToggleIcon-container-clickable{cursor:pointer}.SelectToggleIcon-container-clickable:hover{border-color:#fff;background-color:rgba(163,163,172,.1)}.SelectToggleIcon-container-active{border-color:#fff}',""]),t.locals={confirmationGreen:"#53da33",confirmationGreenDesaturated:"#6cba50",gilded4:"#ecb200",gilded5:"#e0a900",gilded6:"#be8c00",errorRedDesaturated:"#df5353",gray:"#a3a3ac",bodyTextWhite:"#ececee",bodyTextWiteMask64:"rgba(236,236,238,.64)",border:"#848a94",errorRed:"#ff6b6b",warnYellow:"#ffb400",nuxBlue:"#008ae1",calendarOrange:"#d89332",calendarBlue:"#355bf8",calendarGreen:"#6cba50",calendarSeagreen:"#30a68f",calendarJewelgreen:"#148f33",calendarPurple:"#a250e8",calendarPurpleMask7:"rgba(162,80,232,.07)",calendarPurpleMask10:"rgba(162,80,232,.1)",mediumPurple3:"#dab9f6",mediumPurple3Mask10:"rgba(218,185,246,.1)",dropmenuGray:"#4f515d",menuGray:"#4f515d",menuGrayMask30:"rgba(79,81,93,.3)",yellowHighlight:"#ffeca0",desaturatedReddit:"#ea794f",desaturatedTwitter:"#64a9d4",desaturatedYoutube:"#cf5c58",whatsapp:"#25d366",github:"#24292e",vimeo:"#1ab7ea",gilded:"#f5c400",orangeRed:"#ff4500",gameNavBlack:"#32343d",gameNavBlackMask36:"rgba(50,52,61,.36)",white:"#fff",gilded2:"#f8d64c",gilded2Mask5:"rgba(248,214,76,.05)",gilded2Mask7:"rgba(248,214,76,.07)",gilded2Mask10:"rgba(248,214,76,.1)",gilded2Mask20:"rgba(248,214,76,.2)",gilded2Mask50:"rgba(248,214,76,.5)",nuxBlueDesaturatedMask7:"rgba(174,189,252,.07)",restGet:"#335a9e",restHead:"#a250e8",restPost:"#6cba50",restPut:"#d89332",restPatch:"#4f515d",restDelete:"#ff6b6b",mysteriousGray:"#212329",backgroundBlack:"#1e2025",yellowThree:"#ffb400",calendarGreenDesaturated:"#476047",calendarRed:"#df5353",calendarRedMask30:"rgba(223,83,83,.2)",calendarRedDesaturated:"#694148",druidOrange:"#e4b370",sidebarBlack:"#292b32",brandyPunch:"#d89332",navBlack:"#191b1f",yellow1:"gold",yellow2:"#e4c519",yellow3:"#ffb400",yellow4:"#ffb400",yellow5:"#d89f0c",yellow6:"#ffd800",yellow6Mask35:"rgba(255,216,0,.35)",gameNavGray:"#30323a",skeletonGray:"#50525f",blackPearl:"#222329",twitch:"#9146ff",bnet:"#078ad2",psn:"#00134c",xbox:"#1c6d00",steam:"#231f20",origin:"#e73b00",youtube:"red",twitter:"#1189f4",facebook:"#335a9e",switch:"#e60012",patreon:"#ff424d",roblox:"#00a2ff",epic:"#2f2d2e",bnetSecondary:"#009ae4",psnSecondary:"#2d64e6",xboxSecondary:"#52b043",steamSecondary:"#096295",twitchSecondary:"#9146ff",epicSecondary:"#0078f2",grayMask20:"rgba(163,163,172,.2)",grayMask40:"rgba(163,163,172,.4)",goldenShadow:"rgba(255,234,0,.5)",colorChannelGray:"#373943",streamGradient:"linear-gradient(63.5deg, #ff0000 -29.74%, #b258ff 83.36%)"},e.exports=t},4727:function(e,t,r){"use strict";var o=r(0);r(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,l,n,s,d,i,c=o(r(15)),u=o(r(6)),p=r(14),f=o(r(12)),g=o(r(3)),b=(o(r(13)),o(r(5054))),y=o(r(50)),m=o(r(273)),h=o(r(10038)),v=o(r(79)),O=o(r(1)),w=r(2),k=r(4),M=o(r(204));function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){(0,c.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var x=(a=w.observable.struct,l=(0,w.computed)(v.default),(0,M.default)(n=(0,b.default)(n=(0,k.observer)((s=class extends O.default.Component{constructor(...e){var t;super(...e),t=this,(0,f.default)(this,"roleToggleMap",d,this),this.ControlConfiguration=m.default.ConfirmAndCancel,this.Header="Edit roles",this.Confirm=(0,p.coroutine)((function*(){const{roleToggleMap:e}=t,{teamId:r}=t.teamContext;return y.default.EditMembersRoles({teamId:r,memberIds:t.props.memberIds,roleToggleMap:e})})),(0,f.default)(this,"_handleToggleRoleId",i,this)}get Disabled(){return!this.haveRolesChanged}get selectedMembers(){const{getUser:e}=this.teamContext;return this.props.memberIds.map(t=>e(t))}get haveRolesChanged(){const{selectedMembers:e}=this;return Object.entries(this.roleToggleMap).some(([t,r])=>"on"===r?!e.every(e=>e.membershipRoleIds.includes(Number(t))):e.some(e=>e.membershipRoleIds.includes(Number(t))))}render(){const{selectedMembers:e,availableMembershipRoles:t,roleToggleMap:r}=this;return(0,u.default)(h.default,{selectedMembers:e,roles:t,onToggleRoleId:this._handleToggleRoleId,roleToggleMap:r})}},d=(0,g.default)(s.prototype,"roleToggleMap",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),(0,g.default)(s.prototype,"Disabled",[w.computed],Object.getOwnPropertyDescriptor(s.prototype,"Disabled"),s.prototype),(0,g.default)(s.prototype,"selectedMembers",[l],Object.getOwnPropertyDescriptor(s.prototype,"selectedMembers"),s.prototype),(0,g.default)(s.prototype,"haveRolesChanged",[w.computed],Object.getOwnPropertyDescriptor(s.prototype,"haveRolesChanged"),s.prototype),i=(0,g.default)(s.prototype,"_handleToggleRoleId",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return({id:e,type:t})=>this.roleToggleMap=T(T({},this.roleToggleMap),{},{[e]:t})}}),n=s))||n)||n)||n);t.default=x},5054:function(e,t,r){"use strict";var o=r(0);r(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,r,o,l,f,b;return t=p.computed.struct,r=p.computed.struct,(0,u.default)((b=f=class extends e{constructor(...e){var t;super(...e),t=this,this.GetRoleLabelStyle=e=>{const{color:t,color2:r}=e;return r?g(g({},d.default.GetTextGradientStyle(t,r)),{},{maxWidth:"fit-content"}):{color:(0,s.GetRoleColor)(t)}},this.ConvertRoleToOption=e=>{const{IsSingleSelect:t=!0,IncludeRoleOptionOnClick:r=!0}=this;return{title:"@".concat(e.name),label:"@".concat(e.name),rgbColorNormalized:(0,s.GetRoleColor)(e.color),color:e.color,color2:e.color2,imageType:"icon",onClick:r?this._handleAssignRole:null,size:c.default.IsDesktop?"sm":"md",infoSize:c.default.IsDesktop?"sm":"md",flavor:"transparent",value:e.id,isSingleSelect:t,labelStyle:this.GetRoleLabelStyle(e)}},this._handleAssignRole=function(){var e=(0,a.coroutine)((function*(e){const{teamId:r}=t.teamContext,{member:o,onRoleSelect:a,onCloseSelector:l}=t.props;var n,s;o?(yield i.default.AssignTeamRole({teamId:r,userId:o.id,roleId:e}),o.addRoleId(e)):(null===(n=t.OnRoleSelect)||void 0===n||n.call(t,e),null==a||a(e),null===(s=t.close)||void 0===s||s.call(t),null==l||l())}));return function(t){return e.apply(this,arguments)}}()}get availableMembershipRoles(){const{member:e,excludedRoleIds:t,excludeHigherPriorityRoles:r=!0,includeBotRoles:o=this.IncludeBotRoles}=this.props,{IncludeCurrentRole:a=!1}=this,{teamInfo:l,viewerIsAdmin:n,memberInfo:s,canManageRoles:d}=this.teamContext;return(o?[...l.assignableRoles,...l.botRoles]:l.assignableRoles).filter(({id:o,isSelfAssignable:l,priority:i})=>!((null==t?void 0:t.includes(o))||(null==e?void 0:e.membershipRoleIds.includes(o)))&&(!r||(l&&(s.rank>i||(null==e?void 0:e.id)===s.id)||n||d&&s.rank>i||a&&s.rank===i)))}get roleOptions(){return this.availableMembershipRoles.map(this.ConvertRoleToOption)}},f.displayName=e.displayName||e.name,l=b,(0,n.default)(l.prototype,"availableMembershipRoles",[t],Object.getOwnPropertyDescriptor(l.prototype,"availableMembershipRoles"),l.prototype),(0,n.default)(l.prototype,"roleOptions",[r],Object.getOwnPropertyDescriptor(l.prototype,"roleOptions"),l.prototype),o=l))||o};var a=r(14),l=o(r(15)),n=o(r(3)),s=r(153),d=o(r(160)),i=o(r(50)),c=o(r(18)),u=o(r(25)),p=r(2);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}}}]);
//# sourceMappingURL=https://sourcemaps.local.guilded.gg/db0e2dcb/EditMembersRolesOverlay.js.map