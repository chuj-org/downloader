(window.webpackJsonp=window.webpackJsonp||[]).push([[188],{10011:function(e,t,a){var n=a(7),o=a(10012);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var l,i=0,r={injectType:"lazyStyleTag",insert:"head",singleton:!1},s={};o.locals&&(s.locals=o.locals),s.use=function(e){return i++||(l=n(o,{...r,...e})),s},s.unuse=function(){i>0&&!--i&&(l(),l=null)},e.exports=s},10012:function(e,t,a){(t=a(8)(!1)).push([e.i,"",""]),e.exports=t},1448:function(e,t,a){"use strict";var n=a(0);a(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(6)),l=n(a(20)),i=n(a(15)),r=n(a(10)),s=n(a(22)),u=n(a(35)),d=n(a(708)),p=n(a(42)),c=n(a(740)),f=n(a(244)),g=n(a(11)),h=n(a(419)),m=n(a(1)),S=(a(2),a(4));function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var y=function(e){var t,n,y,w;return t=(0,r.default)({name:"NuxMultiFlowStage",loader:()=>a(5285)}),(0,S.observer)(n=(0,s.default)(n=t((w=y=class extends e{constructor(...e){super(...e),this._handleFormRef=e=>this.form=e,this.logAction=(e,t={})=>{const{additionalInfo:a,Key:n,HalfKey:o}=this.props;p.default.Log(u.default.FlowOverlayActionTaken,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({flowName:a.name,stage:n||o,action:e},t))}}render(){const{isNuxLoading:e,Type:t,CanExpand:a,FormSpecs:n,IntroSpecs:i,BackgroundImageSrc:r,BackgroundImageType:s,ConfirmAndCancelSpecs:u=this.props.confirmAndCancelSpecs}=this;return(0,o.default)(m.default.Fragment,{},void 0,(0,o.default)("div",{className:(0,g.default)("NuxMultiFlowStage-container",!!t&&"NuxMultiFlowStage-container-type-".concat(t),a&&"NuxMultiFlowStage-container-can-expand")},void 0,i&&m.default.createElement(h.default,(0,l.default)({className:"NuxMultiFlowStage-intro",size:"lg"},i)),super.render&&super.render(),n&&m.default.createElement(c.default,(0,l.default)({confirmAndCancelClassName:(0,g.default)("NuxMultiFlowStage-confirm-and-cancel",u.hideCancel&&"NuxMultiFlowStage-confirm-and-cancel-no-cancel"),formClassName:"NuxMultiFlowStage-form",formSpecs:n},u,{onGetRef:this._handleFormRef,isConfirmWide:!0,isFragment:!0,isLoading:e,onConfirm:this._handleConfirm,onCancel:this._handleCancel})),!n&&u&&m.default.createElement(f.default,(0,l.default)({className:(0,g.default)("NuxMultiFlowStage-confirm-and-cancel",u.hideCancel&&"NuxMultiFlowStage-confirm-and-cancel-no-cancel")},u,{isConfirmWide:!0,loading:e,onConfirm:this._handleConfirm,onCancel:this._handleCancel}))),r&&(0,o.default)(d.default,{className:"NuxMultiFlowStage-background",src:r,type:s}))}},y.displayName=e.displayName||e.name,n=w))||n)||n)||n};t.default=y},4469:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={DefaultRGB:"245,196,0",DomainName:"guilded.gg",AppStoreId:"1112038925",getAliasForGame:()=>null,getAliasObjForGame:()=>null}},4470:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(4857)),l=n(a(35)),i=n(a(42)),r=n(a(18)),s=n(a(4469)),u=n(a(149));class d{}t.default=d,d.LaunchAppStore=({newWindow:e=!0,skipNativeRedirect:t=!1}={})=>{t?r.default.IsIOS?d.LaunchIosAppStore(e):d.LaunchGooglePlay(e):d.LaunchNativeAppOrStore(e)},d.LaunchNativeAppOrStore=(e=!0)=>{const t="https://get.guilded.gg".concat(o.default.path);i.default.Log(l.default.AppStoreLaunch,{store:r.default.IsIOS?"ios":"android"}),e?u.default.open(t,"_blank"):window.location=t},d.LaunchIosAppStore=(e=!0)=>{const t="https://itunes.apple.com/us/app/guilded.gg/id".concat(s.default.AppStoreId,"?mt=8");i.default.Log(l.default.AppStoreLaunch,{store:"ios"}),e?u.default.open(t,"_blank"):window.location=t},d.LaunchGooglePlay=(e=!0)=>{const t=r.default.IsMobileAndroid?"market://details?id=com.gg.guilded":"https://play.google.com/store/apps/details?id=com.gg.guilded";i.default.Log(l.default.AppStoreLaunch,{store:"android"}),e?u.default.open(t,"_blank"):window.location=t}},4719:function(e,t,a){"use strict";var n=a(0);a(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,l=n(a(6)),i=a(14),r=n(a(273)),s=n(a(4470)),u=n(a(204)),d=a(5310),p=n(a(1)),c=a(4);var f=(0,n(a(10)).default)({name:"UpdateAppOverlay",loader:()=>a(10011)})(o=(0,u.default)(o=(0,c.observer)(o=class extends p.default.Component{constructor(...e){super(...e),this.HideHeader=!0,this.ControlConfiguration=r.default.Confirm,this.ConfirmText="Update app now",this.AppUpdateUpsellSpecs={introSpecs:{title:"Update your app",subtitle:"The newly updated Guilded app is faster, has a brand new look, and all the features you know and love plus more!"}},this.Confirm=(0,i.coroutine)((function*(){return s.default.LaunchAppStore({skipNativeRedirect:!0})}))}render(){return(0,l.default)(d.AppUpsellStageDisplay,{classNames:"AppUpsellOverlay-container",upsellSpecs:this.AppUpdateUpsellSpecs})}})||o)||o)||o;t.default=f},4857:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(14),l=n(a(48)),i=n(a(50)),r=n(a(69)),s=n(a(4469)),u=n(a(18));var d=new class{get path(){return this.addMagicLinkToPath(r.default.path)}addMagicLinkToPath(e){return this.token?"".concat(e).concat(e.includes("?")?"&":"?","loginWithToken=").concat(this.token):this.hasSession?"".concat(e).concat(e.includes("?")?"&":"?","mweb=true"):e}updateAppMeta(){if(this.expiresAt&&this.expiresAt<l.default.now()&&this.clearToken(),u.default.IsSafari){const e=this.addMagicLinkToPath("".concat(window.origin).concat(r.default.path));document.querySelector('meta[name="apple-itunes-app"]').setAttribute("content","app-id=".concat(s.default.AppStoreId,", app-argument=").concat(e))}}loadToken(){var e=this;return(0,o.coroutine)((function*(){if((u.default.IsMobile||u.default.IsSafari)&&(!e.expiresAt||e.expiresAt<l.default.now()))try{const t=yield i.default.GetAppInstallLoginToken();t&&(e.token=t.token,e.expiresAt=l.default.now()+18e6,e.updateAppMeta())}catch(e){}}))()}loadSession(){this.hasSession=!0,this.updateAppMeta()}clearSession(){this.hasSession=!1,this.clearToken(),this.updateAppMeta()}clearToken(){this.token=null,this.expiresAt=null}};t.default=d},4859:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,l=n(a(6)),i=n(a(1)),r=n(a(11));var s=(0,n(a(10)).default)({name:"LogoGilded",loader:()=>a(5072)})(o=class extends i.default.PureComponent{render(){const{className:e,onClick:t,style:a}=this.props;return(0,l.default)("div",{className:(0,r.default)("LogoGilded-container",e),style:a,onClick:t},void 0,(0,l.default)("svg",{className:"icon LogoGilded-icon",shapeRendering:"geometricPrecision",viewBox:"0 0 100.1 88.6"},void 0,(0,l.default)("defs",{},void 0,(0,l.default)("linearGradient",{id:"LinearGildedGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%"},void 0,(0,l.default)("stop",{offset:"0%",stopColor:"#ffb400"}),(0,l.default)("stop",{offset:"100%",stopColor:"#e4c519"}))),(0,l.default)("path",{stroke:"#ffd700",strokeWidth:"1",d:"M38.8,40.7A63.26,63.26,0,0,0,44.9,65C51,76.9,59.5,84.5,66.5,87.5,73.7,84,80.7,78,84.6,71.6H64.7c-5.2-4.4-9.2-11.6-10.2-20h59.2a90.55,90.55,0,0,1-15,33.8,71,71,0,0,1-31.9,24H66.2c-21.1-8.6-32.4-22.1-39.9-37.3-4.8-9.8-9.8-27.5-9.8-51.3H116.6a153.89,153.89,0,0,1-1.3,20H38.8V40.7Z",transform:"translate(-16.5 -20.8)",fill:"url(#LinearGildedGradient)"})))}})||o;t.default=s},5072:function(e,t,a){var n=a(7),o=a(5073);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var l,i=0,r={injectType:"lazyStyleTag",insert:"head",singleton:!1},s={};o.locals&&(s.locals=o.locals),s.use=function(e){return i++||(l=n(o,{...r,...e})),s},s.unuse=function(){i>0&&!--i&&(l(),l=null)},e.exports=s},5073:function(e,t,a){(t=a(8)(!1)).push([e.i,".LogoGilded-container{width:100%;height:100%}.LogoGilded-icon{width:100%;height:100%;filter:drop-shadow(0 0 3px rgba(255, 234, 0, 0.5))}",""]),e.exports=t},5285:function(e,t,a){var n=a(7),o=a(5286);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var l,i=0,r={injectType:"lazyStyleTag",insert:"head",singleton:!1},s={};o.locals&&(s.locals=o.locals),s.use=function(e){return i++||(l=n(o,{...r,...e})),s},s.unuse=function(){i>0&&!--i&&(l(),l=null)},e.exports=s},5286:function(e,t,a){(t=a(8)(!1)).push([e.i,".NuxMultiFlowStage-container{display:flex;flex-direction:column;align-items:center;justify-content:space-between;padding:0 68px 12px 68px;flex:1;width:100%;position:relative;z-index:2;width:520px;max-width:100%}@media(max-width: 500px){.NuxMultiFlowStage-container{padding:0 28px 12px 28px}}.NuxMultiFlowStage-intro{flex-shrink:0}.NuxMultiFlowStage-container-type-unstyled{padding:0}.NuxMultiFlowStage-container-type-unstyled .NuxMultiFlowStage-intro{padding:0 72px}@media(max-width: 500px){.NuxMultiFlowStage-container-type-unstyled .NuxMultiFlowStage-intro{padding:0 24px}}.NuxMultiFlowStage-confirm-and-cancel-no-cancel{margin-bottom:52px}.NuxMultiFlowStage-confirm-and-cancel{margin-top:12px}.NuxMultiFlowStage-background{height:100%;opacity:.6;z-index:1}.NuxMultiFlowStage-container-can-expand{width:auto}.NuxMultiFlowStage-form{padding:32px 0}",""]),e.exports=t},5310:function(e,t,a){"use strict";var n=a(0);a(9),Object.defineProperty(t,"__esModule",{value:!0}),t.AppUpsellStageDisplay=t.default=void 0;var o,l,i,r,s,u,d=n(a(20)),p=n(a(6)),c=n(a(3)),f=n(a(5311)),g=n(a(1448)),h=n(a(4859)),m=n(a(419)),S=n(a(4470)),x=n(a(1)),y=a(2),w=a(4);let v=(o=(0,n(a(10)).default)({name:"AppUpsellStage",loader:()=>a(5312)}),l=y.computed.struct,o(i=(0,w.observer)((u=s=class extends x.default.Component{constructor(...e){super(...e),this._handleConfirm=()=>{this.logAction("App upsell get app"),S.default.LaunchAppStore(),this.props.onNextStage({})},this._handleCancel=()=>{this.props.onNextStage({})}}get UpsellSpecs(){const{upsellSpecs:e=f.default.AppUpsell}=this.props;return e}get ConfirmAndCancelSpecs(){const{UpsellSpecs:e}=this;return e.confirmAndCancelSpecs}render(){const{UpsellSpecs:e}=this;return(0,p.default)("div",{className:"AppUpsellStage-container"},void 0,(0,p.default)(h.default,{className:"AppUpsellStage-icon"}),x.default.createElement(m.default,(0,d.default)({className:"AppUpsellStage-intro",size:"lg"},e.introSpecs)))}},s.Key="appUpsellStage",r=u,(0,c.default)(r.prototype,"UpsellSpecs",[l],Object.getOwnPropertyDescriptor(r.prototype,"UpsellSpecs"),r.prototype),(0,c.default)(r.prototype,"ConfirmAndCancelSpecs",[y.computed],Object.getOwnPropertyDescriptor(r.prototype,"ConfirmAndCancelSpecs"),r.prototype),i=r))||i)||i);t.AppUpsellStageDisplay=v;var A=(0,g.default)(v);t.default=A},5311:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={AppUpsell:{introSpecs:{title:"Use the app",subtitle:"The Guilded app makes it easier for you manage your server, find new players, and interact with your teammates on the go!"},confirmAndCancelSpecs:{cancelText:"Not now",confirmText:"Use the app"}}}},5312:function(e,t,a){var n=a(7),o=a(5313);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var l,i=0,r={injectType:"lazyStyleTag",insert:"head",singleton:!1},s={};o.locals&&(s.locals=o.locals),s.use=function(e){return i++||(l=n(o,{...r,...e})),s},s.unuse=function(){i>0&&!--i&&(l(),l=null)},e.exports=s},5313:function(e,t,a){(t=a(8)(!1)).push([e.i,".AppUpsellStage-container{flex:1;display:flex;flex-direction:column;align-items:center}.AppUpsellStage-icon{width:83px;height:74px}.AppUpsellStage-intro{flex:1;margin-top:32px}",""]),e.exports=t}}]);
//# sourceMappingURL=https://sourcemaps.local.guilded.gg/db0e2dcb/UpdateAppOverlay.js.map