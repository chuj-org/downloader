(window.webpackJsonp=window.webpackJsonp||[]).push([[189],{4717:function(e,t,a){"use strict";var r=a(0);a(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,n,s,l,u=r(a(6)),p=a(14),d=r(a(12)),c=r(a(3)),f=(r(a(13)),r(a(18))),m=r(a(68)),h=r(a(50)),g=r(a(204)),b=r(a(273)),y=r(a(25)),v=r(a(114)),w=r(a(1)),C=a(2),S=a(4);var I=(o=C.computed.struct,(0,g.default)(i=(0,y.default)(i=(0,S.observer)((n=class extends w.default.Component{constructor(...e){var t;super(...e),t=this,this.ControlConfiguration=b.default.ConfirmAndCancel,this.Header="Update application status",(0,d.default)(this,"formValue",s,this),(0,d.default)(this,"_handleChange",l,this),this.Confirm=(0,p.coroutine)((function*(){const{teamId:e,teamInfo:a}=t.teamContext,{changedValues:r}=t.formValue;yield h.default.UpdateBatchTeamLfmStatus({teamId:e,statusUpdates:Object.entries(r).map(([e,t])=>({gameId:"isRecruiting"===e?null:e,isAcceptingApplications:t}))}),Object.entries(r).forEach(([e,t])=>"isRecruiting"===e?a.updateTeamInfo({isRecruiting:t}):a.updateLfmStatus({gameId:e,isAcceptingApplications:t}))}))}get hasUnsavedChanges(){var e;return!!(null===(e=this.formValue)||void 0===e?void 0:e.hasChanged)}get Disabled(){const{formValue:e,hasUnsavedChanges:t}=this;return!e||!t}get formSpecs(){const{teamInfo:e}=this.teamContext;return{rowStyle:f.default.IsDesktop?"border-unpadded":"border-padding",rowMarginSize:"sm",sections:[{fieldSpecs:[{type:m.default.Switch,fieldName:"isRecruiting",layout:"space-between",label:e.name,imageSrc:e.profilePictureSm,defaultValue:e.isRecruiting},...e.games.map(t=>{var a;return{type:m.default.Switch,fieldName:t.id,layout:"space-between",label:t.shortName,imageSrc:t.smallIcon,defaultValue:!!(null===(a=e.lfmStatusByGameId[t.id])||void 0===a?void 0:a.isAcceptingApplications)}})]}]}}render(){const{formSpecs:e}=this;return(0,u.default)(v.default,{formSpecs:e,onChange:this._handleChange,useScrollWrapper:!0})}},s=(0,c.default)(n.prototype,"formValue",[C.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),(0,c.default)(n.prototype,"hasUnsavedChanges",[C.computed],Object.getOwnPropertyDescriptor(n.prototype,"hasUnsavedChanges"),n.prototype),(0,c.default)(n.prototype,"Disabled",[C.computed],Object.getOwnPropertyDescriptor(n.prototype,"Disabled"),n.prototype),(0,c.default)(n.prototype,"formSpecs",[o],Object.getOwnPropertyDescriptor(n.prototype,"formSpecs"),n.prototype),l=(0,c.default)(n.prototype,"_handleChange",[C.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.formValue=e}}),i=n))||i)||i)||i);t.default=I}}]);
//# sourceMappingURL=https://sourcemaps.local.guilded.gg/db0e2dcb/UpdateRecruitmentStatusOverlay.js.map