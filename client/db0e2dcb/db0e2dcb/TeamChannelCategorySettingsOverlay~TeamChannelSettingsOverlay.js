(window.webpackJsonp=window.webpackJsonp||[]).push([[29,179],{4516:function(e,t,r){"use strict";var o=r(0);r(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,n,s=o(r(6)),l=r(14),i=o(r(3)),d=o(r(81)),c=o(r(1483)),u=o(r(8271)),p=o(r(5054)),m=o(r(273)),f=o(r(18)),h=r(23),y=o(r(938)),b=o(r(11)),g=o(r(1)),O=r(2),v=r(4);var C=(0,o(r(10)).default)({name:"TeamRoleOrMemberSelector",loader:()=>r(8272)})(a=(0,u.default)(a=(0,p.default)(a=(0,v.observer)((n=class extends g.default.Component{constructor(...e){super(...e),this.Header="Roles and Members",this.Confirm=(0,l.coroutine)((function*(){})),this.ControlConfiguration=m.default.BackArrow}get canViewSearchControl(){const{member:e}=this.props,{canUpdateTeam:t}=this.teamContext;return!e||t}get roleAndMemberOptions(){const{roleOptions:e,memberOptions:t}=this;return e.concat(t)}get searchControlComponent(){var e,t;return d.default.AsyncTeamMemberFetching||(null===(e=this.teamContext)||void 0===e?void 0:null===(t=e.teamInfo)||void 0===t?void 0:t.responsiveMemberRendering)?c.default:y.default}render(){const{roleAndMemberOptions:e,canViewSearchControl:t,searchControlComponent:r}=this,{onCloseSelector:o,className:a}=this.props;return(0,s.default)("div",{className:(0,b.default)("TeamRoleOrMemberSelector-container",f.default.IsDesktop&&"TeamRoleOrMemberSelector-container-desktop",a),onClick:h.stopEventPropagationAndDefault},void 0,t&&(0,s.default)(r,{className:"TeamRoleOrMemberSelector-search-select",options:e,hideSelectOptions:!0,placeholder:"Search roles",noOptionsText:"All roles added",dismissOnContentClick:!1,size:"md",onEscapePressed:o,autoFocus:!0,asyncQueryRequestHandler:this.searchAndStoreMembers,includeAsyncOptions:!1}))}},(0,i.default)(n.prototype,"canViewSearchControl",[O.computed],Object.getOwnPropertyDescriptor(n.prototype,"canViewSearchControl"),n.prototype),(0,i.default)(n.prototype,"roleAndMemberOptions",[O.computed],Object.getOwnPropertyDescriptor(n.prototype,"roleAndMemberOptions"),n.prototype),(0,i.default)(n.prototype,"searchControlComponent",[O.computed],Object.getOwnPropertyDescriptor(n.prototype,"searchControlComponent"),n.prototype),a=n))||a)||a)||a)||a;t.default=C},5054:function(e,t,r){"use strict";var o=r(0);r(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,r,o,n,m,h;return t=p.computed.struct,r=p.computed.struct,(0,u.default)((h=m=class extends e{constructor(...e){var t;super(...e),t=this,this.GetRoleLabelStyle=e=>{const{color:t,color2:r}=e;return r?f(f({},i.default.GetTextGradientStyle(t,r)),{},{maxWidth:"fit-content"}):{color:(0,l.GetRoleColor)(t)}},this.ConvertRoleToOption=e=>{const{IsSingleSelect:t=!0,IncludeRoleOptionOnClick:r=!0}=this;return{title:"@".concat(e.name),label:"@".concat(e.name),rgbColorNormalized:(0,l.GetRoleColor)(e.color),color:e.color,color2:e.color2,imageType:"icon",onClick:r?this._handleAssignRole:null,size:c.default.IsDesktop?"sm":"md",infoSize:c.default.IsDesktop?"sm":"md",flavor:"transparent",value:e.id,isSingleSelect:t,labelStyle:this.GetRoleLabelStyle(e)}},this._handleAssignRole=function(){var e=(0,a.coroutine)((function*(e){const{teamId:r}=t.teamContext,{member:o,onRoleSelect:a,onCloseSelector:n}=t.props;var s,l;o?(yield d.default.AssignTeamRole({teamId:r,userId:o.id,roleId:e}),o.addRoleId(e)):(null===(s=t.OnRoleSelect)||void 0===s||s.call(t,e),null==a||a(e),null===(l=t.close)||void 0===l||l.call(t),null==n||n())}));return function(t){return e.apply(this,arguments)}}()}get availableMembershipRoles(){const{member:e,excludedRoleIds:t,excludeHigherPriorityRoles:r=!0,includeBotRoles:o=this.IncludeBotRoles}=this.props,{IncludeCurrentRole:a=!1}=this,{teamInfo:n,viewerIsAdmin:s,memberInfo:l,canManageRoles:i}=this.teamContext;return(o?[...n.assignableRoles,...n.botRoles]:n.assignableRoles).filter(({id:o,isSelfAssignable:n,priority:d})=>!((null==t?void 0:t.includes(o))||(null==e?void 0:e.membershipRoleIds.includes(o)))&&(!r||(n&&(l.rank>d||(null==e?void 0:e.id)===l.id)||s||i&&l.rank>d||a&&l.rank===d)))}get roleOptions(){return this.availableMembershipRoles.map(this.ConvertRoleToOption)}},m.displayName=e.displayName||e.name,n=h,(0,s.default)(n.prototype,"availableMembershipRoles",[t],Object.getOwnPropertyDescriptor(n.prototype,"availableMembershipRoles"),n.prototype),(0,s.default)(n.prototype,"roleOptions",[r],Object.getOwnPropertyDescriptor(n.prototype,"roleOptions"),n.prototype),o=n))||o};var a=r(14),n=o(r(15)),s=o(r(3)),l=r(153),i=o(r(160)),d=o(r(50)),c=o(r(18)),u=o(r(25)),p=r(2);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},8271:function(e,t,r){"use strict";var o=r(0);r(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,r,o,c,u,p;return t=d.computed.struct,r=d.computed.struct,(0,i.default)(o=(0,s.default)((p=u=class extends e{constructor(...e){var t;super(...e),t=this,this.includeMember=({id:e})=>!this.excludedMemberIds.includes(e),this.transformMemberForSelector=e=>({title:e.displayName,color:e.roleColor,color2:e.roleColor2,image:e.profilePictureSm,imageType:"user",imageSize:"xs",onClick:this._handleSelectMember,size:l.default.IsDesktop?"sm":"md",infoSize:l.default.IsDesktop?"sm":"md",flavor:"transparent",value:e.id,isSingleSelect:!0}),this._handleSelectMember=function(){var e=(0,a.coroutine)((function*(e){var r,o;const{onMemberSelect:a,onCloseSelector:n}=t.props;null===(r=t.OnMemberSelect)||void 0===r||r.call(t,e),null==a||a(e),null===(o=t.close)||void 0===o||o.call(t),null==n||n()}));return function(t){return e.apply(this,arguments)}}()}get excludedMemberIds(){return this.props.excludedMemberIds||[]}get availableMembers(){const{teamInfo:{activeMembers:e}}=this.teamContext;return e.filter(this.includeMember)}get memberOptions(){return this.availableMembers.map(this.transformMemberForSelector)}},u.displayName=e.displayName||e.name,c=p,(0,n.default)(c.prototype,"excludedMemberIds",[d.computed],Object.getOwnPropertyDescriptor(c.prototype,"excludedMemberIds"),c.prototype),(0,n.default)(c.prototype,"availableMembers",[t],Object.getOwnPropertyDescriptor(c.prototype,"availableMembers"),c.prototype),(0,n.default)(c.prototype,"memberOptions",[r],Object.getOwnPropertyDescriptor(c.prototype,"memberOptions"),c.prototype),o=c))||o)||o};var a=r(14),n=o(r(3)),s=o(r(583)),l=o(r(18)),i=o(r(25)),d=r(2)},8272:function(e,t,r){var o=r(7),a=r(8273);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var n,s=0,l={injectType:"lazyStyleTag",insert:"head",singleton:!1},i={};a.locals&&(i.locals=a.locals),i.use=function(e){return s++||(n=o(a,{...l,...e})),i},i.unuse=function(){s>0&&!--s&&(n(),n=null)},e.exports=i},8273:function(e,t,r){(t=r(8)(!1)).push([e.i,".TeamRoleOrMemberSelector-container{display:flex;flex-direction:column}.TeamRoleOrMemberSelector-search-select{width:100%;padding:12px;flex:1}.TeamRoleOrMemberSelector-list{flex-shrink:0;padding:0 12px 8px 12px;max-height:80px;overflow-y:overlay;display:flex;flex-wrap:wrap;width:100%;scrollbar-width:thin;scrollbar-color:rgba(25,27,31,.8) transparent}.TeamRoleOrMemberSelector-list::-webkit-scrollbar{width:4px}.TeamRoleOrMemberSelector-list::-webkit-scrollbar:horizontal{height:4px}.TeamRoleOrMemberSelector-list::-webkit-scrollbar-thumb{border-color:transparent;border:2px solid transparent;border-radius:3px;cursor:move;background-color:#191b1f}.TeamRoleOrMemberSelector-list::-webkit-scrollbar-thumb,.TeamRoleOrMemberSelector-list::-webkit-scrollbar-track{background-clip:padding-box;border-radius:7.5px;border-style:solid;border-width:3px}.TeamRoleOrMemberSelector-list::-webkit-scrollbar-track{background-color:transparent !important;border-color:transparent !important;border:2px solid transparent !important;border-width:initial}.TeamRoleOrMemberSelector-list::-webkit-scrollbar,.TeamRoleOrMemberSelector-list::-webkit-scrollbar:hover,.TeamRoleOrMemberSelector-list::-webkit-scrollbar-thumb:vertical,.TeamRoleOrMemberSelector-list::-webkit-scrollbar,.TeamRoleOrMemberSelector-list::-webkit-scrollbar,.TeamRoleOrMemberSelector-list::-webkit-scrollbar-track,.TeamRoleOrMemberSelector-list::-webkit-scrollbar-corner,.TeamRoleOrMemberSelector-list::-webkit-scrollbar-track-piece,.TeamRoleOrMemberSelector-list::-webkit-scrollbar-track-piece-thumb,.TeamRoleOrMemberSelector-list::-webkit-scrollbar-track-piece-corner,.TeamRoleOrMemberSelector-list::-webkit-scrollbar-track-piece-button{background-color:transparent;background:transparent}.TeamRoleOrMemberSelector-list::-webkit-scrollbar-thumb{background:rgba(25,27,31,.8) !important}.TeamRoleOrMemberSelector-role{margin:0 4px 4px 0;max-width:100%}.TeamRoleOrMemberSelector-container-desktop{width:220px;max-height:500px}.TeamRoleOrMemberSelector-none{color:#a3a3ac;font-size:14px;line-height:145%;font-weight:normal;line-height:19px}.TeamRoleOrMemberSelector-add-roles-header{border-top:1px solid rgba(163,163,172,.2)}.TeamRoleOrMemberSelector-header{padding:12px 12px 4px 12px;font-size:12px;line-height:14px;color:#a3a3ac;text-transform:uppercase;font-weight:700}.TeamRoleOrMemberSelector-header + .TeamRoleOrMemberSelector-search-select{padding:0 12px 12px 12px}",""]),t.locals={confirmationGreen:"#53da33",confirmationGreenDesaturated:"#6cba50",gilded4:"#ecb200",gilded5:"#e0a900",gilded6:"#be8c00",errorRedDesaturated:"#df5353",gray:"#a3a3ac",bodyTextWhite:"#ececee",bodyTextWiteMask64:"rgba(236,236,238,.64)",border:"#848a94",errorRed:"#ff6b6b",warnYellow:"#ffb400",nuxBlue:"#008ae1",calendarOrange:"#d89332",calendarBlue:"#355bf8",calendarGreen:"#6cba50",calendarSeagreen:"#30a68f",calendarJewelgreen:"#148f33",calendarPurple:"#a250e8",calendarPurpleMask7:"rgba(162,80,232,.07)",calendarPurpleMask10:"rgba(162,80,232,.1)",mediumPurple3:"#dab9f6",mediumPurple3Mask10:"rgba(218,185,246,.1)",dropmenuGray:"#4f515d",menuGray:"#4f515d",menuGrayMask30:"rgba(79,81,93,.3)",yellowHighlight:"#ffeca0",desaturatedReddit:"#ea794f",desaturatedTwitter:"#64a9d4",desaturatedYoutube:"#cf5c58",whatsapp:"#25d366",github:"#24292e",vimeo:"#1ab7ea",gilded:"#f5c400",orangeRed:"#ff4500",gameNavBlack:"#32343d",gameNavBlackMask36:"rgba(50,52,61,.36)",white:"#fff",gilded2:"#f8d64c",gilded2Mask5:"rgba(248,214,76,.05)",gilded2Mask7:"rgba(248,214,76,.07)",gilded2Mask10:"rgba(248,214,76,.1)",gilded2Mask20:"rgba(248,214,76,.2)",gilded2Mask50:"rgba(248,214,76,.5)",nuxBlueDesaturatedMask7:"rgba(174,189,252,.07)",restGet:"#335a9e",restHead:"#a250e8",restPost:"#6cba50",restPut:"#d89332",restPatch:"#4f515d",restDelete:"#ff6b6b",mysteriousGray:"#212329",backgroundBlack:"#1e2025",yellowThree:"#ffb400",calendarGreenDesaturated:"#476047",calendarRed:"#df5353",calendarRedMask30:"rgba(223,83,83,.2)",calendarRedDesaturated:"#694148",druidOrange:"#e4b370",sidebarBlack:"#292b32",brandyPunch:"#d89332",navBlack:"#191b1f",yellow1:"gold",yellow2:"#e4c519",yellow3:"#ffb400",yellow4:"#ffb400",yellow5:"#d89f0c",yellow6:"#ffd800",yellow6Mask35:"rgba(255,216,0,.35)",gameNavGray:"#30323a",skeletonGray:"#50525f",blackPearl:"#222329",twitch:"#9146ff",bnet:"#078ad2",psn:"#00134c",xbox:"#1c6d00",steam:"#231f20",origin:"#e73b00",youtube:"red",twitter:"#1189f4",facebook:"#335a9e",switch:"#e60012",patreon:"#ff424d",roblox:"#00a2ff",epic:"#2f2d2e",bnetSecondary:"#009ae4",psnSecondary:"#2d64e6",xboxSecondary:"#52b043",steamSecondary:"#096295",twitchSecondary:"#9146ff",epicSecondary:"#0078f2",grayMask20:"rgba(163,163,172,.2)",grayMask40:"rgba(163,163,172,.4)",goldenShadow:"rgba(255,234,0,.5)",colorChannelGray:"#373943",streamGradient:"linear-gradient(63.5deg, #ff0000 -29.74%, #b258ff 83.36%)"},e.exports=t},8460:function(e,t,r){"use strict";var o=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,n,s=o(r(6)),l=o(r(3)),i=o(r(9923)),d=o(r(9925)),c=o(r(8444)),u=o(r(9926)),p=o(r(9927)),m=o(r(1)),f=r(2),h=r(4);var y=(0,d.default)(a=(0,h.observer)((n=class extends m.default.Component{get defaultSelectionId(){const{teamInfo:e}=this.teamContext;return e.rolesById.baseRole.id}render(){const{orderedRoleList:e,membersWithPermissions:t,selectedRole:r,selectedMember:o,selectedRoleOrMemberId:a,rolesById:n}=this;return(0,s.default)(c.default,{},void 0,(0,s.default)(p.default,{onRoleSync:this.OnRoleSync,rolesById:n,selectedRoleOrMemberId:a,roles:e,onRoleSelect:this.OnRoleSelect,members:t,onMemberSelect:this.OnMemberSelect,onRoleContextMenu:this.OnOpenRoleOptions,onUserContextMenu:this.OnOpenUserOptions}),r&&(0,s.default)(u.default,{role:r,onChange:this.OnRoleEditorChange,onDeleteRole:this.OnDeleteRole},a),o&&(0,s.default)(i.default,{user:o,onChange:this.OnUserEditorChange,onDelete:this.OnDeleteUser},a))}},(0,l.default)(n.prototype,"defaultSelectionId",[f.computed],Object.getOwnPropertyDescriptor(n.prototype,"defaultSelectionId"),n.prototype),a=n))||a)||a;t.default=y},8461:function(e,t,r){"use strict";var o=r(0);r(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,r,o,R,P,S,w,I,M,x,k;return t=(0,g.default)([O.SimpleConfirmationOverlay]),r=b.computed.struct,o=b.computed.struct,R=b.computed.struct,P=b.computed.struct,S=b.computed.struct,w=b.computed.struct,t(I=(0,n.default)(I=(0,l.default)(I=(0,h.default)(I=(0,y.default)(I=(0,s.default)(I=(0,u.default)((k=x=class extends e{constructor(...e){super(...e),this.BulkPermissionActionsShowDefaultAll=!0,this.ReadLabelByContentType=Object.entries(m.PermissionsContentTypeMap).reduce((e,[t,{Permissions:r}])=>(e[t]=r.find(e=>e.Hex===m.READ_PERMISSION).Label,e),{}),this.SectionStyle=p.default.IsDesktop?"padded":p.default.IsNative?"border":"unpadded",this.GetPermissionToggleValues=(e,t,r)=>{const{readControlledPermissionsByReadName:o,basePermissions:a,activeAllowPermissions:n}=this,s=o[r],{namespace:l}=this.getPermissionFromFieldName(r),i=(null==n?void 0:n[l])||0,d=e===C.default.PassThrough&&!(a[l]&m.READ_PERMISSION);return(null==s?void 0:s.length)?s.reduce((r,o)=>{if(e===C.default.Off)r[o]=e;else{const{permission:a}=this.getPermissionFromFieldName(o),n=m.PermissionsMap[a],s=(i&(null==n?void 0:n.Hex))===(null==n?void 0:n.Hex);r[o]=s&&d?e:t[o]}return r},{}):{}},this._filteredPermissions=({Permissions:e})=>e.filter(({IsTeamLevelOnly:e,GateKey:t})=>!e&&(!t||i.default[t]))}get PermissionsNameSpaces(){const{channel:e}=this.teamChannelContext;if(e){const t=m.PermissionsContentTypeMap[e.contentType];return[(0,m.GetGeneralChannelPermissionsNamespaceForContentType)({contentType:e.contentType}),t,...((null==t?void 0:t.SubContentTypes)||[]).map(e=>m.PermissionsContentTypeMap[e])].filter(Boolean)}return[m.GeneralChannelPermissionsNameSpace,...Object.values(m.PermissionsContentTypeMap)].filter(({GateKey:e})=>!e||i.default[e])}get activeAllowPermissions(){return(this.role||this.user).allowPermissions}get activeDenyPermissions(){return(this.role||this.user).denyPermissions}get basePermissions(){return this.role?this.teamContext.teamInfo.rolesById[this.role.id].permissions:this.user?this.teamContext.getUser(this.user.id).membershipRole.rolePermissions:void 0}get canReadByContentTypeNamespace(){const{activeAllowPermissions:e,activeDenyPermissions:t,basePermissions:r}=this;return this.PermissionsNameSpaces.filter(({ContentType:e})=>!!e).reduce((o,{NameSpaceKey:a})=>(o[a]=!!((null==e?void 0:e[a])&m.READ_PERMISSION)||!((null==t?void 0:t[a])&m.READ_PERMISSION)&&Boolean(r[a]&m.READ_PERMISSION),o),{})}get PermissionsSections(){const{ReadLabelByContentType:e,canReadByContentTypeNamespace:t,PermissionsNameSpaces:r,DefaultAllowPermissions:o={},DefaultDenyPermissions:a={}}=this,{isCategoryEnabled:n,channel:s}=this.teamChannelContext;return r.map(({NameSpaceKey:r,Label:l,Permissions:i,ContentType:u})=>({header:l,isCollapsible:!p.default.IsDesktop,rowStyle:p.default.IsDesktop?"border-unpadded":"unpadded",allowBulkFieldChange:!0,fieldSpecs:this._filteredPermissions({NameSpaceKey:r,Permissions:i}).map(l=>{const i=d.default[l.Name];return{type:f.default.TriState,fieldName:this.getPermissionFieldName(r,l.Name),label:n&&(null==i?void 0:i.ChannelCategoryLabel)||(null==i?void 0:i.ChannelLabel)||l.Label,isDisabled:(null==s?void 0:s.isPublic)&&l.Hex===m.READ_PERMISSION,triStateDisabledButton:u&&l.Hex!==m.READ_PERMISSION&&!t[r]?v.TriStateInputPermissions.Allow:null,disabledTooltip:(null==s?void 0:s.isPublic)&&l.Hex===m.READ_PERMISSION?"Read permissions cannot be modified for public channels":u?"".concat(e[u]," must be enabled to grant allow permission to ").concat(l.Label):null,defaultValue:c.default.GetDefaultTriStateValue({allowPermissions:o,denyPermissions:a,permissionHex:l.Hex,namespace:r}),description:n&&(null==i?void 0:i.ChannelCategoryDescription)||(null==i?void 0:i.ChannelDescription)||l.Description,layout:"space-between"}})}))}get formSpecs(){const{SectionStyle:e,PermissionsSections:t,fieldValueReactions:r}=this;return{sectionStyle:e,rowMarginSize:p.default.IsDesktop?"sm":"md",sections:[this.PermissionsBulkActionsSection,...t],fieldValueReactions:r}}},x.displayName=e.displayName||e.name,M=k,(0,a.default)(M.prototype,"PermissionsNameSpaces",[r],Object.getOwnPropertyDescriptor(M.prototype,"PermissionsNameSpaces"),M.prototype),(0,a.default)(M.prototype,"activeAllowPermissions",[o],Object.getOwnPropertyDescriptor(M.prototype,"activeAllowPermissions"),M.prototype),(0,a.default)(M.prototype,"activeDenyPermissions",[R],Object.getOwnPropertyDescriptor(M.prototype,"activeDenyPermissions"),M.prototype),(0,a.default)(M.prototype,"basePermissions",[P],Object.getOwnPropertyDescriptor(M.prototype,"basePermissions"),M.prototype),(0,a.default)(M.prototype,"canReadByContentTypeNamespace",[S],Object.getOwnPropertyDescriptor(M.prototype,"canReadByContentTypeNamespace"),M.prototype),(0,a.default)(M.prototype,"PermissionsSections",[b.computed],Object.getOwnPropertyDescriptor(M.prototype,"PermissionsSections"),M.prototype),(0,a.default)(M.prototype,"formSpecs",[w],Object.getOwnPropertyDescriptor(M.prototype,"formSpecs"),M.prototype),I=M))||I)||I)||I)||I)||I)||I)||I};var a=o(r(3)),n=o(r(8445)),s=o(r(139)),l=o(r(8446)),i=o(r(81)),d=o(r(9924)),c=o(r(1009)),u=o(r(78)),p=o(r(18)),m=r(317),f=o(r(68)),h=o(r(25)),y=o(r(46)),b=r(2),g=o(r(34)),O=r(30),v=r(1672),C=o(r(752))},8462:function(e,t,r){"use strict";var o=r(0);r(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,r,o;return(0,i.observer)(t=(0,n.default)((o=r=class extends e{constructor(...e){var t;super(...e),t=this,this.checkAndConfirmRoleChanges=function(){var e=(0,a.coroutine)((function*({memberInfo:e,rolesById:r,userPermissionsByUserId:o}){var a,n;const i=(null===(a=l.PermissionsContentTypeMap[null===(n=t.teamChannelContext)||void 0===n?void 0:n.contentType])||void 0===a?void 0:a.NameSpaceKey)||"general",{updatePermissionDenied:d,readContentDenied:c}=s.default.WouldChangesLockOutUser({memberInfo:e,proposedRolesById:r,proposedUserPermissionsById:o,namespace:i});if(d||c){const e=c&&d?"These changes will lock your role of out the ability to view this channel and manage its permissions.  You won't be able to view this channel or manage permissions for any roles after this change.  Are you sure?":c?"These changes will lock your role out of the ability to view this channel. You won't be able to view this channel after this change. Are you sure?":"These changes will lock your role out of the ability to manage permissions. You won't be able to manage permissions for any roles after this change. Are you sure?",{confirmed:r}=yield t.SimpleConfirmationOverlay.Open({header:"Are you sure?",text:e,confirmType:"delete"});return r}return!0}));return function(t){return e.apply(this,arguments)}}()}},r.displayName=e.displayName||e.name,t=o))||t)||t};var a=r(14),n=o(r(78)),s=o(r(1009)),l=r(317),i=(r(2),r(4))},9923:function(e,t,r){"use strict";var o=r(0);r(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,n,s=o(r(6)),l=o(r(15)),i=o(r(3)),d=o(r(8218)),c=o(r(8461)),u=o(r(1009)),p=o(r(114)),m=o(r(39)),f=o(r(1)),h=r(2),y=r(4);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var O=(0,m.default)(a=(0,c.default)(a=(0,y.observer)((n=class extends f.default.Component{constructor(...e){super(...e),this.DefaultDenyPermissions=this.props.user.denyPermissions,this.DefaultAllowPermissions=this.props.user.allowPermissions,this._handleDelete=()=>this.props.onDelete(this.user.id),this._handleChange=({values:e,hasChanged:t,isValid:r})=>{this.props.onChange({userPermissions:g({userId:this.user.id},u.default.GetPermissionsFromFormValues({values:e})),isValid:r,hasChanged:t})}}get user(){return this.props.user}render(){const{isMakingRequest:e,formSpecs:t,user:r}=this,{className:o}=this.props;return(0,s.default)(d.default,{className:o,onDelete:this._handleDelete,isLoading:e,canDelete:!0,removeButtonText:"Remove user",id:r.id},void 0,f.default.createElement(p.default,{ref:this.HandleFormRef,formSpecs:t,onChange:this._handleChange}))}},(0,i.default)(n.prototype,"user",[h.computed],Object.getOwnPropertyDescriptor(n.prototype,"user"),n.prototype),a=n))||a)||a)||a;t.default=O},9924:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(317),a={[o.PermissionsMap.CanUpdateTeam.Name]:{ChannelLabel:"Manage permissions",ChannelDescription:"Allows you to manage the channel's permissions",ChannelCategoryDescription:"Allows you to manage the category's channel permissions"},[o.PermissionsMap.CanManageChannels.Name]:{ChannelLabel:"Manage channel",ChannelCategoryLabel:"Manage category",ChannelDescription:"Allows you to change the channel's name or delete it",ChannelCategoryDescription:"Allows you to change the category's name or delete it"},[o.PermissionsMap.CanManageWebhooks.Name]:{ChannelDescription:"Allows you to create new webhooks for this channel and edit or delete existing ones",ChannelCategoryDescription:"Allows you to create new webhooks for channels in this category and edit or delete existing ones"}};t.default=a},9925:function(e,t,r){"use strict";var o=r(19),a=r(0);r(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,r,o,a,n,S,I,M,x,k,D,T,B,j,N,_,A,U,G;return t=(0,f.default)([m.SimpleConfirmationOverlay,m.ContextMenuOverlay]),r=P.computed.struct,o=P.computed.struct,t(a=(0,d.default)(a=(0,O.default)(a=(0,v.default)(a=(0,C.default)(a=(0,g.default)(a=(0,h.default)(a=(0,R.default)((G=U=class extends e{constructor(...e){var t;super(...e),t=this,this.IsNestable=!0,(0,l.default)(this,"_selectedRoleOrMemberId",S,this),(0,l.default)(this,"rolesById",I,this),(0,l.default)(this,"userPermissionsByUserId",M,this),this.haveAnyRolesOrUsersChanged=!1,this.rolesValidityMap={},this.reactions=[{dataFn:()=>({channelRolesById:this.teamChannelContext.channelRolesById}),reaction:()=>this._handleRolesByIdChange(),fireImmediately:!0,struct:!0},{dataFn:()=>this.teamChannelContext.userPermissions,reaction:()=>this._handleUserPermissionsChange(),fireImmediately:!0}],(0,l.default)(this,"_handleRolesByIdChange",x,this),(0,l.default)(this,"_handleUserPermissionsChange",k,this),this.SaveChanges=(0,s.coroutine)((function*(){const{teamId:e,memberInfo:r}=t.teamContext,{group:o}=t.groupContext,{channelId:a,channel:n,isCategoryEnabled:l,channelCategoryId:i,category:d}=t.teamChannelContext,{userPermissionsByUserId:u,rolesById:p}=t;if(!(yield t.checkAndConfirmRoleChanges({memberInfo:r,rolesById:p,userPermissionsByUserId:u})))throw new c.default("Cancelled permission lock out");const m=l?b.default.UpdateCategoryUserPermissions:b.default.UpdateChannelUserPermissions,f=l?b.default.UpdateCategoryRoles:b.default.UpdateChannelRoles,[h,y]=yield s.default.all([Object.values(u).length>0?m({teamId:e,channelId:a,channelCategoryId:i,users:Object.values(u)}):null,f({teamId:e,channelId:a,channelCategoryId:i,roles:Object.values(p)})]);l?d.update({userPermissions:h,rolesById:y}):n.update({userPermissions:h,rolesById:y}),t.haveAnyRolesOrUsersChanged=!1})),(0,l.default)(this,"OnRoleSelect",D,this),(0,l.default)(this,"OnMemberSelect",T,this),(0,l.default)(this,"OnRoleSync",B,this),(0,l.default)(this,"OnRoleEditorChange",j,this),(0,l.default)(this,"OnUserEditorChange",N,this),this.OnOpenRoleOptions=({role:e,event:t})=>this.ContextMenuOverlay.Open({menuSpecs:{sections:[{name:"Options",actions:[!e.isBase&&{label:"Delete",type:"delete",destructive:!0,onClick:()=>this.OnDeleteRole(e.id),icon:"icon-trash"}].filter(Boolean)}]},portalTriggerContainer:t?(0,u.GetEmulatedContainerAtClick)(t):null}),this.OnOpenUserOptions=({user:e,event:t})=>this.ContextMenuOverlay.Open({menuSpecs:{sections:[{name:"Options",actions:[{label:"Delete",type:"delete",destructive:!0,onClick:()=>this.OnDeleteUser(e.id),icon:"icon-trash"}]}]},portalTriggerContainer:t?(0,u.GetEmulatedContainerAtClick)(t):null}),(0,l.default)(this,"OnDeleteRole",_,this),(0,l.default)(this,"OnDeleteUser",A,this)}get selectedRoleOrMemberId(){var e,t;const{rolesById:r,userPermissionsByUserId:o,defaultSelectionId:a=null}=this,{teamInfo:n}=this.teamContext;return this._selectedRoleOrMemberId===n.rolesById.baseRole.id?this._selectedRoleOrMemberId:(null===(e=r[this._selectedRoleOrMemberId])||void 0===e?void 0:e.teamRoleId)||(null===(t=o[this._selectedRoleOrMemberId])||void 0===t?void 0:t.userId)||a}get orderedRoleList(){const{teamInfo:e}=this.teamContext;return y.default.GetOrderedChannelRolesList({teamRolesById:e.rolesById,channelRolesById:this.rolesById})}get membersWithPermissions(){const{members:e}=this.teamContext,{userPermissionsByUserId:t}=this;return e.filter(e=>t.hasOwnProperty(e.id))}get NestedHeader(){const{selectedRole:e}=this;return e?"".concat(e.name," Permissions"):null}get selectedRole(){return this.orderedRoleList.find(e=>e.teamRoleId==this.selectedRoleOrMemberId||e.membershipRole===this.selectedRoleOrMemberId)}get selectedMember(){const e=this.membersWithPermissions.find(e=>e.id==this.selectedRoleOrMemberId);return e?w(w({},e),this.userPermissionsByUserId[e.id]):null}},U.displayName=e.displayName||e.name,n=G,S=(0,i.default)(n.prototype,"_selectedRoleOrMemberId",[P.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=(0,i.default)(n.prototype,"rolesById",[P.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),M=(0,i.default)(n.prototype,"userPermissionsByUserId",[P.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),x=(0,i.default)(n.prototype,"_handleRolesByIdChange",[P.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const{rolesById:e,haveAnyRolesOrUsersChanged:t}=this,{channelRolesById:r}=this.teamChannelContext;this.rolesById=Object.entries(r).map(([t,r])=>e[t]||w({},r)).reduce((e,t)=>(e[t.teamRoleId||t.id]=t,e),t?w({},e):{})}}}),k=(0,i.default)(n.prototype,"_handleUserPermissionsChange",[P.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const{userPermissionsByUserId:e}=this,{userPermissions:t}=this.teamChannelContext;this.userPermissionsByUserId=(null==t?void 0:t.map(t=>e[t.userId]||t).reduce((e,t)=>(e[t.userId]=t,e),{}))||{}}}}),(0,i.default)(n.prototype,"selectedRoleOrMemberId",[P.computed],Object.getOwnPropertyDescriptor(n.prototype,"selectedRoleOrMemberId"),n.prototype),(0,i.default)(n.prototype,"orderedRoleList",[r],Object.getOwnPropertyDescriptor(n.prototype,"orderedRoleList"),n.prototype),(0,i.default)(n.prototype,"membersWithPermissions",[o],Object.getOwnPropertyDescriptor(n.prototype,"membersWithPermissions"),n.prototype),(0,i.default)(n.prototype,"NestedHeader",[P.computed],Object.getOwnPropertyDescriptor(n.prototype,"NestedHeader"),n.prototype),(0,i.default)(n.prototype,"selectedRole",[P.computed],Object.getOwnPropertyDescriptor(n.prototype,"selectedRole"),n.prototype),(0,i.default)(n.prototype,"selectedMember",[P.computed],Object.getOwnPropertyDescriptor(n.prototype,"selectedMember"),n.prototype),D=(0,i.default)(n.prototype,"OnRoleSelect",[P.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return({roleId:e})=>{this._handleNestOption(),this._selectedRoleOrMemberId=e}}}),T=(0,i.default)(n.prototype,"OnMemberSelect",[P.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return({memberId:e})=>{this._handleNestOption(),this._selectedRoleOrMemberId=e}}}),B=(0,i.default)(n.prototype,"OnRoleSync",[P.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.rolesById={},this.haveAnyRolesOrUsersChanged=!1,this._selectedRoleOrMemberId=null,this._handleRolesByIdChange(),this.RevSettingsNonce()}}}),j=(0,i.default)(n.prototype,"OnRoleEditorChange",[P.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return({role:e,hasChanged:t})=>{this.rolesById=[...Object.values(this.rolesById),e].reduce((e,t)=>(e[t.teamRoleId||t.id]=t,e),{}),this.haveAnyRolesOrUsersChanged=this.haveAnyRolesOrUsersChanged||t,this._handleOptionsChange({isValid:!0,hasChanged:this.haveAnyRolesOrUsersChanged})}}}),N=(0,i.default)(n.prototype,"OnUserEditorChange",[P.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return({userPermissions:e,hasChanged:t})=>{const r=this.userPermissionsByUserId[e.userId];this.userPermissionsByUserId=w(w({},this.userPermissionsByUserId),{},{[e.userId]:w(w({},r),e)}),this.haveAnyRolesOrUsersChanged=this.haveAnyRolesOrUsersChanged||t,this._handleOptionsChange({isValid:!0,hasChanged:this.haveAnyRolesOrUsersChanged})}}}),_=(0,i.default)(n.prototype,"OnDeleteRole",[P.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,s.coroutine)((function*(t){if(e.isLoading)return;(0,p.default)(t,"roleId is required");const{teamId:r}=e.teamContext,{channelId:o,channelCategoryId:a,isCategoryEnabled:n,channel:s,category:l}=e.teamChannelContext;e.isLoading=!0;try{const d="Are you sure you want to remove this role?";let{confirmed:c}=yield e.SimpleConfirmationOverlay.Open({header:"Delete role",confirmType:"delete",confirmTest:"Delete",text:d});if(!c)return;const{memberInfo:u}=e.teamContext,{rolesById:p,userPermissionsByUserId:m}=e;if(c=yield e.checkAndConfirmRoleChanges({memberInfo:u,rolesById:Object.keys(p).reduce((e,r)=>(r!=t&&(e[r]=p[r]),e),{}),userPermissionsByUserId:m}),!c)return;const f=n?b.default.RemoveCategoryRole:b.default.RemoveChannelRole;try{var i;yield f({teamId:r,channelId:o,channelCategoryId:a,teamRoleId:t});const d=w({},n?l.rolesById:s.rolesById);delete d[t],n?l.update({rolesById:d}):s.update({rolesById:d,isRoleSynced:!1}),null===(i=e.UnnestOption)||void 0===i||i.call(e,t)}catch(t){e.statusContext.displayError({error:t})}}catch(t){e.statusContext.displayError({error:t})}finally{(0,P.runInAction)(()=>e.isLoading=!1)}}));return function(e){return t.apply(this,arguments)}}()}}),A=(0,i.default)(n.prototype,"OnDeleteUser",[P.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,s.coroutine)((function*(t){if(e.isLoading)return;(0,p.default)(t,"userId is required");const{teamId:r}=e.teamContext,{channelId:o,channelCategoryId:a,isCategoryEnabled:n,channel:s,category:l}=e.teamChannelContext;let{confirmed:i}=yield e.SimpleConfirmationOverlay.Open({header:"Delete user permissions",confirmType:"delete",confirmTest:"Delete",text:"Are you sure you want to remove the permissions for this user? It cannot be undone."});if(!i)return;const{memberInfo:d}=e.teamContext,{rolesById:c,userPermissionsByUserId:u}=e;if(i=yield e.checkAndConfirmRoleChanges({memberInfo:d,rolesById:c,userPermissionsByUserId:Object.keys(u).reduce((e,r)=>(r!=t&&(e[r]=u[r]),e),{})}),!i)return;const m=n?b.default.RemoveCategoryUserPermission:b.default.RemoveChannelUserPermission;try{var f;const i=yield m({teamId:r,channelId:o,channelCategoryId:a,userId:t});n?l.update({userPermissions:i}):s.update({userPermissions:i}),null===(f=e.UnnestOption)||void 0===f||f.call(e,t)}catch(t){e.statusContext.displayError({error:t})}}));return function(e){return t.apply(this,arguments)}}()}}),a=n))||a)||a)||a)||a)||a)||a)||a)||a};var n=a(r(15)),s=o(r(14)),l=a(r(12)),i=a(r(3)),d=(a(r(13)),a(r(8462))),c=a(r(1635)),u=r(220),p=a(r(17)),m=r(30),f=a(r(34)),h=a(r(139)),y=a(r(1009)),b=a(r(670)),g=a(r(78)),O=a(r(1478)),v=a(r(25)),C=a(r(22)),R=a(r(37)),P=r(2);function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},9926:function(e,t,r){"use strict";var o=r(0);r(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,n,s=o(r(6)),l=o(r(15)),i=o(r(3)),d=o(r(8218)),c=o(r(8461)),u=o(r(1009)),p=o(r(114)),m=o(r(39)),f=o(r(1)),h=r(2),y=r(4);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var O=(0,m.default)(a=(0,c.default)(a=(0,y.observer)((n=class extends f.default.Component{constructor(...e){super(...e),this.DefaultDenyPermissions=this.props.role.denyPermissions,this.DefaultAllowPermissions=this.props.role.allowPermissions,this._handleDelete=()=>this.props.onDeleteRole(this.role.id),this._handleChange=({values:e,hasChanged:t,isValid:r})=>{this.props.onChange({role:g(g({},this.role),u.default.GetPermissionsFromFormValues({values:e})),isValid:r,hasChanged:t})}}get role(){return this.props.role}render(){const{role:e,isMakingRequest:t,formSpecs:r}=this,{className:o}=this.props;return(0,s.default)(d.default,{className:o,onDelete:this._handleDelete,isLoading:t,canDelete:!e.isBase&&!e.botScope,removeButtonText:"Remove role",id:e.id},void 0,f.default.createElement(p.default,{ref:this.HandleFormRef,formSpecs:r,onChange:this._handleChange}))}},(0,i.default)(n.prototype,"role",[h.computed],Object.getOwnPropertyDescriptor(n.prototype,"role"),n.prototype),a=n))||a)||a)||a;t.default=O},9927:function(e,t,r){"use strict";var o=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,n=o(r(6)),s=o(r(139)),l=o(r(9928)),i=o(r(8448)),d=o(r(8450)),c=o(r(9931)),u=o(r(18)),p=o(r(8451)),m=o(r(9935)),f=o(r(11)),h=o(r(1)),y=(r(2),r(4));var b=(0,o(r(10)).default)({name:"TeamChannelPermissionsList",loader:()=>r(9941)})(a=(0,s.default)(a=(0,y.observer)(a=class extends h.default.Component{render(){const{className:e,onRoleSelect:t,roles:r,members:o,onRoleSync:a,selectedRoleOrMemberId:s,onMemberSelect:h,onRoleContextMenu:y,onUserContextMenu:b}=this.props;return(0,n.default)("div",{className:(0,f.default)("TeamChannelPermissionsList-container",!u.default.IsDesktop&&"TeamChannelPermissionsList-container-mobile",e)},void 0,(0,n.default)("div",{className:"TeamChannelPermissionsList-header"},void 0,"Permissions"),(0,n.default)(c.default,{onRoleSync:a}),(0,n.default)(m.default,{onRoleSelect:t,roles:r,onMemberSelect:h,members:o}),(0,n.default)(d.default,{},void 0,o.map(e=>(0,n.default)(l.default,{member:e,onMemberSelect:h,isSelected:s===e.id,onContextMenu:b},e.id)),r.map(e=>(0,n.default)(i.default,{role:e,onRoleSelect:t,onContextMenu:!e.isBase&&y,isSelected:s===e.id,isDraggable:!1,canManageRole:!0},e.id))),(0,n.default)(p.default,{instructions:"Roles in this list override the role's permissions at the server-level"}))}})||a)||a)||a;t.default=b},9928:function(e,t,r){"use strict";var o=r(0);r(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,n=o(r(6)),s=o(r(8449)),l=o(r(377)),i=o(r(1)),d=(r(2),r(4));var c=(0,o(r(10)).default)({name:"TeamSettingsMembersListItem",loader:()=>r(9929)})(a=(0,d.observer)(a=class extends i.default.Component{constructor(...e){super(...e),this._handleClick=()=>{const{onMemberSelect:e,member:t}=this.props;e({memberId:t.id})},this._handleContextMenu=e=>this.props.onContextMenu({user:this.props.member,event:e})}render(){const{isSelected:e,member:t,className:r,onContextMenu:o}=this.props;return(0,n.default)(s.default,{className:r,isSelected:e,onClick:this._handleClick,isDraggable:!1,id:t.id,onContextMenu:o?this._handleContextMenu:null},void 0,(0,n.default)(l.default,{userId:t.id,size:"md-lg",disableProfileCard:!0,disableContextMenu:!0,hideUserStatusIcon:!0}))}})||a)||a;t.default=c},9929:function(e,t,r){var o=r(7),a=r(9930);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var n,s=0,l={injectType:"lazyStyleTag",insert:"head",singleton:!1},i={};a.locals&&(i.locals=a.locals),i.use=function(e){return s++||(n=o(a,{...l,...e})),i},i.unuse=function(){s>0&&!--s&&(n(),n=null)},e.exports=i},9930:function(e,t,r){(t=r(8)(!1)).push([e.i,"",""]),e.exports=t},9931:function(e,t,r){"use strict";var o=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,n=o(r(6)),s=o(r(53)),l=o(r(9932)),i=o(r(21)),d=o(r(11)),c=o(r(1)),u=(r(2),r(4));var p=(0,o(r(10)).default)({name:"TeamChannelRoleSyncControl",loader:()=>r(9933)})(a=(0,l.default)(a=(0,u.observer)(a=class extends c.default.Component{render(){const{className:e}=this.props,{showRoleSyncControl:t}=this;if(!t)return null;const{isRoleSynced:r,categoryName:o,preCategoryNameString:a}=this;return(0,n.default)("div",{className:(0,d.default)("TeamChannelRoleSyncControl-container",e)},void 0,(0,n.default)("div",{className:"TeamChannelRoleSyncControl-row"},void 0,(0,n.default)(i.default,{className:"TeamChannelRoleSyncControl-icon",iconName:"icon-sync"}),(0,n.default)("div",{className:"TeamChannelRoleSyncControl-info"},void 0,a,"Â ",(0,n.default)("span",{className:"TeamChannelRoleSyncControl-category-name"},void 0,o))),!r&&(0,n.default)(s.default,{className:"TeamChannelRoleSyncControl-button",size:"sm",style:"hollow",type:"bleached",onClick:this.HandleRoleSync},void 0,"Sync now"))}})||a)||a)||a;t.default=p},9932:function(e,t,r){"use strict";var o=r(0);r(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,r,o,f,h;return t=(0,i.default)([l.SimpleConfirmationOverlay]),(0,p.default)(r=(0,s.default)(r=(0,d.default)(r=(0,u.default)(r=t((h=f=class extends e{constructor(...e){var t;super(...e),t=this,this.HandleRoleSync=(0,a.coroutine)((function*(){var e,r;const{channelId:o,channel:a,category:n}=t.teamChannelContext,{teamId:s,memberInfo:l}=t.teamContext,i=(null==n?void 0:n.rolesById)||{},d=((null==n?void 0:n.userPermissions)||[]).reduce((e,t)=>(e[t.userId]=t,e),{});if(yield t.checkAndConfirmRoleChanges({memberInfo:l,rolesById:i,userPermissionsByUserId:d})){a.update({isRoleSynced:!0}),null===(e=(r=t.props).onRoleSync)||void 0===e||e.call(r);try{yield c.default.RoleSyncChannelWithCategory({channelId:o,teamId:s})}catch(e){t.statusContext.displayError({error:e})}}}))}get categoryName(){var e;return null===(e=this.teamChannelContext.category)||void 0===e?void 0:e.name}get showRoleSyncControl(){const{channel:e}=this.teamChannelContext;return!!(null==e?void 0:e.channelCategoryId)}get isRoleSynced(){var e;return null===(e=this.teamChannelContext.channel)||void 0===e?void 0:e.isRoleSynced}get preCategoryNameString(){return this.isRoleSynced?"Roles synced with":"Roles not synced with"}},f.displayName=e.displayName||e.name,o=h,(0,n.default)(o.prototype,"categoryName",[m.computed],Object.getOwnPropertyDescriptor(o.prototype,"categoryName"),o.prototype),(0,n.default)(o.prototype,"showRoleSyncControl",[m.computed],Object.getOwnPropertyDescriptor(o.prototype,"showRoleSyncControl"),o.prototype),(0,n.default)(o.prototype,"isRoleSynced",[m.computed],Object.getOwnPropertyDescriptor(o.prototype,"isRoleSynced"),o.prototype),(0,n.default)(o.prototype,"preCategoryNameString",[m.computed],Object.getOwnPropertyDescriptor(o.prototype,"preCategoryNameString"),o.prototype),r=o))||r)||r)||r)||r)||r};var a=r(14),n=o(r(3)),s=o(r(8462)),l=r(30),i=o(r(34)),d=o(r(46)),c=o(r(670)),u=o(r(25)),p=o(r(78)),m=r(2)},9933:function(e,t,r){var o=r(7),a=r(9934);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var n,s=0,l={injectType:"lazyStyleTag",insert:"head",singleton:!1},i={};a.locals&&(i.locals=a.locals),i.use=function(e){return s++||(n=o(a,{...l,...e})),i},i.unuse=function(){s>0&&!--s&&(n(),n=null)},e.exports=i},9934:function(e,t,r){(t=r(8)(!1)).push([e.i,".TeamChannelRoleSyncControl-container{border-radius:3px;padding:8px;background:#191b1f;margin-bottom:24px}.TeamChannelRoleSyncControl-row{display:flex}.TeamChannelRoleSyncControl-icon{height:18px;width:18px;padding:2px;fill:#a3a3ac;display:flex;align-items:center;flex-shrink:0;flex-shrink:0;margin-right:10px}.TeamChannelRoleSyncControl-info{color:#a3a3ac;font-size:14px;line-height:145%;font-weight:normal;line-height:19px}.TeamChannelRoleSyncControl-button{margin-top:12px;width:100%}.TeamChannelRoleSyncControl-category-name{color:#ececee}",""]),t.locals={confirmationGreen:"#53da33",confirmationGreenDesaturated:"#6cba50",gilded4:"#ecb200",gilded5:"#e0a900",gilded6:"#be8c00",errorRedDesaturated:"#df5353",gray:"#a3a3ac",bodyTextWhite:"#ececee",bodyTextWiteMask64:"rgba(236,236,238,.64)",border:"#848a94",errorRed:"#ff6b6b",warnYellow:"#ffb400",nuxBlue:"#008ae1",calendarOrange:"#d89332",calendarBlue:"#355bf8",calendarGreen:"#6cba50",calendarSeagreen:"#30a68f",calendarJewelgreen:"#148f33",calendarPurple:"#a250e8",calendarPurpleMask7:"rgba(162,80,232,.07)",calendarPurpleMask10:"rgba(162,80,232,.1)",mediumPurple3:"#dab9f6",mediumPurple3Mask10:"rgba(218,185,246,.1)",dropmenuGray:"#4f515d",menuGray:"#4f515d",menuGrayMask30:"rgba(79,81,93,.3)",yellowHighlight:"#ffeca0",desaturatedReddit:"#ea794f",desaturatedTwitter:"#64a9d4",desaturatedYoutube:"#cf5c58",whatsapp:"#25d366",github:"#24292e",vimeo:"#1ab7ea",gilded:"#f5c400",orangeRed:"#ff4500",gameNavBlack:"#32343d",gameNavBlackMask36:"rgba(50,52,61,.36)",white:"#fff",gilded2:"#f8d64c",gilded2Mask5:"rgba(248,214,76,.05)",gilded2Mask7:"rgba(248,214,76,.07)",gilded2Mask10:"rgba(248,214,76,.1)",gilded2Mask20:"rgba(248,214,76,.2)",gilded2Mask50:"rgba(248,214,76,.5)",nuxBlueDesaturatedMask7:"rgba(174,189,252,.07)",restGet:"#335a9e",restHead:"#a250e8",restPost:"#6cba50",restPut:"#d89332",restPatch:"#4f515d",restDelete:"#ff6b6b",mysteriousGray:"#212329",backgroundBlack:"#1e2025",yellowThree:"#ffb400",calendarGreenDesaturated:"#476047",calendarRed:"#df5353",calendarRedMask30:"rgba(223,83,83,.2)",calendarRedDesaturated:"#694148",druidOrange:"#e4b370",sidebarBlack:"#292b32",brandyPunch:"#d89332",navBlack:"#191b1f",yellow1:"gold",yellow2:"#e4c519",yellow3:"#ffb400",yellow4:"#ffb400",yellow5:"#d89f0c",yellow6:"#ffd800",yellow6Mask35:"rgba(255,216,0,.35)",gameNavGray:"#30323a",skeletonGray:"#50525f",blackPearl:"#222329",twitch:"#9146ff",bnet:"#078ad2",psn:"#00134c",xbox:"#1c6d00",steam:"#231f20",origin:"#e73b00",youtube:"red",twitter:"#1189f4",facebook:"#335a9e",switch:"#e60012",patreon:"#ff424d",roblox:"#00a2ff",epic:"#2f2d2e",bnetSecondary:"#009ae4",psnSecondary:"#2d64e6",xboxSecondary:"#52b043",steamSecondary:"#096295",twitchSecondary:"#9146ff",epicSecondary:"#0078f2",grayMask20:"rgba(163,163,172,.2)",grayMask40:"rgba(163,163,172,.4)",goldenShadow:"rgba(255,234,0,.5)",colorChannelGray:"#373943",streamGradient:"linear-gradient(63.5deg, #ff0000 -29.74%, #b258ff 83.36%)"},e.exports=t},9935:function(e,t,r){"use strict";var o=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,n=o(r(6)),s=o(r(11)),l=o(r(39)),i=o(r(9936)),d=o(r(9937)),c=o(r(8447)),u=o(r(9938)),p=o(r(1)),m=(r(2),r(4));var f=(0,o(r(10)).default)({name:"TeamChannelPermissionsListAddRoleOrMember",loader:()=>r(9939)})(a=(0,l.default)(a=(0,u.default)(a=(0,i.default)(a=(0,m.observer)(a=class extends p.default.Component{render(){const{isMakingRequest:e,excludedRoleIds:t,excludedMemberIds:r}=this,{className:o}=this.props;return(0,n.default)(d.default,{className:(0,s.default)("TeamChannelPermissionsListAddRoleOrMember-container",o),onRoleSelect:this.HandleAddRole,buttonComponent:c.default,buttonText:"Add role or member",isLoading:e,excludedRoleIds:t,onMemberSelect:this.HandleAddUserPermission,excludedMemberIds:r,excludeHigherPriorityRoles:!1,includeBotRoles:!0})}})||a)||a)||a)||a)||a;t.default=f},9936:function(e,t,r){"use strict";var o=r(0);r(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,r,o,p;return(0,c.default)(t=(0,l.default)(t=(0,d.default)((p=o=class extends e{constructor(...e){var t;super(...e),t=this,this.HandleAddUserPermission=i.default.Throttle(function(){var e=(0,a.coroutine)((function*(e){const{isMakingRequest:r}=t;if(r)return;const{teamId:o}=t.teamContext,{channelId:a,channelCategoryId:n,isCategoryEnabled:l,channel:i,category:d}=t.teamChannelContext,c=l?s.default.AddCategoryUserPermission:s.default.AddChannelUserPermission;try{const r=yield t.makeRequest(c({teamId:o,channelId:a,channelCategoryId:n,userId:e}));l?d.update({userPermissions:r}):i.update({userPermissions:r,isRoleSynced:!1}),t.props.onMemberSelect({memberId:e,isNew:!0})}catch(e){t.statusContext.displayError({error:e})}}));return function(t){return e.apply(this,arguments)}}(),500)}get excludedMemberIds(){return this.props.members.map(e=>e.id)}},o.displayName=e.displayName||e.name,r=p,(0,n.default)(r.prototype,"excludedMemberIds",[u.computed],Object.getOwnPropertyDescriptor(r.prototype,"excludedMemberIds"),r.prototype),t=r))||t)||t)||t};var a=r(14),n=o(r(3)),s=o(r(670)),l=o(r(78)),i=o(r(145)),d=o(r(25)),c=o(r(46)),u=r(2)},9937:function(e,t,r){"use strict";var o=r(0);r(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,n,s=o(r(6)),l=o(r(3)),i=o(r(1051)),d=r(23),c=o(r(18)),u=o(r(4516)),p=o(r(424)),m=o(r(25)),f=o(r(1)),h=r(2),y=r(4),b=o(r(34)),g=r(30);let O=(0,m.default)(a=(0,y.observer)((n=class extends f.default.Component{constructor(...e){super(...e),this._handleRoleOrMemberMobileClick=e=>{(0,d.stopEventPropagationAndDefault)(e);const{onRoleSelect:t,excludedRoleIds:r,onMemberSelect:o,excludedMemberIds:a,excludeHigherPriorityRoles:n}=this.props;this.TeamRoleOrMemberSelectorOverlay.Open({onRoleSelect:t,excludedRoleIds:r,onMemberSelect:o,excludedMemberIds:a,excludeHigherPriorityRoles:n})},this._handleClose=()=>{var e;null===(e=this.trigger)||void 0===e||e.close()},this._handleTriggerRef=e=>this.trigger=e}get hasOverflow(){const{numOverflow:e}=this.props;return!!e&&e>0}render(){const{hasOverflow:e}=this,{className:t,numOverflow:r,isLoading:o,onRoleSelect:a,onMemberSelect:n,excludedRoleIds:l,excludedMemberIds:d,buttonText:m,excludeHigherPriorityRoles:h,buttonComponent:y=i.default,includeBotRoles:b}=this.props,{canUpdateTeam:g}=this.teamContext;return e||g?c.default.IsDesktop?f.default.createElement(p.default,{className:t,component:u.default,dismissOnContentClick:!1,ref:this._handleTriggerRef,excludedRoleIds:l,excludedMemberIds:d,excludeHigherPriorityRoles:h,onRoleSelect:a,onMemberSelect:n,numOverflow:r,onCloseSelector:this._handleClose,includeBotRoles:b},(0,s.default)(y,{hasOverflow:e,numOverflow:r,isLoading:o,text:m})):(0,s.default)(y,{className:t,hasOverflow:e,numOverflow:r,onClick:this._handleRoleOrMemberMobileClick,isLoading:o,text:m}):null}},(0,l.default)(n.prototype,"hasOverflow",[h.computed],Object.getOwnPropertyDescriptor(n.prototype,"hasOverflow"),n.prototype),a=n))||a)||a;var v=c.default.IsDesktop?O:(0,b.default)([g.TeamRoleOrMemberSelectorOverlay])(O);t.default=v},9938:function(e,t,r){"use strict";var o=r(0);r(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,r,o,p;return(0,c.default)(t=(0,l.default)(t=(0,d.default)((p=o=class extends e{constructor(...e){var t;super(...e),t=this,this.HandleAddRole=i.default.Throttle(function(){var e=(0,a.coroutine)((function*(e){const{isMakingRequest:r}=t;if(r)return;const{teamId:o}=t.teamContext,{channelId:a,channelCategoryId:n,isCategoryEnabled:l,channel:i,category:d}=t.teamChannelContext,c=l?s.default.AddCategoryRole:s.default.AddChannelRole;try{const r=yield t.makeRequest(c({teamId:o,channelId:a,channelCategoryId:n,teamRoleId:e}));l?d.update({rolesById:r}):i.update({rolesById:r,isRoleSynced:!1}),t.props.onRoleSelect({roleId:e,isNew:!0})}catch(e){t.statusContext.displayError({error:e})}}));return function(t){return e.apply(this,arguments)}}(),500)}get excludedRoleIds(){return this.props.roles.map(e=>e.id)}},o.displayName=e.displayName||e.name,r=p,(0,n.default)(r.prototype,"excludedRoleIds",[u.computed],Object.getOwnPropertyDescriptor(r.prototype,"excludedRoleIds"),r.prototype),t=r))||t)||t)||t};var a=r(14),n=o(r(3)),s=o(r(670)),l=o(r(78)),i=o(r(145)),d=o(r(25)),c=o(r(46)),u=r(2)},9939:function(e,t,r){var o=r(7),a=r(9940);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var n,s=0,l={injectType:"lazyStyleTag",insert:"head",singleton:!1},i={};a.locals&&(i.locals=a.locals),i.use=function(e){return s++||(n=o(a,{...l,...e})),i},i.unuse=function(){s>0&&!--s&&(n(),n=null)},e.exports=i},9940:function(e,t,r){(t=r(8)(!1)).push([e.i,"",""]),e.exports=t},9941:function(e,t,r){var o=r(7),a=r(9942);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var n,s=0,l={injectType:"lazyStyleTag",insert:"head",singleton:!1},i={};a.locals&&(i.locals=a.locals),i.use=function(e){return s++||(n=o(a,{...l,...e})),i},i.unuse=function(){s>0&&!--s&&(n(),n=null)},e.exports=i},9942:function(e,t,r){(t=r(8)(!1)).push([e.i,".TeamChannelPermissionsList-container{display:flex;flex-direction:column;position:relative}.TeamChannelPermissionsList-container-mobile .TeamChannelPermissionsList-header{margin-left:12px}.TeamChannelPermissionsList-header{color:#fff;margin:0;padding:0;font-size:15px;line-height:145%;font-weight:700;margin-bottom:20px}",""]),t.locals={confirmationGreen:"#53da33",confirmationGreenDesaturated:"#6cba50",gilded4:"#ecb200",gilded5:"#e0a900",gilded6:"#be8c00",errorRedDesaturated:"#df5353",gray:"#a3a3ac",bodyTextWhite:"#ececee",bodyTextWiteMask64:"rgba(236,236,238,.64)",border:"#848a94",errorRed:"#ff6b6b",warnYellow:"#ffb400",nuxBlue:"#008ae1",calendarOrange:"#d89332",calendarBlue:"#355bf8",calendarGreen:"#6cba50",calendarSeagreen:"#30a68f",calendarJewelgreen:"#148f33",calendarPurple:"#a250e8",calendarPurpleMask7:"rgba(162,80,232,.07)",calendarPurpleMask10:"rgba(162,80,232,.1)",mediumPurple3:"#dab9f6",mediumPurple3Mask10:"rgba(218,185,246,.1)",dropmenuGray:"#4f515d",menuGray:"#4f515d",menuGrayMask30:"rgba(79,81,93,.3)",yellowHighlight:"#ffeca0",desaturatedReddit:"#ea794f",desaturatedTwitter:"#64a9d4",desaturatedYoutube:"#cf5c58",whatsapp:"#25d366",github:"#24292e",vimeo:"#1ab7ea",gilded:"#f5c400",orangeRed:"#ff4500",gameNavBlack:"#32343d",gameNavBlackMask36:"rgba(50,52,61,.36)",white:"#fff",gilded2:"#f8d64c",gilded2Mask5:"rgba(248,214,76,.05)",gilded2Mask7:"rgba(248,214,76,.07)",gilded2Mask10:"rgba(248,214,76,.1)",gilded2Mask20:"rgba(248,214,76,.2)",gilded2Mask50:"rgba(248,214,76,.5)",nuxBlueDesaturatedMask7:"rgba(174,189,252,.07)",restGet:"#335a9e",restHead:"#a250e8",restPost:"#6cba50",restPut:"#d89332",restPatch:"#4f515d",restDelete:"#ff6b6b",mysteriousGray:"#212329",backgroundBlack:"#1e2025",yellowThree:"#ffb400",calendarGreenDesaturated:"#476047",calendarRed:"#df5353",calendarRedMask30:"rgba(223,83,83,.2)",calendarRedDesaturated:"#694148",druidOrange:"#e4b370",sidebarBlack:"#292b32",brandyPunch:"#d89332",navBlack:"#191b1f",yellow1:"gold",yellow2:"#e4c519",yellow3:"#ffb400",yellow4:"#ffb400",yellow5:"#d89f0c",yellow6:"#ffd800",yellow6Mask35:"rgba(255,216,0,.35)",gameNavGray:"#30323a",skeletonGray:"#50525f",blackPearl:"#222329",twitch:"#9146ff",bnet:"#078ad2",psn:"#00134c",xbox:"#1c6d00",steam:"#231f20",origin:"#e73b00",youtube:"red",twitter:"#1189f4",facebook:"#335a9e",switch:"#e60012",patreon:"#ff424d",roblox:"#00a2ff",epic:"#2f2d2e",bnetSecondary:"#009ae4",psnSecondary:"#2d64e6",xboxSecondary:"#52b043",steamSecondary:"#096295",twitchSecondary:"#9146ff",epicSecondary:"#0078f2",grayMask20:"rgba(163,163,172,.2)",grayMask40:"rgba(163,163,172,.4)",goldenShadow:"rgba(255,234,0,.5)",colorChannelGray:"#373943"},e.exports=t}}]);
//# sourceMappingURL=https://sourcemaps.local.guilded.gg/db0e2dcb/TeamChannelCategorySettingsOverlay~TeamChannelSettingsOverlay.js.map