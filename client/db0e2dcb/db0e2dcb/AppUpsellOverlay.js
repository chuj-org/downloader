(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{4287:function(e,t,o){"use strict";var a=o(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,r,n,p=o(14),i=a(o(12)),d=a(o(3)),s=(a(o(13)),a(o(5097))),u=a(o(914)),c=a(o(50)),f=a(o(18)),y=a(o(4470)),g=a(o(35)),b=a(o(73)),m=a(o(23)),h=a(o(42)),w=o(2);let k=(l=class e{constructor({platform:t="mobile",includePlatformText:o=!0,upsellSource:a}){var l=this;(0,i.default)(this,"includePlatformText",r,this),(0,i.default)(this,"platform",n,this),this.upsellSource=null,this.AppleAppStoreDownloadInfo={contentType:"center",iconName:"icon-apple",iconType:"lg",text:"App Store",buttonText:"Download in the App Store",shortText:"Get in App Store",onClick:()=>this.OpenAppStore()},this.GooglePlayStoreDownloadInfo={contentType:"center",iconName:"icon-google-play",iconType:"lg",text:"Google Play",buttonText:"Download from Google Play",shortText:"Get from Google Play",onClick:()=>this.OpenGooglePlay()},this.OpenAppStore=()=>{h.default.Log(g.default.UpsellAppStoreClick,{store:"ios",source:"desktop",upsellSource:this.upsellSource}),y.default.LaunchIosAppStore()},this.OpenGooglePlay=()=>{h.default.Log(g.default.UpsellAppStoreClick,{store:"android",source:"desktop",upsellSource:this.upsellSource}),y.default.LaunchGooglePlay()},this.DownloadGuildedMac=()=>{h.default.Log(g.default.DownloadDesktopApp,{store:"mac",source:"desktop",upsellSource:this.upsellSource});m.default.generateFileDownload({downloadUrl:m.default.addHttpsIfNecessary("".concat(b.default.FriendlyDomainFull,"/downloads/").concat("Guilded-Mac.dmg")),filename:"Guilded-Mac.dmg"})},this.DownloadGuildedLinux=(e,t="deb")=>{h.default.Log(g.default.DownloadDesktopApp,{store:"linux",source:"desktop",upsellSource:this.upsellSource});const o="Guilded-Linux.".concat(t);m.default.generateFileDownload({downloadUrl:m.default.addHttpsIfNecessary("".concat(b.default.FriendlyDomainFull,"/downloads/").concat(o)),filename:o})},this.DownloadGuildedWindows=(0,p.coroutine)((function*(){h.default.Log(g.default.DownloadDesktopApp,{store:"windows",source:"desktop",upsellSource:l.upsellSource});const t="".concat(s.default.TokenSegmentSeparator).concat(u.default.MachineId);let o=yield e.GetAppDownloadLoginToken();o=o?"".concat(s.default.TokenSegmentSeparator).concat(o):"";const a="Guilded-Win_".concat(t).concat(o,".exe");m.default.generateFileDownload({downloadUrl:m.default.addHttpsIfNecessary("".concat(b.default.FriendlyDomainFull,"/downloads/").concat("Guilded-Win.exe")),filename:a})})),this.DownloadAppDirectly=()=>{this.IsForMobile?f.default.IsMobileAndroid?this.OpenGooglePlay():this.OpenAppStore():f.default.IsLinux?this.DownloadGuildedLinux():f.default.IsMac?this.DownloadGuildedMac():this.DownloadGuildedWindows()},this.platform=t,this.includePlatformText=o,this.upsellSource=a}static GetAppDownloadLoginToken(){return(0,p.coroutine)((function*(){var e;let t=null;try{t=yield c.default.GetAppInstallLoginToken()}catch(e){}return null===(e=t)||void 0===e?void 0:e.token}))()}get IsForMobile(){return"mobile"===this.platform}get DesktopPlatformName(){return f.default.IsLinux?"Linux":f.default.IsMac?"Mac":"Windows"}get MobilePlatformName(){return f.default.IsMobileAndroid?"Android":"iOS"}get IntroTitle(){const{IsForMobile:e,DesktopPlatformName:t}=this;return e?"Download from the app store":"Guilded for ".concat(t)}get IntroBadgeInfo(){return f.default.IsLinux?{text:"beta"}:null}get DownloadTitle(){const{IsForMobile:e,DesktopPlatformName:t,MobilePlatformName:o}=this;return"Download Guilded for ".concat(e?o:t)}get IntroSubtitle(){const{IsForMobile:e}=this;return e?"You can always download the app directly within the App Store or on Google Play":"Organize your servers and get notifications right from your desktop"}get PrimaryButton(){const{IsForMobile:e,DesktopPlatformName:t,AppleAppStoreDownloadInfo:o,GooglePlayStoreDownloadInfo:a,includePlatformText:l}=this;return e?f.default.IsMobileAndroid?a:o:{buttonText:l?"Download for ".concat(t):"Download",onClick:this.DownloadAppDirectly,kind:"formConfirm"}}get SecondaryButton(){const{IsForMobile:e,AppleAppStoreDownloadInfo:t,GooglePlayStoreDownloadInfo:o,includePlatformText:a,DesktopPlatformName:l}=this;return e?f.default.IsMobileAndroid?t:o:{kind:"text",text:a?"Download for ".concat("Windows"!==l?"Windows":"Mac"):"Download",onClick:"Windows"!==l?this.DownloadGuildedWindows:this.DownloadGuildedMac}}get ScreenshotImageSrc(){const{IsForMobile:e}=this;return e?"/asset/App/Mobile_Screenshot.png":"/asset/App/Desktop_Screenshot.png"}},r=(0,d.default)(l.prototype,"includePlatformText",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),n=(0,d.default)(l.prototype,"platform",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,d.default)(l.prototype,"IsForMobile",[w.computed],Object.getOwnPropertyDescriptor(l.prototype,"IsForMobile"),l.prototype),(0,d.default)(l.prototype,"DesktopPlatformName",[w.computed],Object.getOwnPropertyDescriptor(l.prototype,"DesktopPlatformName"),l.prototype),(0,d.default)(l.prototype,"MobilePlatformName",[w.computed],Object.getOwnPropertyDescriptor(l.prototype,"MobilePlatformName"),l.prototype),(0,d.default)(l.prototype,"IntroTitle",[w.computed],Object.getOwnPropertyDescriptor(l.prototype,"IntroTitle"),l.prototype),(0,d.default)(l.prototype,"IntroBadgeInfo",[w.computed],Object.getOwnPropertyDescriptor(l.prototype,"IntroBadgeInfo"),l.prototype),(0,d.default)(l.prototype,"DownloadTitle",[w.computed],Object.getOwnPropertyDescriptor(l.prototype,"DownloadTitle"),l.prototype),(0,d.default)(l.prototype,"IntroSubtitle",[w.computed],Object.getOwnPropertyDescriptor(l.prototype,"IntroSubtitle"),l.prototype),(0,d.default)(l.prototype,"PrimaryButton",[w.computed],Object.getOwnPropertyDescriptor(l.prototype,"PrimaryButton"),l.prototype),(0,d.default)(l.prototype,"SecondaryButton",[w.computed],Object.getOwnPropertyDescriptor(l.prototype,"SecondaryButton"),l.prototype),(0,d.default)(l.prototype,"ScreenshotImageSrc",[w.computed],Object.getOwnPropertyDescriptor(l.prototype,"ScreenshotImageSrc"),l.prototype),l);t.default=k},4469:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={DefaultRGB:"245,196,0",DomainName:"guilded.gg",AppStoreId:"1112038925",getAliasForGame:()=>null,getAliasObjForGame:()=>null}},4470:function(e,t,o){"use strict";var a=o(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(o(4857)),r=a(o(35)),n=a(o(42)),p=a(o(18)),i=a(o(4469)),d=a(o(149));class s{}t.default=s,s.LaunchAppStore=({newWindow:e=!0,skipNativeRedirect:t=!1}={})=>{t?p.default.IsIOS?s.LaunchIosAppStore(e):s.LaunchGooglePlay(e):s.LaunchNativeAppOrStore(e)},s.LaunchNativeAppOrStore=(e=!0)=>{const t="https://get.guilded.gg".concat(l.default.path);n.default.Log(r.default.AppStoreLaunch,{store:p.default.IsIOS?"ios":"android"}),e?d.default.open(t,"_blank"):window.location=t},s.LaunchIosAppStore=(e=!0)=>{const t="https://itunes.apple.com/us/app/guilded.gg/id".concat(i.default.AppStoreId,"?mt=8");n.default.Log(r.default.AppStoreLaunch,{store:"ios"}),e?d.default.open(t,"_blank"):window.location=t},s.LaunchGooglePlay=(e=!0)=>{const t=p.default.IsMobileAndroid?"market://details?id=com.gg.guilded":"https://play.google.com/store/apps/details?id=com.gg.guilded";n.default.Log(r.default.AppStoreLaunch,{store:"android"}),e?d.default.open(t,"_blank"):window.location=t}},4672:function(e,t,o){"use strict";var a=o(0);o(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,r,n=a(o(6)),p=o(14),i=a(o(3)),d=a(o(1689)),s=a(o(22)),u=a(o(35)),c=a(o(42)),f=a(o(18)),y=a(o(204)),g=a(o(9529)),b=a(o(11)),m=a(o(1)),h=o(2),w=o(4);var k=(0,a(o(10)).default)({name:"AppUpsellOverlay",loader:()=>o(9532)})(l=(0,y.default)(l=(0,s.default)(l=(0,w.observer)((r=class extends m.default.Component{constructor(...e){super(...e),this.Confirm=(0,p.coroutine)((function*(){}))}get Header(){const{header:e}=this.props;return e||"Download the ".concat(this.isMobileAppUpsell?"app":"shiny, new desktop app")}componentDidMount(){c.default.Log(u.default.AppUpsellOverlayOpened)}get isMobileAppUpsell(){const{platform:e="mobile"}=this.props;return"mobile"===e}render(){const{isMobileAppUpsell:e}=this;return(0,n.default)("div",{className:(0,b.default)("AppUpsellOverlay-container",f.default.IsDesktop&&"AppUpsellOverlay-container-desktop")},void 0,e?(0,n.default)(d.default,{qrSize:"lg"}):(0,n.default)(g.default,{platform:this.props.platform,upsellSource:this.props.upsellSource}))}},(0,i.default)(r.prototype,"Header",[h.computed],Object.getOwnPropertyDescriptor(r.prototype,"Header"),r.prototype),(0,i.default)(r.prototype,"isMobileAppUpsell",[h.computed],Object.getOwnPropertyDescriptor(r.prototype,"isMobileAppUpsell"),r.prototype),l=r))||l)||l)||l)||l;t.default=k},4857:function(e,t,o){"use strict";var a=o(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=o(14),r=a(o(48)),n=a(o(50)),p=a(o(69)),i=a(o(4469)),d=a(o(18));var s=new class{get path(){return this.addMagicLinkToPath(p.default.path)}addMagicLinkToPath(e){return this.token?"".concat(e).concat(e.includes("?")?"&":"?","loginWithToken=").concat(this.token):this.hasSession?"".concat(e).concat(e.includes("?")?"&":"?","mweb=true"):e}updateAppMeta(){if(this.expiresAt&&this.expiresAt<r.default.now()&&this.clearToken(),d.default.IsSafari){const e=this.addMagicLinkToPath("".concat(window.origin).concat(p.default.path));document.querySelector('meta[name="apple-itunes-app"]').setAttribute("content","app-id=".concat(i.default.AppStoreId,", app-argument=").concat(e))}}loadToken(){var e=this;return(0,l.coroutine)((function*(){if((d.default.IsMobile||d.default.IsSafari)&&(!e.expiresAt||e.expiresAt<r.default.now()))try{const t=yield n.default.GetAppInstallLoginToken();t&&(e.token=t.token,e.expiresAt=r.default.now()+18e6,e.updateAppMeta())}catch(e){}}))()}loadSession(){this.hasSession=!0,this.updateAppMeta()}clearSession(){this.hasSession=!1,this.clearToken(),this.updateAppMeta()}clearToken(){this.token=null,this.expiresAt=null}};t.default=s},4862:function(e,t,o){"use strict";var a=o(0);o(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,r,n=a(o(6)),p=a(o(20)),i=a(o(15)),d=a(o(3)),s=a(o(942)),u=a(o(551)),c=a(o(53)),f=a(o(11)),y=a(o(1)),g=o(2),b=o(4),m=a(o(4287));function h(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function w(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?h(Object(o),!0).forEach((function(t){(0,i.default)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):h(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var k=(0,a(o(10)).default)({name:"AppInstallUpsellButton",loader:()=>o(5098)})(l=(0,b.observer)((r=class extends y.default.Component{constructor(...e){super(...e),this.installInfoStore=new m.default({platform:this.props.platform,includePlatformText:this.props.includePlatformText,upsellSource:this.props.upsellSource})}get onClick(){return this.props.onClick}get primary(){const{primary:e=!0}=this.props;return e}get buttonInfo(){const{onClick:e,primary:t,installInfoStore:o}=this,a=t?o.PrimaryButton:o.SecondaryButton;return w(w({},a),{},{onClick:()=>{a.onClick&&a.onClick(),e&&e()}})}get buttonKind(){const{cta:e}=this.props,{buttonInfo:t}=this;return e?"formConfirm":t.kind}render(){const{buttonInfo:e,buttonKind:t}=this,{className:o,useButtonText:a,style:l,size:r="xlg",buttonFlavor:i="default"}=this.props;switch(t){case"formConfirm":return y.default.createElement(c.default,(0,p.default)({className:(0,f.default)("AppInstallUpsellButton-button",o)},e,{style:l,size:r}));case"text":return(0,n.default)(u.default,{className:o,onClick:e.onClick},void 0,e.text);default:return y.default.createElement(s.default,(0,p.default)({className:(0,f.default)("AppInstallUpsellButton-button","AppInstallUpsellButton-flavor-".concat(i),o)},e,{buttonFlavor:i,size:r,text:a?e.buttonText:e.text}))}}},(0,d.default)(r.prototype,"onClick",[g.computed],Object.getOwnPropertyDescriptor(r.prototype,"onClick"),r.prototype),(0,d.default)(r.prototype,"primary",[g.computed],Object.getOwnPropertyDescriptor(r.prototype,"primary"),r.prototype),(0,d.default)(r.prototype,"buttonInfo",[g.computed],Object.getOwnPropertyDescriptor(r.prototype,"buttonInfo"),r.prototype),(0,d.default)(r.prototype,"buttonKind",[g.computed],Object.getOwnPropertyDescriptor(r.prototype,"buttonKind"),r.prototype),l=r))||l)||l;t.default=k},5097:function(e,t,o){"use strict";var a=o(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;a(o(14));t.default=class{static get TokenSegmentSeparator(){return"v_"}}},5098:function(e,t,o){var a=o(7),l=o(5099);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var r,n=0,p={injectType:"lazyStyleTag",insert:"head",singleton:!1},i={};l.locals&&(i.locals=l.locals),i.use=function(e){return n++||(r=a(l,{...p,...e})),i},i.unuse=function(){n>0&&!--n&&(r(),r=null)},e.exports=i},5099:function(e,t,o){(t=o(8)(!1)).push([e.i,".AppInstallUpsellButton-button{width:300px;height:48px;margin-bottom:8px;background-color:#292b32}.AppInstallUpsellButton-flavor-default{border-radius:4px;border:solid 1px #cbcdcf}",""]),t.locals={confirmationGreen:"#53da33",confirmationGreenDesaturated:"#6cba50",gilded4:"#ecb200",gilded5:"#e0a900",gilded6:"#be8c00",errorRedDesaturated:"#df5353",gray:"#a3a3ac",bodyTextWhite:"#ececee",bodyTextWiteMask64:"rgba(236,236,238,.64)",border:"#848a94",errorRed:"#ff6b6b",warnYellow:"#ffb400",nuxBlue:"#008ae1",calendarOrange:"#d89332",calendarBlue:"#355bf8",calendarGreen:"#6cba50",calendarSeagreen:"#30a68f",calendarJewelgreen:"#148f33",calendarPurple:"#a250e8",calendarPurpleMask7:"rgba(162,80,232,.07)",calendarPurpleMask10:"rgba(162,80,232,.1)",mediumPurple3:"#dab9f6",mediumPurple3Mask10:"rgba(218,185,246,.1)",dropmenuGray:"#4f515d",menuGray:"#4f515d",menuGrayMask30:"rgba(79,81,93,.3)",yellowHighlight:"#ffeca0",desaturatedReddit:"#ea794f",desaturatedTwitter:"#64a9d4",desaturatedYoutube:"#cf5c58",whatsapp:"#25d366",github:"#24292e",vimeo:"#1ab7ea",gilded:"#f5c400",orangeRed:"#ff4500",gameNavBlack:"#32343d",gameNavBlackMask36:"rgba(50,52,61,.36)",white:"#fff",gilded2:"#f8d64c",gilded2Mask5:"rgba(248,214,76,.05)",gilded2Mask7:"rgba(248,214,76,.07)",gilded2Mask10:"rgba(248,214,76,.1)",gilded2Mask20:"rgba(248,214,76,.2)",gilded2Mask50:"rgba(248,214,76,.5)",nuxBlueDesaturatedMask7:"rgba(174,189,252,.07)",restGet:"#335a9e",restHead:"#a250e8",restPost:"#6cba50",restPut:"#d89332",restPatch:"#4f515d",restDelete:"#ff6b6b",mysteriousGray:"#212329",backgroundBlack:"#1e2025",yellowThree:"#ffb400",calendarGreenDesaturated:"#476047",calendarRed:"#df5353",calendarRedMask30:"rgba(223,83,83,.2)",calendarRedDesaturated:"#694148",druidOrange:"#e4b370",sidebarBlack:"#292b32",brandyPunch:"#d89332",navBlack:"#191b1f",yellow1:"gold",yellow2:"#e4c519",yellow3:"#ffb400",yellow4:"#ffb400",yellow5:"#d89f0c",yellow6:"#ffd800",yellow6Mask35:"rgba(255,216,0,.35)",gameNavGray:"#30323a",skeletonGray:"#50525f",blackPearl:"#222329",twitch:"#9146ff",bnet:"#078ad2",psn:"#00134c",xbox:"#1c6d00",steam:"#231f20",origin:"#e73b00",youtube:"red",twitter:"#1189f4",facebook:"#335a9e",switch:"#e60012",patreon:"#ff424d",roblox:"#00a2ff",epic:"#2f2d2e",bnetSecondary:"#009ae4",psnSecondary:"#2d64e6",xboxSecondary:"#52b043",steamSecondary:"#096295",twitchSecondary:"#9146ff",epicSecondary:"#0078f2",grayMask20:"rgba(163,163,172,.2)",grayMask40:"rgba(163,163,172,.4)",goldenShadow:"rgba(255,234,0,.5)",colorChannelGray:"#373943"},e.exports=t},9529:function(e,t,o){"use strict";var a=o(0);o(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,r=a(o(6)),n=a(o(4287)),p=a(o(4862)),i=a(o(419)),d=a(o(1)),s=a(o(11)),u=(o(2),o(4));var c=(0,a(o(10)).default)({name:"AppInstallByLinkUpsell",loader:()=>o(9530)})(l=(0,u.observer)(l=class extends d.default.Component{constructor(...e){super(...e),this.installInfoStore=new n.default({platform:this.props.platform,includePlatformText:this.props.includePlatformText})}render(){const{className:e,platform:t="mobile",upsellSource:o}=this.props,{IntroTitle:a,IntroSubtitle:l,IntroBadgeInfo:n}=this.installInfoStore;return(0,r.default)("div",{className:(0,s.default)("AppInstallByLinkUpsell-container",e)},void 0,(0,r.default)(i.default,{className:"AppInstallByLinkUpsell-intro",size:"lg",title:a,titleBadgeProps:n,subtitle:l}),(0,r.default)(p.default,{platform:t,upsellSource:o}),(0,r.default)(p.default,{primary:!1,platform:t,upsellSource:o}))}})||l)||l;t.default=c},9530:function(e,t,o){var a=o(7),l=o(9531);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var r,n=0,p={injectType:"lazyStyleTag",insert:"head",singleton:!1},i={};l.locals&&(i.locals=l.locals),i.use=function(e){return n++||(r=a(l,{...p,...e})),i},i.unuse=function(){n>0&&!--n&&(r(),r=null)},e.exports=i},9531:function(e,t,o){(t=o(8)(!1)).push([e.i,".AppInstallByLinkUpsell-container{display:flex;flex-direction:column;align-items:center;justify-content:center}.AppInstallByLinkUpsell-intro{width:348px;max-width:100%;margin-bottom:24px}",""]),e.exports=t},9532:function(e,t,o){var a=o(7),l=o(9533);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var r,n=0,p={injectType:"lazyStyleTag",insert:"head",singleton:!1},i={};l.locals&&(i.locals=l.locals),i.use=function(e){return n++||(r=a(l,{...p,...e})),i},i.unuse=function(){n>0&&!--n&&(r(),r=null)},e.exports=i},9533:function(e,t,o){(t=o(8)(!1)).push([e.i,".AppUpsellOverlay-container{display:flex;flex-direction:column;align-items:center;justify-content:center}.AppUpsellOverlay-intro{width:348px;max-width:100%}.AppUpsellOverlay-divider-line{margin:24px 0;align-self:stretch}",""]),e.exports=t}}]);
//# sourceMappingURL=https://sourcemaps.local.guilded.gg/db0e2dcb/AppUpsellOverlay.js.map