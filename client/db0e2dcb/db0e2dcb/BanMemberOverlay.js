(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{4642:function(e,t,o){"use strict";var r=o(0),n=o(19);o(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,s,i=r(o(6)),l=o(14),d=r(o(1)),u=(o(2),o(4)),m=n(o(8013)),p=r(o(204)),c=r(o(114));var f=(a=(0,m.default)(m.REMOVAL_ACTION.BAN),(0,u.observer)(s=a(s=(0,p.default)(s=class extends d.default.Component{constructor(...e){var t;super(...e),t=this,this.Confirm=(0,l.coroutine)((function*(){return yield t.onConfirm()}))}render(){const{formSpecs:e}=this;return(0,i.default)(c.default,{formSpecs:e,onChange:this._handleChange,useScrollWrapper:!0})}})||s)||s)||s);t.default=f},8013:function(e,t,o){"use strict";var r=o(0);o(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return t=>{var o,r,I,D,P,M,w,N;return o=p.computed.struct,r=p.computed.struct,(0,d.default)(I=(0,f.default)(I=(0,y.default)(I=(0,b.default)((N=w=class extends t{constructor(...e){var t;super(...e),t=this,this.ControlConfiguration=C.default.IsNative?u.default.Cancel:u.default.ConfirmAndCancel,this.ConfirmType="delete",(0,a.default)(this,"formValue",P,this),(0,a.default)(this,"_handleChange",M,this),this._getDeleteHistoryOptionNative=e=>this.deleteMessagesOptions.find(t=>t.optionName===e).value,this.onConfirm=(0,n.coroutine)((function*(){const{values:e}=t.formValue,{teamId:o,teamInfo:r}=t.teamContext,{userId:n}=t.userContext,{removeContentsOnly:a,memberIds:s,isKick:i}=t,l=C.default.IsNative?t._getDeleteHistoryOptionNative(e.deleteHistoryOption.optionName):e.deleteHistoryOption.value,d=i?t._handleKickMember:a?t._handleRemoveContents:t._handleBanMember;yield d({deleteHistoryOption:l,memberIds:s,userId:n,teamId:o,teamInfo:r,deleteUserContent:e.deleteUserContent,reason:e.reason})})),this._handleKickMember=function(){var e=(0,n.coroutine)((function*({deleteHistoryOption:e,memberIds:o,userId:r,teamId:n,teamInfo:a,deleteUserContent:s}){try{var i;yield v.default.With(t.makeRequest(c.default.RemoveMembers({deleteHistoryOption:e,memberIds:o,teamId:n,deleteUserContent:s}))).Log(O.default.RemovedFromTeam,{teamId:n,userId:r,isPublic:a.isPublic,removedMemberIdCount:o.length,deleteHistoryOption:e,deleteUserContent:s}),a.removeMembers(o),null===(i=h.default.GeneralConfirmation)||void 0===i||i.play()}catch(e){t.statusContext.displayError({error:e})}}));return function(t){return e.apply(this,arguments)}}(),this._handleBanMember=function(){var e=(0,n.coroutine)((function*({deleteHistoryOption:e,memberIds:o,userId:r,teamId:n,teamInfo:a,deleteUserContent:s,reason:i}){try{var l;yield v.default.With(t.makeRequest(c.default.BanMembers({deleteHistoryOption:e,memberIds:o,teamId:n,deleteUserContent:s,reason:i}))).Log(O.default.BannedFromTeam,{teamId:n,userId:r,isPublic:a.isPublic,bannedMemberIdCount:o.length,deleteHistoryOption:e,deleteUserContent:s,reason:i}),a.removeMembers(o),null===(l=h.default.GeneralConfirmation)||void 0===l||l.play()}catch(e){t.statusContext.displayError({error:e})}}));return function(t){return e.apply(this,arguments)}}(),this._handleRemoveContents=function(){var e=(0,n.coroutine)((function*({deleteHistoryOption:e,memberIds:o,userId:r,teamId:n,teamInfo:a,reason:s}){try{var i;yield v.default.With(t.makeRequest(c.default.RemoveMemberContents({deleteHistoryOption:e,memberIds:o,teamId:n}))).Log(O.default.RemovedMemberContents,{teamId:n,userId:r,isPublic:a.isPublic,memberIdsCount:o.length,deleteHistoryOption:e,reason:s}),null===(i=h.default.GeneralConfirmation)||void 0===i||i.play()}catch(e){t.statusContext.displayError({error:e})}}));return function(t){return e.apply(this,arguments)}}()}get memberIds(){return this.props.member?[this.props.member.id]:this.props.memberIds}get actionLabel(){return e===g.KICK?"Kick":"Ban"}get Header(){const{actionLabel:e}=this;if(this.props.member)return this.removeContentsOnly?"Remove ".concat(l.default.PluralizeString(this.props.member.name)," content"):"".concat(e," ").concat(this.props.member.name);const t=l.default.Pluralize({amount:this.memberIds.length,label:"member"});return this.removeContentsOnly?"Remove ".concat(this.memberIds.length," ").concat(l.default.PluralizeString(t)," content"):"".concat(e," ").concat(this.memberIds.length," ").concat(t)}get removeContentsOnly(){return this.props.removeContentsOnly}get isKick(){return e===g.KICK}get headerText(){if(this.removeContentsOnly)return;const e=l.default.Pluralize({amount:this.memberIds.length,label:"member"});return this.isKick?this.props.member?"Are you sure you want to remove ".concat(this.props.member.name," as a member?"):"Are you sure you want to remove ".concat(l.default.Pluralize({amount:this.props.memberIds.length,label:"this",pluralLabel:"these"})," ").concat(e,"?"):this.props.member?"Note: This user will be removed and unable to re-join":"Note: ".concat(this.memberIds.length," ").concat(e," will be removed and unable to re-join")}get formSpecs(){const{deleteMessagesOptions:e,removeContentsOnly:t,headerText:o,isKick:r}=this;return{header:o,sections:[{fieldSpecs:[{type:C.default.IsNative?m.default.Radios:m.default.Dropdown,fieldName:"deleteHistoryOption",label:"Delete message history",isOptional:!1,grow:1,defaultValue:e[0],options:e},!t&&{type:m.default.Switch,label:"Delete their webhooks",fieldName:"deleteUserContent",isOptional:!0,defaultValue:!1},!r&&{type:m.default.TextArea,fieldName:"reason",label:"".concat(t?"Remove":"Ban"," reason"),isOptional:!0,defaultValue:"",constrainWidth:!0,maxLength:256,placeholder:this.props.placeholder||"Write the reasoning ".concat(t?"for removing content":"for the ban",".")},C.default.IsNative&&{type:m.default.Button,isOptional:!0,fieldName:"confirm",buttonType:"delete",size:"lg",isDisabled:this.Disabled,text:this.ConfirmText,onPress:()=>this._handleConfirm()}].filter(Boolean)}]}}get ConfirmText(){return this.isMakingRequest?"Submitting...":this.props.removeContentsOnly?"Remove content":"".concat(this.actionLabel," ").concat(this.memberIds.length," ").concat(l.default.Pluralize({amount:this.memberIds.length,label:"member"}))}get Disabled(){const{formValue:e}=this;return!e||!e.isValid||this.isMakingRequest}get deleteMessagesOptions(){const{removeContentsOnly:e}=this;return[!e&&{label:"None",value:-1,optionName:"None"},{label:i.default.OneDay.label,value:i.default.OneDay.numDays,optionName:i.default.OneDay.label},{label:i.default.OneWeek.label,value:i.default.OneWeek.numDays,optionName:i.default.OneWeek.label}].filter(Boolean)}},w.displayName=t.displayName||t.name,D=N,P=(0,s.default)(D.prototype,"formValue",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=(0,s.default)(D.prototype,"_handleChange",[p.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.formValue=e}}),(0,s.default)(D.prototype,"memberIds",[p.computed],Object.getOwnPropertyDescriptor(D.prototype,"memberIds"),D.prototype),(0,s.default)(D.prototype,"actionLabel",[p.computed],Object.getOwnPropertyDescriptor(D.prototype,"actionLabel"),D.prototype),(0,s.default)(D.prototype,"Header",[p.computed],Object.getOwnPropertyDescriptor(D.prototype,"Header"),D.prototype),(0,s.default)(D.prototype,"removeContentsOnly",[p.computed],Object.getOwnPropertyDescriptor(D.prototype,"removeContentsOnly"),D.prototype),(0,s.default)(D.prototype,"isKick",[p.computed],Object.getOwnPropertyDescriptor(D.prototype,"isKick"),D.prototype),(0,s.default)(D.prototype,"headerText",[p.computed],Object.getOwnPropertyDescriptor(D.prototype,"headerText"),D.prototype),(0,s.default)(D.prototype,"formSpecs",[o],Object.getOwnPropertyDescriptor(D.prototype,"formSpecs"),D.prototype),(0,s.default)(D.prototype,"ConfirmText",[p.computed],Object.getOwnPropertyDescriptor(D.prototype,"ConfirmText"),D.prototype),(0,s.default)(D.prototype,"Disabled",[p.computed],Object.getOwnPropertyDescriptor(D.prototype,"Disabled"),D.prototype),(0,s.default)(D.prototype,"deleteMessagesOptions",[r],Object.getOwnPropertyDescriptor(D.prototype,"deleteMessagesOptions"),D.prototype),I=D))||I)||I)||I)||I}},t.REMOVAL_ACTION=void 0;var n=o(14),a=r(o(12)),s=r(o(3)),i=(r(o(13)),r(o(8014))),l=r(o(64)),d=r(o(25)),u=r(o(273)),m=r(o(68)),p=o(2),c=r(o(50)),f=r(o(39)),y=r(o(22)),b=r(o(46)),h=r(o(349)),O=r(o(35)),v=r(o(42)),C=r(o(18));const g={KICK:1,BAN:2};t.REMOVAL_ACTION=g},8014:function(e,t,o){"use strict";o(32),Object.defineProperty(t,"__esModule",{value:!0}),t.MaxRemovalDays=t.default=void 0;const r={OneDay:{label:"Previous 24 hours",numDays:1},OneWeek:{label:"Previous 7 days",numDays:7}},n=Object.entries(r).reduce((e,[t,o])=>o.numDays&&o.numDays>e?o.numDays:e,0);t.MaxRemovalDays=n;var a=r;t.default=a}}]);
//# sourceMappingURL=https://sourcemaps.local.guilded.gg/db0e2dcb/BanMemberOverlay.js.map