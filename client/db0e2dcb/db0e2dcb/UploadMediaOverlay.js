(window.webpackJsonp=window.webpackJsonp||[]).push([[190],{10007:function(e,t,a){var i=a(7),o=a(10008);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var l,r=0,d={injectType:"lazyStyleTag",insert:"head",singleton:!1},n={};o.locals&&(n.locals=o.locals),n.use=function(e){return r++||(l=i(o,{...d,...e})),n},n.unuse=function(){r>0&&!--r&&(l(),l=null)},e.exports=n},10008:function(e,t,a){(t=a(8)(!1)).push([e.i,"",""]),e.exports=t},4716:function(e,t,a){"use strict";var i=a(0);a(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,l,r,d,n,s,p,u,h,f,c,y=i(a(6)),g=a(14),m=i(a(12)),b=i(a(3)),U=(i(a(13)),i(a(584))),v=i(a(37)),w=i(a(1636)),C=i(a(8452)),M=i(a(8453)),O=i(a(1010)),_=i(a(103)),A=i(a(156)),D=i(a(17)),E=i(a(204)),T=i(a(1)),N=a(2),S=a(4);var V=(o=(0,i(a(10)).default)({name:"UploadMediaOverlay",loader:()=>a(10007)}),l=C.default.FullScreen,o(r=(0,E.default)(r=(0,w.default)(r=(0,O.default)(r=l(r=(0,v.default)(r=(0,S.observer)((d=class extends T.default.Component{get Header(){return"Upload ".concat(this.friendlyMediaName)}get friendlyMediaName(){return this.props.friendlyUploadName||this.friendlyMediaTypeName}get friendlyMediaTypeName(){const{dynamicMediaTypeId:e}=this.props;return A.default.DynamicMediaTypeAcceptsGenericFile(_.default[e])?"file":A.default.DynamicMediaTypeAcceptsVideo(_.default[e])?"media":"image"}get hasUnsavedChanges(){return this.isUploading}constructor(...e){var t;super(...e),t=this,(0,m.default)(this,"isUploading",n,this),(0,m.default)(this,"dragEndedAt",s,this),(0,m.default)(this,"hasValidationError",p,this),this.dragOffAutoClose=!!this.props.dragOffAutoClose,this.reactions=[this.dragOffAutoClose&&{dataFn:()=>{var e;return null===(e=this.windowFileDragStore)||void 0===e?void 0:e.IsDraggingFile},reaction:e=>{e?(this.dragEndedAt=null,this.hasValidationError=!1):this.dragEndedAt=U.default.NowHighResolution}},this.dragOffAutoClose&&{dataFn:()=>this.shouldAutoCloseOverlay,reaction:e=>{e&&this.close()},fireImmediately:!1}].filter(Boolean),this.ControlConfiguration=null,this.IsContentScrollable=!1,this.IsSmallWidth=!0,this.Confirm=(0,g.coroutine)((function*(){t.isUploading=!1})),(0,m.default)(this,"_handleUploadStart",u,this),(0,m.default)(this,"_handleUploadComplete",h,this),(0,m.default)(this,"_handleUploadCanceled",f,this),this._handleRemdiateDisallowedMedia=e=>{this.props.remediateDisallowedMedia(e),this.close()},(0,m.default)(this,"_handleUploadValidationError",c,this),(0,D.default)(this.props.dynamicMediaTypeId,"must provide a dynamicMediaTypeId to UploadMediaOverlay")}get shouldAutoCloseOverlay(){if(this.isUploading||!this.dragOffAutoClose||this.hasValidationError)return!1;const{dragEndedAt:e}=this;return null!==e&&U.default.NowHighResolution-e>500}render(){return(0,y.default)(M.default,{onUploadStart:this._handleUploadStart,onUploadComplete:this._handleUploadComplete,onUploadCanceled:this._handleUploadCanceled,onUploadValidationError:this._handleUploadValidationError,remediateDisallowedMedia:this.props.remediateDisallowedMedia?this._handleRemdiateDisallowedMedia:null,dynamicMediaTypeId:this.props.dynamicMediaTypeId})}},n=(0,b.default)(d.prototype,"isUploading",[N.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s=(0,b.default)(d.prototype,"dragEndedAt",[N.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=(0,b.default)(d.prototype,"hasValidationError",[N.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,b.default)(d.prototype,"Header",[N.computed],Object.getOwnPropertyDescriptor(d.prototype,"Header"),d.prototype),(0,b.default)(d.prototype,"friendlyMediaName",[N.computed],Object.getOwnPropertyDescriptor(d.prototype,"friendlyMediaName"),d.prototype),(0,b.default)(d.prototype,"friendlyMediaTypeName",[N.computed],Object.getOwnPropertyDescriptor(d.prototype,"friendlyMediaTypeName"),d.prototype),(0,b.default)(d.prototype,"hasUnsavedChanges",[N.computed],Object.getOwnPropertyDescriptor(d.prototype,"hasUnsavedChanges"),d.prototype),u=(0,b.default)(d.prototype,"_handleUploadStart",[N.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{var t,a;this.isUploading=!0,null===(t=(a=this.props).onUploadStart)||void 0===t||t.call(a,e)}}}),h=(0,b.default)(d.prototype,"_handleUploadComplete",[N.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.props.onConfirm(e)}}),f=(0,b.default)(d.prototype,"_handleUploadCanceled",[N.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>this.isUploading=!1}}),c=(0,b.default)(d.prototype,"_handleUploadValidationError",[N.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>this.hasValidationError=!0}}),(0,b.default)(d.prototype,"shouldAutoCloseOverlay",[N.computed],Object.getOwnPropertyDescriptor(d.prototype,"shouldAutoCloseOverlay"),d.prototype),r=d))||r)||r)||r)||r)||r)||r)||r);t.default=V}}]);
//# sourceMappingURL=https://sourcemaps.local.guilded.gg/db0e2dcb/UploadMediaOverlay.js.map