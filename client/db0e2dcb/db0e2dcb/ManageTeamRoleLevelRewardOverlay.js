(window.webpackJsonp=window.webpackJsonp||[]).push([[117],{10133:function(e,t,o){"use strict";var l=o(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=l(o(6)),n=l(o(24)),i=l(o(1)),s=(o(2),o(4));var p=(0,l(o(10)).default)({name:"ManageTeamRoleLevelRewardDisclaimer",loader:()=>o(10134)})(r=(0,s.observer)(r=class extends i.default.Component{render(){const{requiredXp:e}=this.props;return(0,a.default)(i.default.Fragment,{},void 0,(0,a.default)(n.default,{type:"subtext",element:"div",className:"ManageTeamRoleLevelRewardDisclaimer-required-xp"},void 0,"Required XP: ",null==e?"":e),(0,a.default)(n.default,{element:"div",className:"ManageTeamRoleLevelRewardDisclaimer-text"},void 0,"Saving this level reward will automatically apply the role to any members who are already at this level."))}})||r)||r;t.default=p},10134:function(e,t,o){var l=o(7),r=o(10135);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a,n=0,i={injectType:"lazyStyleTag",insert:"head",singleton:!1},s={};r.locals&&(s.locals=r.locals),s.use=function(e){return n++||(a=l(r,{...i,...e})),s},s.unuse=function(){n>0&&!--n&&(a(),a=null)},e.exports=s},10135:function(e,t,o){(t=o(8)(!1)).push([e.i,".ManageTeamRoleLevelRewardDisclaimer-required-xp{margin-top:4px}.ManageTeamRoleLevelRewardDisclaimer-text{margin-top:8px}",""]),e.exports=t},4732:function(e,t,o){"use strict";var l=o(0);o(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,n,i,s=o(14),p=l(o(3)),d=l(o(1653)),u=l(o(199)),c=l(o(10133)),m=l(o(5054)),v=l(o(68)),f=l(o(1626)),R=o(2),y=o(4);var b=(r=R.computed.struct,a=R.computed.struct,(0,m.default)(n=(0,y.observer)((i=class extends f.default{constructor(...e){var t;super(...e),t=this,this.DefaultLevel=5,this.ShowAdditionalComponent=!0,this.IsSmallWidth=!0,this.IsContentScrollable=!1,this.AdditionalComponent=c.default,this.Confirm=(0,s.coroutine)((function*(){const{values:e}=t.formValue;return{teamRoleId:e.teamRoleId.value,level:Number(e.level)}}))}get AdditionalComponentProps(){var e,t;const o=null===(e=this.formValue)||void 0===e?void 0:null===(t=e.values)||void 0===t?void 0:t.level;return{requiredXp:o?d.default.CalculateRequiredXp(o):void 0}}get teamRoleLevelRewards(){return this.props.teamRoleLevelRewards}get teamRoleLevelRewardsByRoleId(){return this.teamRoleLevelRewards.reduce((e,t)=>(e[t.teamRoleId]=t,e),{})}get teamRoleLevelRewardRoleOptions(){return this.roleOptions.filter(e=>!this.teamRoleLevelRewardsByRoleId[e.value])}get teamRoleIdDefaultValue(){const{teamRoleLevelReward:e}=this.props;return e?this.teamRoleLevelRewardRoleOptions.find(t=>t.value===e.teamRoleId):null}get levelDefaultValue(){const{teamRoleLevelReward:e}=this.props;return void 0!==(null==e?void 0:e.level)?e.level:this.DefaultLevel}get FormSpecs(){return{sections:[{header:null,fieldSpecs:[{type:v.default.Dropdown,fieldName:"teamRoleId",searchable:!0,grow:!0,label:"Role",defaultValue:this.teamRoleIdDefaultValue,options:this.teamRoleLevelRewardRoleOptions},{type:v.default.Text,inputType:"number",validationFunction:u.default.Validate4ByteSignedInteger,grow:!0,fieldName:"level",label:"Level",defaultValue:this.levelDefaultValue}]}]}}},(0,p.default)(i.prototype,"AdditionalComponentProps",[r],Object.getOwnPropertyDescriptor(i.prototype,"AdditionalComponentProps"),i.prototype),(0,p.default)(i.prototype,"teamRoleLevelRewards",[a],Object.getOwnPropertyDescriptor(i.prototype,"teamRoleLevelRewards"),i.prototype),(0,p.default)(i.prototype,"teamRoleLevelRewardsByRoleId",[R.computed],Object.getOwnPropertyDescriptor(i.prototype,"teamRoleLevelRewardsByRoleId"),i.prototype),(0,p.default)(i.prototype,"teamRoleLevelRewardRoleOptions",[R.computed],Object.getOwnPropertyDescriptor(i.prototype,"teamRoleLevelRewardRoleOptions"),i.prototype),(0,p.default)(i.prototype,"teamRoleIdDefaultValue",[R.computed],Object.getOwnPropertyDescriptor(i.prototype,"teamRoleIdDefaultValue"),i.prototype),(0,p.default)(i.prototype,"levelDefaultValue",[R.computed],Object.getOwnPropertyDescriptor(i.prototype,"levelDefaultValue"),i.prototype),(0,p.default)(i.prototype,"FormSpecs",[R.computed],Object.getOwnPropertyDescriptor(i.prototype,"FormSpecs"),i.prototype),n=i))||n)||n);t.default=b},5054:function(e,t,o){"use strict";var l=o(0);o(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,o,l,a,m,f;return t=c.computed.struct,o=c.computed.struct,(0,u.default)((f=m=class extends e{constructor(...e){var t;super(...e),t=this,this.GetRoleLabelStyle=e=>{const{color:t,color2:o}=e;return o?v(v({},s.default.GetTextGradientStyle(t,o)),{},{maxWidth:"fit-content"}):{color:(0,i.GetRoleColor)(t)}},this.ConvertRoleToOption=e=>{const{IsSingleSelect:t=!0,IncludeRoleOptionOnClick:o=!0}=this;return{title:"@".concat(e.name),label:"@".concat(e.name),rgbColorNormalized:(0,i.GetRoleColor)(e.color),color:e.color,color2:e.color2,imageType:"icon",onClick:o?this._handleAssignRole:null,size:d.default.IsDesktop?"sm":"md",infoSize:d.default.IsDesktop?"sm":"md",flavor:"transparent",value:e.id,isSingleSelect:t,labelStyle:this.GetRoleLabelStyle(e)}},this._handleAssignRole=function(){var e=(0,r.coroutine)((function*(e){const{teamId:o}=t.teamContext,{member:l,onRoleSelect:r,onCloseSelector:a}=t.props;var n,i;l?(yield p.default.AssignTeamRole({teamId:o,userId:l.id,roleId:e}),l.addRoleId(e)):(null===(n=t.OnRoleSelect)||void 0===n||n.call(t,e),null==r||r(e),null===(i=t.close)||void 0===i||i.call(t),null==a||a())}));return function(t){return e.apply(this,arguments)}}()}get availableMembershipRoles(){const{member:e,excludedRoleIds:t,excludeHigherPriorityRoles:o=!0,includeBotRoles:l=this.IncludeBotRoles}=this.props,{IncludeCurrentRole:r=!1}=this,{teamInfo:a,viewerIsAdmin:n,memberInfo:i,canManageRoles:s}=this.teamContext;return(l?[...a.assignableRoles,...a.botRoles]:a.assignableRoles).filter(({id:l,isSelfAssignable:a,priority:p})=>!((null==t?void 0:t.includes(l))||(null==e?void 0:e.membershipRoleIds.includes(l)))&&(!o||(a&&(i.rank>p||(null==e?void 0:e.id)===i.id)||n||s&&i.rank>p||r&&i.rank===p)))}get roleOptions(){return this.availableMembershipRoles.map(this.ConvertRoleToOption)}},m.displayName=e.displayName||e.name,a=f,(0,n.default)(a.prototype,"availableMembershipRoles",[t],Object.getOwnPropertyDescriptor(a.prototype,"availableMembershipRoles"),a.prototype),(0,n.default)(a.prototype,"roleOptions",[o],Object.getOwnPropertyDescriptor(a.prototype,"roleOptions"),a.prototype),l=a))||l};var r=o(14),a=l(o(15)),n=l(o(3)),i=o(153),s=l(o(160)),p=l(o(50)),d=l(o(18)),u=l(o(25)),c=o(2);function m(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,l)}return o}function v(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?m(Object(o),!0).forEach((function(t){(0,a.default)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):m(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}}}]);
//# sourceMappingURL=https://sourcemaps.local.guilded.gg/db0e2dcb/ManageTeamRoleLevelRewardOverlay.js.map