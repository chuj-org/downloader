(window.webpackJsonp=window.webpackJsonp||[]).push([[142],{4659:function(e,t,a){"use strict";var r=a(0);a(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i,l,o,d,s,u,c,f=r(a(6)),p=r(a(15)),h=a(14),b=r(a(12)),g=r(a(3)),y=(r(a(13)),r(a(303))),m=r(a(273)),w=r(a(25)),C=r(a(22)),O=r(a(1407)),x=r(a(204)),v=r(a(23)),T=r(a(1527)),k=r(a(1)),P=a(2),D=a(4);function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var M=(0,r(a(10)).default)({name:"RichTextComposerOverlay",loader:()=>a(9461)})(n=(0,w.default)(n=(0,C.default)(n=(0,x.default)(n=(0,D.observer)((i=class extends k.default.Component{constructor(...e){var t;super(...e),t=this,this.ControlConfiguration=m.default.ConfirmAndCancelSubtle,(0,b.default)(this,"hasChanged",l,this),(0,b.default)(this,"hasTitleChanged",o,this),(0,b.default)(this,"isValid",d,this),this.Header=this.props.header||"Post something",this.ConfirmText=this.props.confirmText||"Post",this.IsUnstyled=!0,this.Confirm=(0,h.coroutine)((function*(){const{onSubmit:e}=t.props;return e(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(Object(a),!0).forEach((function(t){(0,p.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t.draftInput.getValue()))})),this.OnError=e=>{this.statusContext.displayError({error:e})},(0,b.default)(this,"_handleChange",s,this),(0,b.default)(this,"_handleToggleValid",u,this),(0,b.default)(this,"_handleTitleChange",c,this),this._handleDraftInputRef=e=>this.draftInput=e}get Disabled(){const{isValid:e,hasChanged:t,hasTitleChanged:a}=this;return!e||!t&&!a}get hasUnsavedChanges(){const{hasChanged:e,hasTitleChanged:t}=this;return e||t}get initialValueObj(){const{initialValue:e}=this.props;return e&&(0,P.toJS)(e)||{}}get user(){const{memberInfo:e}=this.teamContext;return e||this.userContext.userInfo}render(){const{user:e}=this,{initialValue:t,initialTitleValue:a}=this.props;return(0,f.default)("div",{className:"RichTextComposerOverlay-container"},void 0,(0,f.default)("div",{className:"RichTextComposerOverlay-header"},void 0,(0,f.default)(O.default,{className:"RichTextComposerOverlay-profile-details",user:e})),k.default.createElement(T.default,{className:"TeamDraftCreatorWidget-draft-input",initialValue:t,initialTitleValue:a,onChange:this._handleChange,onTitleChange:this._handleTitleChange,onToggleValid:this._handleToggleValid,ref:this._handleDraftInputRef,forceExpanded:!0}))}},l=(0,g.default)(i.prototype,"hasChanged",[P.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),o=(0,g.default)(i.prototype,"hasTitleChanged",[P.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),d=(0,g.default)(i.prototype,"isValid",[P.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,g.default)(i.prototype,"Disabled",[P.computed],Object.getOwnPropertyDescriptor(i.prototype,"Disabled"),i.prototype),(0,g.default)(i.prototype,"hasUnsavedChanges",[P.computed],Object.getOwnPropertyDescriptor(i.prototype,"hasUnsavedChanges"),i.prototype),(0,g.default)(i.prototype,"initialValueObj",[P.computed],Object.getOwnPropertyDescriptor(i.prototype,"initialValueObj"),i.prototype),(0,g.default)(i.prototype,"user",[P.computed],Object.getOwnPropertyDescriptor(i.prototype,"user"),i.prototype),s=(0,g.default)(i.prototype,"_handleChange",[P.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{initialValueObj:t}=this;this.hasChanged=this.hasChanged||!y.default.GetIsEmpty(e)&&!v.default.deepEqualSimpleJsonObjs(e,t)}}}),u=(0,g.default)(i.prototype,"_handleToggleValid",[P.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.isValid=e}}),c=(0,g.default)(i.prototype,"_handleTitleChange",[P.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>this.hasTitleChanged=!0}}),n=i))||n)||n)||n)||n)||n;t.default=M},9461:function(e,t,a){var r=a(7),n=a(9462);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var i,l=0,o={injectType:"lazyStyleTag",insert:"head",singleton:!1},d={};n.locals&&(d.locals=n.locals),d.use=function(e){return l++||(i=r(n,{...o,...e})),d},d.unuse=function(){l>0&&!--l&&(i(),i=null)},e.exports=d},9462:function(e,t,a){(t=a(8)(!1)).push([e.i,".RichTextComposerOverlay-container{background:#3c3e48;height:100%;display:flex;flex-direction:column}.RichTextComposerOverlay-container .DraftInput-container .DraftInput-fake-android-input{padding:12px}.RichTextComposerOverlay-container .DraftInput-container .DraftInput-fake-android-input .ContentEditableInput-placeholder-text{top:12px}.RichTextComposerOverlay-header{padding:20px 12px 12px 12px;display:flex;align-items:flex-start;justify-content:space-between}",""]),t.locals={confirmationGreen:"#53da33",confirmationGreenDesaturated:"#6cba50",gilded4:"#ecb200",gilded5:"#e0a900",gilded6:"#be8c00",errorRedDesaturated:"#df5353",gray:"#a3a3ac",bodyTextWhite:"#ececee",bodyTextWiteMask64:"rgba(236,236,238,.64)",border:"#848a94",errorRed:"#ff6b6b",warnYellow:"#ffb400",nuxBlue:"#008ae1",calendarOrange:"#d89332",calendarBlue:"#355bf8",calendarGreen:"#6cba50",calendarSeagreen:"#30a68f",calendarJewelgreen:"#148f33",calendarPurple:"#a250e8",calendarPurpleMask7:"rgba(162,80,232,.07)",calendarPurpleMask10:"rgba(162,80,232,.1)",mediumPurple3:"#dab9f6",mediumPurple3Mask10:"rgba(218,185,246,.1)",dropmenuGray:"#4f515d",menuGray:"#4f515d",menuGrayMask30:"rgba(79,81,93,.3)",yellowHighlight:"#ffeca0",desaturatedReddit:"#ea794f",desaturatedTwitter:"#64a9d4",desaturatedYoutube:"#cf5c58",whatsapp:"#25d366",github:"#24292e",vimeo:"#1ab7ea",gilded:"#f5c400",orangeRed:"#ff4500",gameNavBlack:"#32343d",gameNavBlackMask36:"rgba(50,52,61,.36)",white:"#fff",gilded2:"#f8d64c",gilded2Mask5:"rgba(248,214,76,.05)",gilded2Mask7:"rgba(248,214,76,.07)",gilded2Mask10:"rgba(248,214,76,.1)",gilded2Mask20:"rgba(248,214,76,.2)",gilded2Mask50:"rgba(248,214,76,.5)",nuxBlueDesaturatedMask7:"rgba(174,189,252,.07)",restGet:"#335a9e",restHead:"#a250e8",restPost:"#6cba50",restPut:"#d89332",restPatch:"#4f515d",restDelete:"#ff6b6b",mysteriousGray:"#212329",backgroundBlack:"#1e2025",yellowThree:"#ffb400",calendarGreenDesaturated:"#476047",calendarRed:"#df5353",calendarRedMask30:"rgba(223,83,83,.2)",calendarRedDesaturated:"#694148",druidOrange:"#e4b370",sidebarBlack:"#292b32",brandyPunch:"#d89332",navBlack:"#191b1f",yellow1:"gold",yellow2:"#e4c519",yellow3:"#ffb400",yellow4:"#ffb400",yellow5:"#d89f0c",yellow6:"#ffd800",yellow6Mask35:"rgba(255,216,0,.35)",gameNavGray:"#30323a",skeletonGray:"#50525f",blackPearl:"#222329",twitch:"#9146ff",bnet:"#078ad2",psn:"#00134c",xbox:"#1c6d00",steam:"#231f20",origin:"#e73b00",youtube:"red",twitter:"#1189f4",facebook:"#335a9e",switch:"#e60012",patreon:"#ff424d",roblox:"#00a2ff",epic:"#2f2d2e",bnetSecondary:"#009ae4",psnSecondary:"#2d64e6",xboxSecondary:"#52b043",steamSecondary:"#096295",twitchSecondary:"#9146ff",epicSecondary:"#0078f2",grayMask20:"rgba(163,163,172,.2)",grayMask40:"rgba(163,163,172,.4)",goldenShadow:"rgba(255,234,0,.5)",colorChannelGray:"#373943"},e.exports=t}}]);
//# sourceMappingURL=https://sourcemaps.local.guilded.gg/db0e2dcb/RichTextComposerOverlay.js.map