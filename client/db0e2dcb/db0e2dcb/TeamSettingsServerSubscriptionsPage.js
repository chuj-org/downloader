(window.webpackJsonp=window.webpackJsonp||[]).push([[184],{10743:function(e,t,r){"use strict";var a=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=a(r(6)),s=r(30),o=a(r(228)),l=a(r(10744)),d=a(r(25)),u=a(r(24)),c=a(r(11)),p=a(r(1)),b=(r(2),r(4));var f=(0,a(r(10)).default)({name:"TeamSettingsServerSubscriptionsPage",loader:()=>r(10771)})(n=(0,o.default)([s.ServerSubscriptionsManageTierOverlay,s.ServerSubscriptionsDeleteTierOverlay])(n=(0,d.default)(n=(0,b.observer)(n=class extends p.default.Component{render(){const{className:e,defaultSelectedTabName:t}=this.props;return(0,i.default)("div",{className:(0,c.default)("TeamSettingsServerSubscriptionsPage-container",e)},void 0,(0,i.default)(u.default,{block:!0,type:"heading2",className:"TeamSettingsServerSubscriptionsPage-header"},void 0,"Subscriptions"),(0,i.default)(l.default,{className:(0,c.default)("TeamSettingsServerSubscriptionsPage-content",e),defaultSelectedTabName:t}))}})||n)||n)||n)||n;t.default=f},10744:function(e,t,r){"use strict";var a=r(0);r(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=a(r(6)),s=a(r(8239)),o=a(r(4860)),l=a(r(10745)),d=a(r(8501)),u=a(r(10752)),c=a(r(10757)),p=a(r(10766)),b=a(r(1403)),f=a(r(11)),g=a(r(1)),m=(r(2),r(4));var y=(0,a(r(10)).default)({name:"TeamSettingsServerSubscriptionsManage",loader:()=>r(10769)})(n=(0,s.default)(n=(0,m.observer)(n=class extends g.default.Component{constructor(...e){super(...e),this.TabOptions=o.default.ManageServerSubscriptions}render(){const{className:e}=this.props,{tabSpecs:t,defaultSelectedTabIndex:r}=this;return(0,i.default)("div",{className:(0,f.default)("TeamSettingsServerSubscriptionsManage-container",e)},void 0,(0,i.default)(d.default,{className:"TeamSettingsServerSubscriptionsManage-notification-banners",isSettings:!0}),(0,i.default)(b.default,{tabSpecs:t,defaultSelectedTabIndex:r},void 0,(0,i.default)(c.default,{}),(0,i.default)(u.default,{}),(0,i.default)(l.default,{}),(0,i.default)(p.default,{})))}})||n)||n)||n;t.default=y},10745:function(e,t,r){"use strict";var a=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=a(r(6)),s=a(r(8498)),o=a(r(35)),l=a(r(42)),d=a(r(10746)),u=a(r(8500)),c=a(r(11)),p=a(r(1)),b=(r(2),r(4));var f=(0,a(r(10)).default)({name:"ServerSubscriptionsReports",loader:()=>r(10750)})(n=(0,b.observer)(n=class extends p.default.Component{render(){const{className:e}=this.props;return(0,i.default)("div",{className:(0,c.default)("ServerSubscriptionsReports-container",e)},void 0,(0,i.default)("div",{className:"ServerSubscriptionsReports-earnings-wrapper"},void 0,(0,i.default)(u.default,{className:"ServerSubscriptionsReports-earnings"}),(0,i.default)(s.default,{className:"ServerSubscriptionsReports-earnings-chart"})),(0,i.default)(d.default,{className:"ServerSubscriptionsReports-monthly"}))}componentDidMount(){super.componentDidMount&&super.componentDidMount(),l.default.Log(o.default.ServerSubscriptionsTeamSettingsReportsTabLoaded)}})||n)||n;t.default=f},10746:function(e,t,r){"use strict";var a=r(0),n=r(19);r(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,s=a(r(6)),o=a(r(8499)),l=a(r(64)),d=a(r(55)),u=a(r(24)),c=a(r(25)),p=a(r(311)),b=n(r(10747)),f=a(r(11)),g=a(r(1)),m=(r(2),r(4));var y=(0,a(r(10)).default)({name:"ServerSubscriptionsMonthlyEarningsTable",loader:()=>r(10748)})(i=(0,o.default)(i=(0,b.default)(i=(0,c.default)(i=(0,m.observer)(i=class extends g.default.Component{constructor(...e){super(...e),this.ColumnKeys=[b.MonthlyEarningsValueKeys.Month,b.MonthlyEarningsValueKeys.GrossEarnings,b.MonthlyEarningsValueKeys.StripeFees,b.MonthlyEarningsValueKeys.ApplicationFees,b.MonthlyEarningsValueKeys.NetEarnings],this.RenderMonth=({item:e})=>(0,s.default)(u.default,{type:"body"},void 0,(0,d.default)(e.month).utc().format("MMMM")),this.RenderCurrencyValue=({item:e,value:t})=>(0,s.default)(u.default,{type:"body"},void 0,l.default.MinorToMajorCurrency(t,this.currency)),this.RenderNetEarnings=({item:e,value:t})=>(0,s.default)(u.default,{type:"subheader",className:"ServerSubscriptionsMonthlyEarningsTable-net-earnings"},void 0,l.default.MinorToMajorCurrency(t,this.currency))}render(){const{className:e}=this.props;return(0,s.default)("div",{className:(0,f.default)("ServerSubscriptionsMonthlyEarningsTable-container",e)},void 0,(0,s.default)(p.default,{className:(0,f.default)("ServerSubscriptionsMonthlyEarningsTable-items",e),items:this.monthlyEarnings,columnKeys:this.ColumnKeys,specs:this.itemManagerSpecs,hasLoaded:!!this.hasFetched,iconComponent:null}))}})||i)||i)||i)||i)||i;t.default=y},10747:function(e,t,r){"use strict";var a=r(0);r(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,r,a,o;return t=i.computed.struct,o=a=class extends e{constructor(...e){super(...e),this.monthCompareFunc=({value1:e,value2:t})=>e.isBefore(t)?1:-1,this.currencyCompareFunc=({value1:e,value2:t})=>t-e}get itemManagerSpecs(){return{values:{[s.Month]:{label:"Month",itemKey:"month"},[s.GrossEarnings]:{label:"Earnings before fees",itemKey:"grossEarnings"},[s.StripeFees]:{label:"Stripe fees",itemKey:"stripeFees"},[s.ApplicationFees]:{label:"Guilded fees",itemKey:"applicationFees"},[s.NetEarnings]:{label:"Net earnings",itemKey:"netEarnings"}},columns:{[s.Month]:{valueKey:s.Month,valueRenderer:this.RenderMonth,style:{maxWidth:180}},[s.GrossEarnings]:{valueKey:s.GrossEarnings,valueRenderer:this.RenderCurrencyValue,style:{maxWidth:180}},[s.StripeFees]:{valueKey:s.StripeFees,valueRenderer:this.RenderCurrencyValue,style:{maxWidth:180}},[s.ApplicationFees]:{valueKey:s.ApplicationFees,valueRenderer:this.RenderCurrencyValue,style:{maxWidth:180}},[s.NetEarnings]:{valueKey:s.NetEarnings,valueRenderer:this.RenderNetEarnings,style:{maxWidth:180}}},sort:{[s.Month]:{priority:1,compareFunc:this.monthCompareFunc},[s.GrossEarnings]:{priority:2,compareFunc:this.currencyCompareFunc},[s.StripeFees]:{priority:3,compareFunc:this.currencyCompareFunc},[s.ApplicationFees]:{priority:4,compareFunc:this.currencyCompareFunc},[s.NetEarnings]:{priority:5,compareFunc:this.currencyCompareFunc}},defaultValues:{sortKey:s.Month},hideControls:!0,nullStateProps:{type:"nothing-here",title:"No data yet",subtitle:"When server members subscribe, we’ll display a table of your earnings here"}}}},a.displayName=e.displayName||e.name,r=o,(0,n.default)(r.prototype,"itemManagerSpecs",[t],Object.getOwnPropertyDescriptor(r.prototype,"itemManagerSpecs"),r.prototype),r},t.MonthlyEarningsValueKeys=void 0;var n=a(r(3)),i=r(2);const s={GrossEarnings:"grossEarnings",NetEarnings:"netEarnings",StripeFees:"stripeFees",ApplicationFees:"applicationFees",Month:"month"};t.MonthlyEarningsValueKeys=s},10748:function(e,t,r){var a=r(7),n=r(10749);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var i,s=0,o={injectType:"lazyStyleTag",insert:"head",singleton:!1},l={};n.locals&&(l.locals=n.locals),l.use=function(e){return s++||(i=a(n,{...o,...e})),l},l.unuse=function(){s>0&&!--s&&(i(),i=null)},e.exports=l},10749:function(e,t,r){(t=r(8)(!1)).push([e.i,".ServerSubscriptionsMonthlyEarningsTable-net-earnings{color:#53da33}",""]),t.locals={confirmationGreen:"#53da33",confirmationGreenDesaturated:"#6cba50",gilded4:"#ecb200",gilded5:"#e0a900",gilded6:"#be8c00",errorRedDesaturated:"#df5353",gray:"#a3a3ac",bodyTextWhite:"#ececee",bodyTextWiteMask64:"rgba(236,236,238,.64)",border:"#848a94",errorRed:"#ff6b6b",warnYellow:"#ffb400",nuxBlue:"#008ae1",calendarOrange:"#d89332",calendarBlue:"#355bf8",calendarGreen:"#6cba50",calendarSeagreen:"#30a68f",calendarJewelgreen:"#148f33",calendarPurple:"#a250e8",calendarPurpleMask7:"rgba(162,80,232,.07)",calendarPurpleMask10:"rgba(162,80,232,.1)",mediumPurple3:"#dab9f6",mediumPurple3Mask10:"rgba(218,185,246,.1)",dropmenuGray:"#4f515d",menuGray:"#4f515d",menuGrayMask30:"rgba(79,81,93,.3)",yellowHighlight:"#ffeca0",desaturatedReddit:"#ea794f",desaturatedTwitter:"#64a9d4",desaturatedYoutube:"#cf5c58",whatsapp:"#25d366",github:"#24292e",vimeo:"#1ab7ea",gilded:"#f5c400",orangeRed:"#ff4500",gameNavBlack:"#32343d",gameNavBlackMask36:"rgba(50,52,61,.36)",white:"#fff",gilded2:"#f8d64c",gilded2Mask5:"rgba(248,214,76,.05)",gilded2Mask7:"rgba(248,214,76,.07)",gilded2Mask10:"rgba(248,214,76,.1)",gilded2Mask20:"rgba(248,214,76,.2)",gilded2Mask50:"rgba(248,214,76,.5)",nuxBlueDesaturatedMask7:"rgba(174,189,252,.07)",restGet:"#335a9e",restHead:"#a250e8",restPost:"#6cba50",restPut:"#d89332",restPatch:"#4f515d",restDelete:"#ff6b6b",mysteriousGray:"#212329",backgroundBlack:"#1e2025",yellowThree:"#ffb400",calendarGreenDesaturated:"#476047",calendarRed:"#df5353",calendarRedMask30:"rgba(223,83,83,.2)",calendarRedDesaturated:"#694148",druidOrange:"#e4b370",sidebarBlack:"#292b32",brandyPunch:"#d89332",navBlack:"#191b1f",yellow1:"gold",yellow2:"#e4c519",yellow3:"#ffb400",yellow4:"#ffb400",yellow5:"#d89f0c",yellow6:"#ffd800",yellow6Mask35:"rgba(255,216,0,.35)",gameNavGray:"#30323a",skeletonGray:"#50525f",blackPearl:"#222329",twitch:"#9146ff",bnet:"#078ad2",psn:"#00134c",xbox:"#1c6d00",steam:"#231f20",origin:"#e73b00",youtube:"red",twitter:"#1189f4",facebook:"#335a9e",switch:"#e60012",patreon:"#ff424d",roblox:"#00a2ff",epic:"#2f2d2e",bnetSecondary:"#009ae4",psnSecondary:"#2d64e6",xboxSecondary:"#52b043",steamSecondary:"#096295",twitchSecondary:"#9146ff",epicSecondary:"#0078f2",grayMask20:"rgba(163,163,172,.2)",grayMask40:"rgba(163,163,172,.4)",goldenShadow:"rgba(255,234,0,.5)",colorChannelGray:"#373943"},e.exports=t},10750:function(e,t,r){var a=r(7),n=r(10751);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var i,s=0,o={injectType:"lazyStyleTag",insert:"head",singleton:!1},l={};n.locals&&(l.locals=n.locals),l.use=function(e){return s++||(i=a(n,{...o,...e})),l},l.unuse=function(){s>0&&!--s&&(i(),i=null)},e.exports=l},10751:function(e,t,r){(t=r(8)(!1)).push([e.i,".ServerSubscriptionsReports-monthly{margin-top:24px}.ServerSubscriptionsReports-earnings-wrapper{background-color:#32343d;border-radius:4px;padding:16px}.ServerSubscriptionsReports-earnings-chart{height:200px;margin-top:24px;display:flex;justify-content:center;align-items:center}",""]),t.locals={confirmationGreen:"#53da33",confirmationGreenDesaturated:"#6cba50",gilded4:"#ecb200",gilded5:"#e0a900",gilded6:"#be8c00",errorRedDesaturated:"#df5353",gray:"#a3a3ac",bodyTextWhite:"#ececee",bodyTextWiteMask64:"rgba(236,236,238,.64)",border:"#848a94",errorRed:"#ff6b6b",warnYellow:"#ffb400",nuxBlue:"#008ae1",calendarOrange:"#d89332",calendarBlue:"#355bf8",calendarGreen:"#6cba50",calendarSeagreen:"#30a68f",calendarJewelgreen:"#148f33",calendarPurple:"#a250e8",calendarPurpleMask7:"rgba(162,80,232,.07)",calendarPurpleMask10:"rgba(162,80,232,.1)",mediumPurple3:"#dab9f6",mediumPurple3Mask10:"rgba(218,185,246,.1)",dropmenuGray:"#4f515d",menuGray:"#4f515d",menuGrayMask30:"rgba(79,81,93,.3)",yellowHighlight:"#ffeca0",desaturatedReddit:"#ea794f",desaturatedTwitter:"#64a9d4",desaturatedYoutube:"#cf5c58",whatsapp:"#25d366",github:"#24292e",vimeo:"#1ab7ea",gilded:"#f5c400",orangeRed:"#ff4500",gameNavBlack:"#32343d",gameNavBlackMask36:"rgba(50,52,61,.36)",white:"#fff",gilded2:"#f8d64c",gilded2Mask5:"rgba(248,214,76,.05)",gilded2Mask7:"rgba(248,214,76,.07)",gilded2Mask10:"rgba(248,214,76,.1)",gilded2Mask20:"rgba(248,214,76,.2)",gilded2Mask50:"rgba(248,214,76,.5)",nuxBlueDesaturatedMask7:"rgba(174,189,252,.07)",restGet:"#335a9e",restHead:"#a250e8",restPost:"#6cba50",restPut:"#d89332",restPatch:"#4f515d",restDelete:"#ff6b6b",mysteriousGray:"#212329",backgroundBlack:"#1e2025",yellowThree:"#ffb400",calendarGreenDesaturated:"#476047",calendarRed:"#df5353",calendarRedMask30:"rgba(223,83,83,.2)",calendarRedDesaturated:"#694148",druidOrange:"#e4b370",sidebarBlack:"#292b32",brandyPunch:"#d89332",navBlack:"#191b1f",yellow1:"gold",yellow2:"#e4c519",yellow3:"#ffb400",yellow4:"#ffb400",yellow5:"#d89f0c",yellow6:"#ffd800",yellow6Mask35:"rgba(255,216,0,.35)",gameNavGray:"#30323a",skeletonGray:"#50525f",blackPearl:"#222329",twitch:"#9146ff",bnet:"#078ad2",psn:"#00134c",xbox:"#1c6d00",steam:"#231f20",origin:"#e73b00",youtube:"red",twitter:"#1189f4",facebook:"#335a9e",switch:"#e60012",patreon:"#ff424d",roblox:"#00a2ff",epic:"#2f2d2e",bnetSecondary:"#009ae4",psnSecondary:"#2d64e6",xboxSecondary:"#52b043",steamSecondary:"#096295",twitchSecondary:"#9146ff",epicSecondary:"#0078f2",grayMask20:"rgba(163,163,172,.2)",grayMask40:"rgba(163,163,172,.4)",goldenShadow:"rgba(255,234,0,.5)",colorChannelGray:"#373943",streamGradient:"linear-gradient(63.5deg, #ff0000 -29.74%, #b258ff 83.36%)"},e.exports=t},10752:function(e,t,r){"use strict";var a=r(0),n=r(19);r(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,s=a(r(6)),o=a(r(21)),l=a(r(54)),d=r(5165),u=a(r(35)),c=a(r(42)),p=a(r(70)),b=a(r(55)),f=a(r(24)),g=a(r(112)),m=a(r(311)),y=n(r(10753)),h=a(r(11)),S=a(r(1)),v=(r(2),r(4)),T=a(r(10));const P={[d.ChargeStatuses.Succeeded]:"Paid",[d.ChargeStatuses.Pending]:"Pending",[d.ChargeStatuses.Failed]:"Failed"};var M=(0,T.default)({name:"ServerSubscriptionsSubscribers",loader:()=>r(10755)})(i=(0,y.default)(i=(0,v.observer)(i=class extends S.default.Component{constructor(...e){super(...e),this.ColumnKeys=[y.SubscriberValueKeys.Name,y.SubscriberValueKeys.Tier,y.SubscriberValueKeys.MembershipStatus,y.SubscriberValueKeys.LastChargeStatus,y.SubscriberValueKeys.LastCharged,y.SubscriberValueKeys.SubscriberSince],this.RenderName=({item:e})=>(0,s.default)(g.default,{user:e.member}),this.RenderTier=({item:e})=>{var t,r,a;const n=null===(t=this.teamContext.teamInfo)||void 0===t?void 0:null===(r=t.serverSubscriptionPlansById)||void 0===r?void 0:null===(a=r[e.serverSubscription.teamSubscriptionPlanId])||void 0===a?void 0:a.serverSubscriptionTierConst;if(!n)return null;const i={color:n.Color};return(0,s.default)(f.default,{weight:"bold",style:i},void 0,n.Tier)},this.RenderLastCharged=({item:e})=>(0,s.default)(f.default,{type:"body"},void 0,e.serverSubscription.lastChargedAt?(0,b.default)(e.serverSubscription.lastChargedAt).format(p.default.DayFormat):"-"),this.RenderMembershipStatus=({item:e})=>e.serverSubscription.cancelAtPeriodEnd?(0,s.default)("div",{className:"ServerSubscriptionsSubscribers-pending-cancelation"},void 0,(0,s.default)(f.default,{type:"body",element:"div"},void 0,"Pending cancellation"),(0,s.default)(l.default,{className:"ServerSubscriptionsSubscribers-info-icon-hover-context",direction:"up",text:"Subscription will be canceled at the end of the billing period.",inline:!0,wrapTooltipText:!0},void 0,(0,s.default)(o.default,{className:"ServerSubscriptionsSubscribers-info-icon",iconName:"icon-info-hollow"}))):(0,s.default)(f.default,{type:"body"},void 0,"Active"),this.RenderLastChargeStatus=({item:e})=>{const t=e.serverSubscription.lastChargeStatus;return t?(0,s.default)(f.default,{type:"body",className:(0,h.default)("ServerSubscriptionsSubscribers-charge-status-".concat(t))},void 0,P[t]):null},this.RenderSubscriberSince=({item:e})=>(0,s.default)(f.default,{type:"body"},void 0,(0,b.default)(e.serverSubscription.createdAt).format(p.default.DayFormat))}componentDidMount(){super.componentDidMount&&super.componentDidMount(),c.default.Log(u.default.ServerSubscriptionsTeamSettingsSubscribersTabLoaded)}render(){const{className:e}=this.props;return(0,s.default)(m.default,{className:(0,h.default)("ServerSubscriptionsSubscribers-container",e),items:this.subscribers,columnKeys:this.ColumnKeys,specs:this.itemManagerSpecs,hasLoaded:!!this.teamContext.activeMembers,getIconProps:this.getMemberIconProps})}})||i)||i)||i;t.default=M},10753:function(e,t,r){"use strict";var a=r(0);r(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,r,a,b,f,g,m;return t=c.observable.struct,r=c.computed.struct,(0,u.default)(a=(0,l.default)((m=g=class extends e{constructor(...e){super(...e),(0,n.default)(this,"subscribers",f,this),this.getMemberIconProps=e=>({player:e.member,size:"sm",hideOnlineInfo:!0}),this.chargeStatusCompareFunc=({value1:e,value2:t})=>e.lastChargeStatus.localeCompare(t.lastChargeStatus),this.membershipStatusCompareFunc=({value1:e,value2:t})=>e.status.localeCompare(t.status),this.chargedAtCompareFunc=({value1:e,value2:t})=>e.lastChargedAt||t.lastChargedAt?e.lastChargedAt?t.lastChargedAt?(0,d.default)(e.lastChargedAt).isBefore((0,d.default)(t.lastChargedAt))?-1:1:-1:1:0,this.subscribedCompareFunc=({value1:e,value2:t})=>(0,d.default)(e.createdAt).isBefore((0,d.default)(t.createdAt))?-1:1,this.tierCompareFunc=({value1:e,value2:t})=>t.Priority-e.Priority}fetchData(){const{teamId:e}=this.teamContext;return o.default.GetServerSubscriptions({teamId:e})}handleDataFetch(e){this.subscribers=e.map(e=>new s.default({member:this.teamContext.getUser(e.userId),serverSubscription:e}))}get itemManagerSpecs(){return{values:{[p.Name]:{label:"Name",itemKey:"member"},[p.Tier]:{label:"Tier",itemKey:"serverSubscription"},[p.MembershipStatus]:{label:"Membership",itemKey:"serverSubscription"},[p.LastChargeStatus]:{label:"Last charge status",itemKey:"serverSubscription"},[p.LastCharged]:{label:"Last charged",itemKey:"serverSubscription"},[p.SubscriberSince]:{label:"Subscriber since",itemKey:"serverSubscription"}},columns:{[p.Name]:{valueKey:p.Name,valueRenderer:this.RenderName,style:{maxWidth:180}},[p.Tier]:{valueKey:p.Tier,valueRenderer:this.RenderTier,style:{maxWidth:100}},[p.MembershipStatus]:{valueKey:p.MembershipStatus,valueRenderer:this.RenderMembershipStatus,style:{maxWidth:200}},[p.LastChargeStatus]:{valueKey:p.LastChargeStatus,valueRenderer:this.RenderLastChargeStatus,style:{maxWidth:140}},[p.LastCharged]:{valueKey:p.LastCharged,valueRenderer:this.RenderLastCharged,style:{maxWidth:120}},[p.SubscriberSince]:{valueKey:p.SubscriberSince,valueRenderer:this.RenderSubscriberSince,style:{maxWidth:120}}},sort:{[p.Name]:{priority:0},[p.Tier]:{priority:1,compareFunc:this.tierCompareFunc},[p.MembershipStatus]:{priority:2,compareFunc:this.membershipStatusCompareFunc},[p.LastChargeStatus]:{priority:2,compareFunc:this.chargeStatusCompareFunc},[p.LastCharged]:{priority:2,compareFunc:this.chargedAtCompareFunc},[p.SubscriberSince]:{priority:3,compareFunc:this.subscribedCompareFunc}},defaultValues:{sortKey:p.Name},display:{label:"subscriber"},nullStateProps:{type:"nothing-here",title:"No subscribers yet",subtitle:"When server members subscribe, we’ll display a table of your subscribers here"}}}},g.displayName=e.displayName||e.name,b=m,f=(0,i.default)(b.prototype,"subscribers",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),(0,i.default)(b.prototype,"handleDataFetch",[c.action],Object.getOwnPropertyDescriptor(b.prototype,"handleDataFetch"),b.prototype),(0,i.default)(b.prototype,"itemManagerSpecs",[r],Object.getOwnPropertyDescriptor(b.prototype,"itemManagerSpecs"),b.prototype),a=b))||a)||a},t.SubscriberValueKeys=void 0;var n=a(r(12)),i=a(r(3)),s=(a(r(13)),a(r(10754))),o=a(r(4463)),l=a(r(39)),d=a(r(55)),u=a(r(25)),c=r(2);const p={Name:"name",Tier:"tier",LastCharged:"lastCharged",SubscriberSince:"subscriberSince",LastChargeStatus:"lastChargeStatus",MembershipStatus:"membershipStatus"};t.SubscriberValueKeys=p},10754:function(e,t,r){"use strict";var a=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(17)),i=(r(2),r(75));t.default=class{constructor({member:e,serverSubscription:t}){(0,n.default)(e,"member is required"),(0,n.default)(t,"serverSubscription is required"),this.id=t.stripeSubscriptionId,this[i.ModelComparatorKey]="".concat(t.userId,"-").concat(t.teamId,"-").concat(t.status),this.serverSubscription=t,this.member=e}}},10755:function(e,t,r){var a=r(7),n=r(10756);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var i,s=0,o={injectType:"lazyStyleTag",insert:"head",singleton:!1},l={};n.locals&&(l.locals=n.locals),l.use=function(e){return s++||(i=a(n,{...o,...e})),l},l.unuse=function(){s>0&&!--s&&(i(),i=null)},e.exports=l},10756:function(e,t,r){(t=r(8)(!1)).push([e.i,".ServerSubscriptionsSubscribers-charge-status-succeeded{color:#6cba50}.ServerSubscriptionsSubscribers-charge-status-failed{color:#df5353}.ServerSubscriptionsSubscribers-charge-status-pending{color:#ffb400}.ServerSubscriptionsSubscribers-info-icon{height:16px;width:16px;padding:2px;fill:#a3a3ac;display:flex;align-items:center;flex-shrink:0}.ServerSubscriptionsSubscribers-info-icon-hover-context{margin:-4px -4px -2px -2px;padding:4px}.ServerSubscriptionsSubscribers-pending-cancelation{display:flex;align-items:flex-end}",""]),t.locals={confirmationGreen:"#53da33",confirmationGreenDesaturated:"#6cba50",gilded4:"#ecb200",gilded5:"#e0a900",gilded6:"#be8c00",errorRedDesaturated:"#df5353",gray:"#a3a3ac",bodyTextWhite:"#ececee",bodyTextWiteMask64:"rgba(236,236,238,.64)",border:"#848a94",errorRed:"#ff6b6b",warnYellow:"#ffb400",nuxBlue:"#008ae1",calendarOrange:"#d89332",calendarBlue:"#355bf8",calendarGreen:"#6cba50",calendarSeagreen:"#30a68f",calendarJewelgreen:"#148f33",calendarPurple:"#a250e8",calendarPurpleMask7:"rgba(162,80,232,.07)",calendarPurpleMask10:"rgba(162,80,232,.1)",mediumPurple3:"#dab9f6",mediumPurple3Mask10:"rgba(218,185,246,.1)",dropmenuGray:"#4f515d",menuGray:"#4f515d",menuGrayMask30:"rgba(79,81,93,.3)",yellowHighlight:"#ffeca0",desaturatedReddit:"#ea794f",desaturatedTwitter:"#64a9d4",desaturatedYoutube:"#cf5c58",whatsapp:"#25d366",github:"#24292e",vimeo:"#1ab7ea",gilded:"#f5c400",orangeRed:"#ff4500",gameNavBlack:"#32343d",gameNavBlackMask36:"rgba(50,52,61,.36)",white:"#fff",gilded2:"#f8d64c",gilded2Mask5:"rgba(248,214,76,.05)",gilded2Mask7:"rgba(248,214,76,.07)",gilded2Mask10:"rgba(248,214,76,.1)",gilded2Mask20:"rgba(248,214,76,.2)",gilded2Mask50:"rgba(248,214,76,.5)",nuxBlueDesaturatedMask7:"rgba(174,189,252,.07)",restGet:"#335a9e",restHead:"#a250e8",restPost:"#6cba50",restPut:"#d89332",restPatch:"#4f515d",restDelete:"#ff6b6b",mysteriousGray:"#212329",backgroundBlack:"#1e2025",yellowThree:"#ffb400",calendarGreenDesaturated:"#476047",calendarRed:"#df5353",calendarRedMask30:"rgba(223,83,83,.2)",calendarRedDesaturated:"#694148",druidOrange:"#e4b370",sidebarBlack:"#292b32",brandyPunch:"#d89332",navBlack:"#191b1f",yellow1:"gold",yellow2:"#e4c519",yellow3:"#ffb400",yellow4:"#ffb400",yellow5:"#d89f0c",yellow6:"#ffd800",yellow6Mask35:"rgba(255,216,0,.35)",gameNavGray:"#30323a",skeletonGray:"#50525f",blackPearl:"#222329",twitch:"#9146ff",bnet:"#078ad2",psn:"#00134c",xbox:"#1c6d00",steam:"#231f20",origin:"#e73b00",youtube:"red",twitter:"#1189f4",facebook:"#335a9e",switch:"#e60012",patreon:"#ff424d",roblox:"#00a2ff",epic:"#2f2d2e",bnetSecondary:"#009ae4",psnSecondary:"#2d64e6",xboxSecondary:"#52b043",steamSecondary:"#096295",twitchSecondary:"#9146ff",epicSecondary:"#0078f2",grayMask20:"rgba(163,163,172,.2)",grayMask40:"rgba(163,163,172,.4)",goldenShadow:"rgba(255,234,0,.5)",colorChannelGray:"#373943",streamGradient:"linear-gradient(63.5deg, #ff0000 -29.74%, #b258ff 83.36%)"},e.exports=t},10757:function(e,t,r){"use strict";var a=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=a(r(6)),s=a(r(35)),o=a(r(42)),l=a(r(10758)),d=a(r(25)),u=r(606),c=a(r(11)),p=a(r(1)),b=(r(2),r(4));var f=(0,a(r(10)).default)({name:"ServerSubscriptionsManageTiers",loader:()=>r(10764)})(n=(0,d.default)(n=(0,b.observer)(n=class extends p.default.Component{componentDidMount(){super.componentDidMount&&super.componentDidMount(),o.default.Log(s.default.ServerSubscriptionsTeamSettingsTiersTabLoaded)}render(){const{className:e}=this.props,{teamInfo:t}=this.teamContext;return(0,i.default)("div",{className:(0,c.default)("ServerSubscriptionsManageTiers-container",e)},void 0,u.ServerSubscriptionTiersSortedByPriority.map(e=>{const r=t.serverSubscriptionPlansBySubscriptionTier[e.Id];return(0,i.default)(l.default,{className:"ServerSubscriptionsManageTiers-manage-tier-settings-card",serverSubscriptionTierConst:e,serverSubscriptionPlan:r},e.Id)}))}})||n)||n)||n;t.default=f},10758:function(e,t,r){"use strict";var a=r(0);r(36),r(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i,s,o,l=a(r(6)),d=r(14),u=a(r(3)),c=a(r(7944)),p=a(r(35)),b=a(r(42)),f=r(153),g=a(r(8075)),m=a(r(25)),y=a(r(10759)),h=a(r(65)),S=a(r(53)),v=a(r(11)),T=a(r(1)),P=r(2),M=r(4),x=a(r(34)),w=r(30);var C=(n=(0,a(r(10)).default)({name:"ServerSubscriptionsManageTierSettingsCard",loader:()=>r(10762)}),i=(0,x.default)([w.ServerSubscriptionsManageTierOverlay,w.ServerSubscriptionsDeleteTierOverlay]),n(s=(0,m.default)(s=i(s=(0,M.observer)((o=class extends T.default.Component{constructor(...e){var t;super(...e),t=this,this._handleManageTierClick=(0,d.coroutine)((function*(){const{serverSubscriptionTierConst:e,serverSubscriptionPlan:r}=t,a={operation:(null==r?void 0:r.id)?"edit":"add",tier:e.Tier};b.default.Log(p.default.ServerSubscriptionsTeamSettingsManageTierClicked,a);const{confirmed:n}=yield t.ServerSubscriptionsManageTierOverlay.Open({serverSubscriptionTierConst:e,serverSubscriptionPlan:r}),i=n?p.default.ServerSubscriptionsTeamSettingsManageTierConfirmed:p.default.ServerSubscriptionsTeamSettingsManageTierDismissed;b.default.Log(i,a)})),this._handleDeleteTierClick=(0,d.coroutine)((function*(){const{serverSubscriptionTierConst:e,serverSubscriptionPlan:r}=t,a={tier:e.Tier};b.default.Log(p.default.ServerSubscriptionsTeamSettingsDeleteTierClicked,a);const{confirmed:n}=yield t.ServerSubscriptionsDeleteTierOverlay.Open({serverSubscriptionTierConst:e,serverSubscriptionPlan:r}),i=n?p.default.ServerSubscriptionsTeamSettingsDeleteTierConfirmationConfirmed:p.default.ServerSubscriptionsTeamSettingsDeleteTierConfirmationDismissed;b.default.Log(i,a)})),this.titleProps={type:"subtext3"},this.descriptionDescriptionProps={ellipsify:!0}}get serverSubscriptionPlan(){return this.props.serverSubscriptionPlan}get serverSubscriptionTierConst(){return this.props.serverSubscriptionTierConst}get role(){var e;return null===(e=this.teamContext.rolesById)||void 0===e?void 0:e[this.serverSubscriptionPlan.teamRoleId]}get roleDescriptionProps(){var e;const t=null===(e=this.teamContext.rolesById)||void 0===e?void 0:e[this.serverSubscriptionPlan.teamRoleId],r={};return t&&(r.style={color:(0,f.GetRoleColor)(t.color)},r.weight="bold"),r}get serverSubscriptionIconWithTextProps(){const{serverSubscriptionTierConst:e}=this;return{serverSubscriptionTierConst:e,iconProps:{fancy:!0}}}render(){const{serverSubscriptionPlan:e,serverSubscriptionTierConst:t,serverSubscriptionIconWithTextProps:r,_handleManageTierClick:a}=this;let n;const i=!e||e.deletedAt;if(i)n=(0,l.default)(S.default,{style:"hollow",type:"monochrome",onClick:a},void 0,"Add ",t.Tier," tier");else{const{role:t,titleProps:i,roleDescriptionProps:s,descriptionDescriptionProps:o}=this;n=(0,l.default)(T.default.Fragment,{},void 0,T.default.createElement(c.default,r),(0,l.default)(y.default,{title:"Tier price",titleProps:i,description:g.default.PriceInCentsDisplay({priceInCents:e.cost})}),(0,l.default)(y.default,{title:"Tier role",titleProps:i,description:(null==t?void 0:t.name)?"@".concat(t.name):"None",descriptionProps:s}),(0,l.default)(y.default,{title:"Rewards description",titleProps:i,description:e.description||"(None provided)",descriptionProps:o}),(0,l.default)("div",{className:"ServerSubscriptionsManageTierSettingsCard-links"},void 0,(0,l.default)(h.default,{linkify:!0,onClick:a},void 0,"Edit tier"),(0,l.default)(h.default,{className:"ServerSubscriptionsManageTierSettingsCard-links-delete",linkify:!0,onClick:this._handleDeleteTierClick},void 0,"Delete tier")))}const{className:s}=this.props;return(0,l.default)("div",{className:(0,v.default)("ServerSubscriptionsManageTierSettingsCard-container",i&&"ServerSubscriptionsManageTierSettingsCard-container-empty",!i&&"ServerSubscriptionsManageTierSettingsCard-container-".concat(t.Id),s)},void 0,n)}},(0,u.default)(o.prototype,"serverSubscriptionPlan",[P.computed],Object.getOwnPropertyDescriptor(o.prototype,"serverSubscriptionPlan"),o.prototype),(0,u.default)(o.prototype,"serverSubscriptionTierConst",[P.computed],Object.getOwnPropertyDescriptor(o.prototype,"serverSubscriptionTierConst"),o.prototype),(0,u.default)(o.prototype,"role",[P.computed],Object.getOwnPropertyDescriptor(o.prototype,"role"),o.prototype),(0,u.default)(o.prototype,"roleDescriptionProps",[P.computed],Object.getOwnPropertyDescriptor(o.prototype,"roleDescriptionProps"),o.prototype),(0,u.default)(o.prototype,"serverSubscriptionIconWithTextProps",[P.computed],Object.getOwnPropertyDescriptor(o.prototype,"serverSubscriptionIconWithTextProps"),o.prototype),s=o))||s)||s)||s)||s);t.default=C},10759:function(e,t,r){"use strict";var a=r(0);r(36),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=a(r(6)),s=a(r(20)),o=a(r(24)),l=a(r(11)),d=a(r(1)),u=(r(2),r(4));var c=(0,a(r(10)).default)({name:"TitleWithDescription",loader:()=>r(10760)})(n=(0,u.observer)(n=class extends d.default.Component{render(){const{className:e,title:t,titleProps:r,description:a,descriptionProps:n}=this.props;return(0,i.default)("div",{className:(0,l.default)(e)},void 0,d.default.createElement(o.default,(0,s.default)({block:!0},r,{className:(0,l.default)("TitleWithDescription-title",null==r?void 0:r.className)}),t),d.default.createElement(o.default,(0,s.default)({block:!0},n),a))}})||n)||n;t.default=c},10760:function(e,t,r){var a=r(7),n=r(10761);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var i,s=0,o={injectType:"lazyStyleTag",insert:"head",singleton:!1},l={};n.locals&&(l.locals=n.locals),l.use=function(e){return s++||(i=a(n,{...o,...e})),l},l.unuse=function(){s>0&&!--s&&(i(),i=null)},e.exports=l},10761:function(e,t,r){(t=r(8)(!1)).push([e.i,".TitleWithDescription-title{margin-bottom:4px}",""]),e.exports=t},10762:function(e,t,r){var a=r(7),n=r(10763);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var i,s=0,o={injectType:"lazyStyleTag",insert:"head",singleton:!1},l={};n.locals&&(l.locals=n.locals),l.use=function(e){return s++||(i=a(n,{...o,...e})),l},l.unuse=function(){s>0&&!--s&&(i(),i=null)},e.exports=l},10763:function(e,t,r){(t=r(8)(!1)).push([e.i,".ServerSubscriptionsManageTierSettingsCard-container{display:flex;flex-direction:column;background:#32343d;height:280px;padding:12px;justify-content:space-between;border-radius:4px;border:2px solid transparent}.ServerSubscriptionsManageTierSettingsCard-container-empty{align-items:center;justify-content:center}.ServerSubscriptionsManageTierSettingsCard-container-Copper{border-color:#ff9f68}.ServerSubscriptionsManageTierSettingsCard-container-Silver{border-color:#b2b2b2}.ServerSubscriptionsManageTierSettingsCard-container-Gold{border-color:#f5c400}.ServerSubscriptionsManageTierSettingsCard-links{display:flex;justify-content:space-between}.ServerSubscriptionsManageTierSettingsCard-links-delete,.ServerSubscriptionsManageTierSettingsCard-links-delete:hover,.ServerSubscriptionsManageTierSettingsCard-links-delete:visited,.ServerSubscriptionsManageTierSettingsCard-links-delete:active,.ServerSubscriptionsManageTierSettingsCard-links-delete:focus{cursor:pointer;text-decoration:none;cursor:pointer;color:#a3a3ac;transition:150ms ease-out}@media only screen and (min-width: 770px){.ServerSubscriptionsManageTierSettingsCard-links-delete:hover{transition:150ms ease-in;color:#fff}}",""]),t.locals={confirmationGreen:"#53da33",confirmationGreenDesaturated:"#6cba50",gilded4:"#ecb200",gilded5:"#e0a900",gilded6:"#be8c00",errorRedDesaturated:"#df5353",gray:"#a3a3ac",bodyTextWhite:"#ececee",bodyTextWiteMask64:"rgba(236,236,238,.64)",border:"#848a94",errorRed:"#ff6b6b",warnYellow:"#ffb400",nuxBlue:"#008ae1",calendarOrange:"#d89332",calendarBlue:"#355bf8",calendarGreen:"#6cba50",calendarSeagreen:"#30a68f",calendarJewelgreen:"#148f33",calendarPurple:"#a250e8",calendarPurpleMask7:"rgba(162,80,232,.07)",calendarPurpleMask10:"rgba(162,80,232,.1)",mediumPurple3:"#dab9f6",mediumPurple3Mask10:"rgba(218,185,246,.1)",dropmenuGray:"#4f515d",menuGray:"#4f515d",menuGrayMask30:"rgba(79,81,93,.3)",yellowHighlight:"#ffeca0",desaturatedReddit:"#ea794f",desaturatedTwitter:"#64a9d4",desaturatedYoutube:"#cf5c58",whatsapp:"#25d366",github:"#24292e",vimeo:"#1ab7ea",gilded:"#f5c400",orangeRed:"#ff4500",gameNavBlack:"#32343d",gameNavBlackMask36:"rgba(50,52,61,.36)",white:"#fff",gilded2:"#f8d64c",gilded2Mask5:"rgba(248,214,76,.05)",gilded2Mask7:"rgba(248,214,76,.07)",gilded2Mask10:"rgba(248,214,76,.1)",gilded2Mask20:"rgba(248,214,76,.2)",gilded2Mask50:"rgba(248,214,76,.5)",nuxBlueDesaturatedMask7:"rgba(174,189,252,.07)",restGet:"#335a9e",restHead:"#a250e8",restPost:"#6cba50",restPut:"#d89332",restPatch:"#4f515d",restDelete:"#ff6b6b",mysteriousGray:"#212329",backgroundBlack:"#1e2025",yellowThree:"#ffb400",calendarGreenDesaturated:"#476047",calendarRed:"#df5353",calendarRedMask30:"rgba(223,83,83,.2)",calendarRedDesaturated:"#694148",druidOrange:"#e4b370",sidebarBlack:"#292b32",brandyPunch:"#d89332",navBlack:"#191b1f",yellow1:"gold",yellow2:"#e4c519",yellow3:"#ffb400",yellow4:"#ffb400",yellow5:"#d89f0c",yellow6:"#ffd800",yellow6Mask35:"rgba(255,216,0,.35)",gameNavGray:"#30323a",skeletonGray:"#50525f",blackPearl:"#222329",twitch:"#9146ff",bnet:"#078ad2",psn:"#00134c",xbox:"#1c6d00",steam:"#231f20",origin:"#e73b00",youtube:"red",twitter:"#1189f4",facebook:"#335a9e",switch:"#e60012",patreon:"#ff424d",roblox:"#00a2ff",epic:"#2f2d2e",bnetSecondary:"#009ae4",psnSecondary:"#2d64e6",xboxSecondary:"#52b043",steamSecondary:"#096295",twitchSecondary:"#9146ff",epicSecondary:"#0078f2",grayMask20:"rgba(163,163,172,.2)",grayMask40:"rgba(163,163,172,.4)",goldenShadow:"rgba(255,234,0,.5)",colorChannelGray:"#373943",streamGradient:"linear-gradient(63.5deg, #ff0000 -29.74%, #b258ff 83.36%)"},e.exports=t},10764:function(e,t,r){var a=r(7),n=r(10765);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var i,s=0,o={injectType:"lazyStyleTag",insert:"head",singleton:!1},l={};n.locals&&(l.locals=n.locals),l.use=function(e){return s++||(i=a(n,{...o,...e})),l},l.unuse=function(){s>0&&!--s&&(i(),i=null)},e.exports=l},10765:function(e,t,r){(t=r(8)(!1)).push([e.i,".ServerSubscriptionsManageTiers-container{display:flex;margin:-4px;flex-wrap:nowrap}.ServerSubscriptionsManageTiers-manage-tier-settings-card{margin:4px}.ServerSubscriptionsManageTiers-no-tiers-disclaimer{margin:4px}.ServerSubscriptionsManageTiers-no-tiers-disclaimer-title{margin-bottom:4px}.ServerSubscriptionsManageTiers-manage-tier-settings-card{flex:1;min-width:0}",""]),e.exports=t},10766:function(e,t,r){"use strict";var a=r(0);r(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i,s,o,l,d=r(14),u=a(r(6)),c=a(r(12)),p=a(r(3)),b=(a(r(13)),a(r(35))),f=a(r(42)),g=a(r(4463)),m=a(r(5166)),y=r(30),h=a(r(25)),S=a(r(228)),v=a(r(39)),T=a(r(53)),P=a(r(24)),M=a(r(11)),x=a(r(1)),w=r(2),C=r(4);var k=(0,a(r(10)).default)({name:"ServerSubscriptionsSettings",loader:()=>r(10767)})(n=(0,S.default)([y.ServerSubscriptionsDeleteAccountOverlay,y.ServerSubscriptionsDisableOverlay])(n=(0,h.default)(n=(0,v.default)(n=(0,C.observer)((i=class extends x.default.Component{constructor(...e){super(...e),(0,c.default)(this,"_handleDeleteAccount",s,this),(0,c.default)(this,"_handleDisableServerSubscriptions",o,this),(0,c.default)(this,"_handleEnableServerSubscriptions",l,this)}get isDeleteAccountDisabled(){var e;return 0!==((null===(e=this.teamContext.teamInfo.serverSubscriptionPlans)||void 0===e?void 0:e.filter(e=>!e.deletedAt))||[]).length}get subscriptionsEnabled(){var e;return!!(null===(e=this.teamContext.teamInfo.teamPaymentInfo)||void 0===e?void 0:e.subscriptionsEnabled)}componentDidMount(){super.componentDidMount&&super.componentDidMount(),f.default.Log(b.default.ServerSubscriptionsTeamSettingsSettingsTabLoaded)}render(){const{className:e}=this.props;return(0,u.default)("div",{className:(0,M.default)("ServerSubscriptionsSettings-container",e)},void 0,(0,u.default)(P.default,{type:"heading4",block:!0},void 0,"Payout schedule"),(0,u.default)(P.default,{className:"ServerSubscriptionsSettings-payout-schedule-value",block:!0},void 0,"Monthly"),(0,u.default)("div",{className:"ServerSubscriptionsSettings-buttons"},void 0,(0,u.default)(m.default,{className:"ServerSubscriptionsSettings-button",stripeOpenDashboardEventLocation:"team-settings-settings-tab"}),this.subscriptionsEnabled?(0,u.default)(T.default,{className:"ServerSubscriptionsSettings-button",style:"hollow",type:"delete",onClick:this._handleDisableServerSubscriptions},void 0,"Disable subscriptions"):(0,u.default)(x.default.Fragment,{},void 0,(0,u.default)(T.default,{className:"ServerSubscriptionsSettings-button",style:"hollow",type:"gilded",onClick:this._handleEnableServerSubscriptions},void 0,"Enable subscriptions"),(0,u.default)(T.default,{className:"ServerSubscriptionsSettings-button",style:"hollow",type:"delete",disabled:this.isDeleteAccountDisabled,disabledTooltip:"To delete, you must return your Stripe balance to $0 and delete all tiers.",disabledTooltipDirection:"up",onClick:this._handleDeleteAccount},void 0,"Delete subscription account"))))}},s=(0,p.default)(i.prototype,"_handleDeleteAccount",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return(0,d.coroutine)((function*(){f.default.Log(b.default.ServerSubscriptionsTeamSettingsDeleteAccountClicked);const{confirmed:t}=yield e.ServerSubscriptionsDeleteAccountOverlay.Open(),r=t?b.default.ServerSubscriptionsTeamSettingsDeleteAccountConfirmationConfirmed:b.default.ServerSubscriptionsTeamSettingsDeleteAccountConfirmationCanceled;f.default.Log(r)}))}}),o=(0,p.default)(i.prototype,"_handleDisableServerSubscriptions",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return(0,d.coroutine)((function*(){f.default.Log(b.default.ServerSubsTeamSettingsDisableClicked);const{confirmed:t}=yield e.ServerSubscriptionsDisableOverlay.Open(),r=t?b.default.ServerSubsTeamSettingsDisableConfirmationConfirmed:b.default.ServerSubsTeamSettingsDisableConfirmationCanceled;f.default.Log(r)}))}}),l=(0,p.default)(i.prototype,"_handleEnableServerSubscriptions",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return(0,d.coroutine)((function*(){const{teamId:t,teamInfo:r}=e.teamContext;f.default.Log(b.default.ServerSubscriptionsTeamSettingsEnableServerSubscriptionsClicked);try{yield g.default.EnableServerSubscriptions({teamId:t}),r.updateTeamPaymentInfo({subscriptionsEnabled:!0}),e.statusContext.displayStatus({text:"Subscriptions enabled",type:"success"})}catch(t){e.statusContext.displayError({error:t})}}))}}),(0,p.default)(i.prototype,"isDeleteAccountDisabled",[w.computed],Object.getOwnPropertyDescriptor(i.prototype,"isDeleteAccountDisabled"),i.prototype),(0,p.default)(i.prototype,"subscriptionsEnabled",[w.computed],Object.getOwnPropertyDescriptor(i.prototype,"subscriptionsEnabled"),i.prototype),n=i))||n)||n)||n)||n)||n;t.default=k},10767:function(e,t,r){var a=r(7),n=r(10768);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var i,s=0,o={injectType:"lazyStyleTag",insert:"head",singleton:!1},l={};n.locals&&(l.locals=n.locals),l.use=function(e){return s++||(i=a(n,{...o,...e})),l},l.unuse=function(){s>0&&!--s&&(i(),i=null)},e.exports=l},10768:function(e,t,r){(t=r(8)(!1)).push([e.i,".ServerSubscriptionsSettings-container{background:#32343d;padding:24px}.ServerSubscriptionsSettings-buttons{margin-top:24px;display:flex;align-items:center}.ServerSubscriptionsSettings-payout-schedule-value{margin-top:4px}.ServerSubscriptionsSettings-button:not(:first-child){margin-left:12px}",""]),t.locals={confirmationGreen:"#53da33",confirmationGreenDesaturated:"#6cba50",gilded4:"#ecb200",gilded5:"#e0a900",gilded6:"#be8c00",errorRedDesaturated:"#df5353",gray:"#a3a3ac",bodyTextWhite:"#ececee",bodyTextWiteMask64:"rgba(236,236,238,.64)",border:"#848a94",errorRed:"#ff6b6b",warnYellow:"#ffb400",nuxBlue:"#008ae1",calendarOrange:"#d89332",calendarBlue:"#355bf8",calendarGreen:"#6cba50",calendarSeagreen:"#30a68f",calendarJewelgreen:"#148f33",calendarPurple:"#a250e8",calendarPurpleMask7:"rgba(162,80,232,.07)",calendarPurpleMask10:"rgba(162,80,232,.1)",mediumPurple3:"#dab9f6",mediumPurple3Mask10:"rgba(218,185,246,.1)",dropmenuGray:"#4f515d",menuGray:"#4f515d",menuGrayMask30:"rgba(79,81,93,.3)",yellowHighlight:"#ffeca0",desaturatedReddit:"#ea794f",desaturatedTwitter:"#64a9d4",desaturatedYoutube:"#cf5c58",whatsapp:"#25d366",github:"#24292e",vimeo:"#1ab7ea",gilded:"#f5c400",orangeRed:"#ff4500",gameNavBlack:"#32343d",gameNavBlackMask36:"rgba(50,52,61,.36)",white:"#fff",gilded2:"#f8d64c",gilded2Mask5:"rgba(248,214,76,.05)",gilded2Mask7:"rgba(248,214,76,.07)",gilded2Mask10:"rgba(248,214,76,.1)",gilded2Mask20:"rgba(248,214,76,.2)",gilded2Mask50:"rgba(248,214,76,.5)",nuxBlueDesaturatedMask7:"rgba(174,189,252,.07)",restGet:"#335a9e",restHead:"#a250e8",restPost:"#6cba50",restPut:"#d89332",restPatch:"#4f515d",restDelete:"#ff6b6b",mysteriousGray:"#212329",backgroundBlack:"#1e2025",yellowThree:"#ffb400",calendarGreenDesaturated:"#476047",calendarRed:"#df5353",calendarRedMask30:"rgba(223,83,83,.2)",calendarRedDesaturated:"#694148",druidOrange:"#e4b370",sidebarBlack:"#292b32",brandyPunch:"#d89332",navBlack:"#191b1f",yellow1:"gold",yellow2:"#e4c519",yellow3:"#ffb400",yellow4:"#ffb400",yellow5:"#d89f0c",yellow6:"#ffd800",yellow6Mask35:"rgba(255,216,0,.35)",gameNavGray:"#30323a",skeletonGray:"#50525f",blackPearl:"#222329",twitch:"#9146ff",bnet:"#078ad2",psn:"#00134c",xbox:"#1c6d00",steam:"#231f20",origin:"#e73b00",youtube:"red",twitter:"#1189f4",facebook:"#335a9e",switch:"#e60012",patreon:"#ff424d",roblox:"#00a2ff",epic:"#2f2d2e",bnetSecondary:"#009ae4",psnSecondary:"#2d64e6",xboxSecondary:"#52b043",steamSecondary:"#096295",twitchSecondary:"#9146ff",epicSecondary:"#0078f2",grayMask20:"rgba(163,163,172,.2)",grayMask40:"rgba(163,163,172,.4)",goldenShadow:"rgba(255,234,0,.5)",colorChannelGray:"#373943"},e.exports=t},10769:function(e,t,r){var a=r(7),n=r(10770);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var i,s=0,o={injectType:"lazyStyleTag",insert:"head",singleton:!1},l={};n.locals&&(l.locals=n.locals),l.use=function(e){return s++||(i=a(n,{...o,...e})),l},l.unuse=function(){s>0&&!--s&&(i(),i=null)},e.exports=l},10770:function(e,t,r){(t=r(8)(!1)).push([e.i,".TeamSettingsServerSubscriptionsManage-container{width:100%;max-width:960px;padding:24px 0 0 32px}.TeamSettingsServerSubscriptionsManage-notification-banners{margin-bottom:12px}",""]),e.exports=t},10771:function(e,t,r){var a=r(7),n=r(10772);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var i,s=0,o={injectType:"lazyStyleTag",insert:"head",singleton:!1},l={};n.locals&&(l.locals=n.locals),l.use=function(e){return s++||(i=a(n,{...o,...e})),l},l.unuse=function(){s>0&&!--s&&(i(),i=null)},e.exports=l},10772:function(e,t,r){(t=r(8)(!1)).push([e.i,".TeamSettingsServerSubscriptionsPage-container{width:100%}.TeamSettingsServerSubscriptionsPage-header{margin-left:30px;margin-top:36px;margin-bottom:16px}",""]),e.exports=t},4860:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={BillingTabs:{Subscriptions:"Subscriptions",Payments:"Payments"},ManageServerSubscriptions:{Tiers:"Tiers",Subscribers:"Subscribers",Reports:"Reports",Settings:"Settings"}}},5164:function(e,t,r){"use strict";var a=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=a(r(20)),s=a(r(5523)),o=a(r(1535)),l=a(r(53)),d=a(r(11)),u=a(r(1)),c=(r(2),r(4));var p=(0,a(r(10)).default)({name:"ServerSubscriptionsOpenSettingsButton",loader:()=>r(5524)})(n=(0,s.default)(n=(0,c.observer)(n=class extends u.default.Component{render(){const{className:e}=this.props,{buttonProps:t,iconWithTextProps:r}=this;return u.default.createElement(l.default,(0,i.default)({className:(0,d.default)("ServerSubscriptionsOpenSettingsButton-button",e)},t),r&&u.default.createElement(o.default,r))}})||n)||n)||n;t.default=p},5165:function(e,t,r){"use strict";var a=r(130);Object.defineProperty(t,"__esModule",{value:!0}),t.SupportedCountries=t.PaymentIntentStatuses=t.CardBrandConfigs=t.RequirementsDisabledReasons=t.CapabilityStatuses=t.FeeTypes=t.BalanceTransactionStatusesValues=t.BalanceTransactionStatuses=t.ChargeDescriptions=t.CancelationReasonsValues=t.CancelationReasons=t.PaymentTypesValues=t.PaymentTypes=t.MonthlyPayoutAnchor=t.DefaultPayoutInterval=t.TeamProductTypesValues=t.AccountLinkTypes=t.TeamProductTypes=t.MaximumSubscriptionPlans=t.ValidPaymentStatuses=t.DefaultSubscriptionInterval=t.DefaultCurrency=t.BusinessTypes=t.ScheduleEndBehaviors=t.ProrationBehaviors=t.PaymentBehaviors=t.AccountTypes=t.ChargeStatusValues=t.ChargeStatuses=t.SubscriptionStatusValues=t.SubscriptionStatuses=void 0;var n=a(r(1508));const i={Active:"active",PastDue:"past_due",Unpaid:"unpaid",Canceled:"canceled",Incomplete:"incomplete",IncompleteExpired:"incomplete_expired",Trialing:"trialing"};t.SubscriptionStatuses=i;const s=Object.values(i);t.SubscriptionStatusValues=s;const o={Pending:"pending",Succeeded:"succeeded",Failed:"failed"};t.ChargeStatuses=o;const l=Object.values(o);t.ChargeStatusValues=l;t.AccountTypes={Standard:"standard",Express:"express",Custom:"custom"};t.PaymentBehaviors={AllowIncomplete:"allow_incomplete",ErrorIfIncomplete:"error_if_incomplete",PendingIfIncomplete:"pending_if_incomplete"};t.ProrationBehaviors={AlwaysInvoice:"always_invoice",CreateProrations:"create_prorations",None:"none"};t.ScheduleEndBehaviors={Release:"release",Cancel:"cancel"};t.BusinessTypes={Individual:"individual",Company:"company",NonProfit:"non_profit",GovernmentEntity:"government_entity"};t.DefaultCurrency="usd";t.DefaultSubscriptionInterval="month";t.ValidPaymentStatuses=["chargeable"];t.MaximumSubscriptionPlans=3;const d={Subscription:"subscription"};t.TeamProductTypes=d;t.AccountLinkTypes={AccountOnboarding:"account_onboarding",AccountUpdate:"account_update"};const u=Object.values(d);t.TeamProductTypesValues=u;t.DefaultPayoutInterval="monthly";t.MonthlyPayoutAnchor=1;const c={GuildedGoldV1:"GuildedGoldV1",ServerSubscriptions:"ServerSubscriptions",Referral:"Referral"};t.PaymentTypes=c;const p=Object.values(c);t.PaymentTypesValues=p;const b={UserCanceled:"user_canceled",PriceChanged:"price_changed",MemberRemoved:"member_removed",UserBanned:"user_banned",UserDeleted:"user_deleted",PlanDeleted:"plan_deleted",PaymentFailed:"payment_failed",SubscriptionsDisabled:"subscriptions_disabled"};t.CancelationReasons=b;const f=Object.values(b);t.CancelationReasonsValues=f;t.ChargeDescriptions={SubscriptionUpdate:"Subscription update"};const g={Available:"available",Pending:"pending"};t.BalanceTransactionStatuses=g;const m=Object.values(g);t.BalanceTransactionStatusesValues=m;t.FeeTypes={StripeFee:"stripe_fee",ApplicationFee:"application_fee"};t.CapabilityStatuses={Active:"active",Pending:"pending",Inactive:"inactive",Unrequested:"unrequested"};t.RequirementsDisabledReasons={RequirementsPastDue:"requirements.past_due",RequirementsPendingVerification:"requirements.pending_verification",RejectedFraud:"rejected.fraud",RejectedTermsOfService:"rejected.terms_of_service",RejectedListed:"rejected.listed",RejectedOther:"rejected.other",Listed:"listed",UnderReview:"under_review",Other:"other"};t.CardBrandConfigs={amex:{name:"American Express"},diners:{name:"Diners Club"},discover:{name:"Discover"},jcb:{name:"JCB"},mastercard:{name:"MasterCard"},unionpay:{name:"UnionPay"},visa:{name:"Visa"}};t.PaymentIntentStatuses={RequiresPaymentMethod:"requires_payment_method",RequiresConfirmation:"requires_confirmation",RequiresAction:"requires_action",Processing:"processing",RequiresCapture:"requires_capture",Canceled:"canceled",Succeeded:"succeeded"};const y=[n.ISOAlpha2.AU,n.ISOAlpha2.AT,n.ISOAlpha2.BE,n.ISOAlpha2.CA,n.ISOAlpha2.CY,n.ISOAlpha2.CZ,n.ISOAlpha2.DK,n.ISOAlpha2.EE,n.ISOAlpha2.FI,n.ISOAlpha2.FR,n.ISOAlpha2.DE,n.ISOAlpha2.GR,n.ISOAlpha2.HU,n.ISOAlpha2.IE,n.ISOAlpha2.IT,n.ISOAlpha2.LV,n.ISOAlpha2.LT,n.ISOAlpha2.LU,n.ISOAlpha2.MT,n.ISOAlpha2.NL,n.ISOAlpha2.NZ,n.ISOAlpha2.NO,n.ISOAlpha2.PL,n.ISOAlpha2.PT,n.ISOAlpha2.RO,n.ISOAlpha2.SK,n.ISOAlpha2.SI,n.ISOAlpha2.ES,n.ISOAlpha2.SE,n.ISOAlpha2.CH,n.ISOAlpha2.GB,n.ISOAlpha2.US];t.SupportedCountries=y},5166:function(e,t,r){"use strict";var a=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=a(r(20)),s=a(r(5533)),o=a(r(53)),l=a(r(1)),d=(r(2),r(4));var u=(0,a(r(10)).default)({name:"ServerSubscriptionsOpenStripeDashboardButton",loader:()=>r(5534)})(n=(0,s.default)(n=(0,d.observer)(n=class extends l.default.Component{render(){const{className:e}=this.props;return l.default.createElement(o.default,(0,i.default)({},this.openStripeDashboardButtonProps,{className:e,style:"hollow",onClick:this._handleClick}),this.buttonText)}})||n)||n)||n;t.default=u},5424:function(e,t,r){"use strict";var a=r(0);r(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i,s=a(r(6)),o=a(r(3)),l=a(r(41)),d=a(r(64)),u=a(r(11)),c=a(r(1)),p=a(r(24)),b=r(2),f=r(4);var g=(0,a(r(10)).default)({name:"RechartTooltipItem",loader:()=>r(5425)})(n=(0,f.observer)((i=class extends c.default.Component{constructor(...e){super(...e),this.LineStyle={background:this.props.color},this._belowLimitParser=e=>Math.round(e)}get valueDisplay(){const{value:e}=this.props;return d.default.SummarizeNumber(e,1e4,this._belowLimitParser)}render(){const{valueDisplay:e,LineStyle:t}=this,{type:r,title:a,subtitle:n,titleStyle:i,image:o,isActive:d,value:c,isLineDashed:b,className:f}=this.props;return(0,s.default)("div",{className:(0,u.default)("RechartTooltipItem-container",r&&"RechartTooltipItem-container-type-".concat(r),b&&"RechartTooltipItem-container-line-dashed",d&&"RechartTooltipItem-container-active",f)},void 0,(0,s.default)("div",{className:"RechartTooltipItem-line",style:t}),b&&(0,s.default)("div",{className:"RechartTooltipItem-line",style:t}),o&&(0,s.default)(l.default,{className:"RechartTooltipItem-image",src:o}),(0,s.default)("div",{className:"RechartTooltipItem-info"},void 0,(0,s.default)(p.default,{element:"div",className:"RechartTooltipItem-title",style:i},void 0,a),n&&(0,s.default)("div",{className:"RechartTooltipItem-subtitle"},void 0,n)),c&&(0,s.default)("div",{className:"RechartTooltipItem-value"},void 0,e))}},(0,o.default)(i.prototype,"valueDisplay",[b.computed],Object.getOwnPropertyDescriptor(i.prototype,"valueDisplay"),i.prototype),n=i))||n)||n;t.default=g},5425:function(e,t,r){var a=r(7),n=r(5426);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var i,s=0,o={injectType:"lazyStyleTag",insert:"head",singleton:!1},l={};n.locals&&(l.locals=n.locals),l.use=function(e){return s++||(i=a(n,{...o,...e})),l},l.unuse=function(){s>0&&!--s&&(i(),i=null)},e.exports=l},5426:function(e,t,r){(t=r(8)(!1)).push([e.i,".RechartTooltipItem-container{display:flex;align-items:center;max-width:100%;overflow:hidden}.RechartTooltipItem-container-active{background:#32343d}.RechartTooltipItem-container-type-user .RechartTooltipItem-image{border-radius:12px}.RechartTooltipItem-container-type-team .RechartTooltipItem-image{border-radius:3px}.RechartTooltipItem-container-line-dashed .RechartTooltipItem-line{width:5px}.RechartTooltipItem-info{overflow:hidden;flex:1;min-width:0}.RechartTooltipItem-title{color:#ececee;font-size:14px;line-height:145%;font-weight:700;max-width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.RechartTooltipItem-subtitle{margin-top:2px;max-width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:#a3a3ac;font-size:14px;line-height:145%;font-weight:normal;line-height:19px}.RechartTooltipItem-line{width:12px;height:4px;border-radius:3px;margin-right:2px}.RechartTooltipItem-image{margin-left:6px;margin-right:8px;width:24px;height:24px;object-fit:contain}.RechartTooltipItem-value{flex-shrink:0;margin-left:8px;color:#fff;font-size:14px;line-height:145%;font-weight:normal;line-height:19px;font-weight:700}",""]),t.locals={confirmationGreen:"#53da33",confirmationGreenDesaturated:"#6cba50",gilded4:"#ecb200",gilded5:"#e0a900",gilded6:"#be8c00",errorRedDesaturated:"#df5353",gray:"#a3a3ac",bodyTextWhite:"#ececee",bodyTextWiteMask64:"rgba(236,236,238,.64)",border:"#848a94",errorRed:"#ff6b6b",warnYellow:"#ffb400",nuxBlue:"#008ae1",calendarOrange:"#d89332",calendarBlue:"#355bf8",calendarGreen:"#6cba50",calendarSeagreen:"#30a68f",calendarJewelgreen:"#148f33",calendarPurple:"#a250e8",calendarPurpleMask7:"rgba(162,80,232,.07)",calendarPurpleMask10:"rgba(162,80,232,.1)",mediumPurple3:"#dab9f6",mediumPurple3Mask10:"rgba(218,185,246,.1)",dropmenuGray:"#4f515d",menuGray:"#4f515d",menuGrayMask30:"rgba(79,81,93,.3)",yellowHighlight:"#ffeca0",desaturatedReddit:"#ea794f",desaturatedTwitter:"#64a9d4",desaturatedYoutube:"#cf5c58",whatsapp:"#25d366",github:"#24292e",vimeo:"#1ab7ea",gilded:"#f5c400",orangeRed:"#ff4500",gameNavBlack:"#32343d",gameNavBlackMask36:"rgba(50,52,61,.36)",white:"#fff",gilded2:"#f8d64c",gilded2Mask5:"rgba(248,214,76,.05)",gilded2Mask7:"rgba(248,214,76,.07)",gilded2Mask10:"rgba(248,214,76,.1)",gilded2Mask20:"rgba(248,214,76,.2)",gilded2Mask50:"rgba(248,214,76,.5)",nuxBlueDesaturatedMask7:"rgba(174,189,252,.07)",restGet:"#335a9e",restHead:"#a250e8",restPost:"#6cba50",restPut:"#d89332",restPatch:"#4f515d",restDelete:"#ff6b6b",mysteriousGray:"#212329",backgroundBlack:"#1e2025",yellowThree:"#ffb400",calendarGreenDesaturated:"#476047",calendarRed:"#df5353",calendarRedMask30:"rgba(223,83,83,.2)",calendarRedDesaturated:"#694148",druidOrange:"#e4b370",sidebarBlack:"#292b32",brandyPunch:"#d89332",navBlack:"#191b1f",yellow1:"gold",yellow2:"#e4c519",yellow3:"#ffb400",yellow4:"#ffb400",yellow5:"#d89f0c",yellow6:"#ffd800",yellow6Mask35:"rgba(255,216,0,.35)",gameNavGray:"#30323a",skeletonGray:"#50525f",blackPearl:"#222329",twitch:"#9146ff",bnet:"#078ad2",psn:"#00134c",xbox:"#1c6d00",steam:"#231f20",origin:"#e73b00",youtube:"red",twitter:"#1189f4",facebook:"#335a9e",switch:"#e60012",patreon:"#ff424d",roblox:"#00a2ff",epic:"#2f2d2e",bnetSecondary:"#009ae4",psnSecondary:"#2d64e6",xboxSecondary:"#52b043",steamSecondary:"#096295",twitchSecondary:"#9146ff",epicSecondary:"#0078f2",grayMask20:"rgba(163,163,172,.2)",grayMask40:"rgba(163,163,172,.4)",goldenShadow:"rgba(255,234,0,.5)",colorChannelGray:"#373943",streamGradient:"linear-gradient(63.5deg, #ff0000 -29.74%, #b258ff 83.36%)"},e.exports=t},5522:function(e,t,r){"use strict";var a=r(19),n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(15)),s=n(r(5164)),o=n(r(4860)),l=n(r(55)),d=a(r(5165)),u=n(r(5526)),c=n(r(5530)),p=n(r(5166)),b=n(r(5536));n(r(14));function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const m={[d.RequirementsDisabledReasons.RequirementsPendingVerification]:{theme:"info",iconName:"icon-clock-new",title:"Stripe details pending verification",text:"Stripe is currently verifying your account details. Subscriptions and payouts may not be available until successfully verified. We'll let you know if Stripe requires more information from you",buttonComponent:p.default,buttonProps:{stripeOpenDashboardEventLocation:"notification-banner-stripe-details-pending"}},[d.RequirementsDisabledReasons.RequirementsPastDue]:{theme:"error",iconName:"icon-info-hollow",title:"More Stripe details required",text:"Stripe requires more information for subscriptions to be used successfully.",buttonComponent:p.default,buttonProps:{stripeOpenDashboardEventLocation:"notification-banner-more-stripe-details-required"}},Default:{theme:"error",iconName:"icon-info-hollow",title:"Stripe account disabled",text:"Stripe has disabled your account. Please log into Stripe for more details on how to enable it.",buttonComponent:p.default,buttonProps:{stripeOpenDashboardEventLocation:"notification-banner-stripe-account-disabled"}}};class y{static GetBadgeCount({membershipRole:e,teamPaymentInfo:t,serverSubscription:r,serverSubscriptionPlans:a}){return y.GetBannerSpecs({teamPaymentInfo:t,membershipRole:e,serverSubscription:r,serverSubscriptionPlans:a}).filter(({theme:e})=>"error"===e).length}static GetBannerSpecs({membershipRole:e,teamPaymentInfo:t,serverSubscription:r,serverSubscriptionPlans:a,isSettings:n}){var i;return(null==e?void 0:null===(i=e.CanManageServerSubscriptions)||void 0===i?void 0:i.call(e))?y._GetAdminBannerSpecs({teamPaymentInfo:t,serverSubscriptionPlans:a,isSettings:n}):y._GetMemberBannerSpecs({serverSubscription:r})}static _GetAdminBannerSpecs({teamPaymentInfo:e,serverSubscriptionPlans:t,isSettings:r}){return e?e.stripeDetailsSubmittedAt?e.stripeRequirementsDisabledReason?[m[e.stripeRequirementsDisabledReason]||m.Default]:[!e.chargesEnabled&&{theme:"error",iconName:"icon-info-hollow",title:"Charges not enabled",text:"Subscriptions can't yet be created on your server because Stripe hasn't verified your details yet. This usually doesn't take more than a few minutes, but check your Stripe dashboard if it's been longer.",buttonComponent:p.default,buttonProps:{stripeOpenDashboardEventLocation:"notification-banner-charges-not-enabled"}},!e.payoutsEnabled&&{theme:"error",iconName:"icon-info-hollow",title:"Payouts not enabled",text:"Payouts are not currently enabled for your account. You can still collect subscription fees but we will be unable to transfer earnings to you until this is resolved. Check your Stripe dashboard for details on fixing this issue.",buttonComponent:p.default,buttonProps:{stripeOpenDashboardEventLocation:"notification-banner-payouts-not-enabled"}},!e.stripeCapabilityTransfersActiveAt&&{theme:"error",iconName:"icon-info-hollow",title:"Stripe bank transfers not enabled",text:"Your Stripe account cannot currently accept bank transfers. Please contact support.",buttonComponent:p.default,buttonProps:{stripeOpenDashboardEventLocation:"notification-banner-stripe-bank-transfers-not-enabled"}},!e.stripeCapabilityCardPaymentsActiveAt&&{theme:"error",iconName:"icon-info-hollow",title:"Stripe card payment not enabled",text:"Your Stripe account cannot currently accept card payments. Please contact support.",buttonComponent:p.default,buttonProps:{stripeOpenDashboardEventLocation:"notification-banner-stripe-card-payment-not-enabled"}},!(null==t?void 0:t.length)&&{theme:"warning",iconName:"icon-info-hollow",title:"No subscription tiers configured",text:"You currently have no subscription tiers configured. Your members will not be able to access the subscriptions section until you configure at least one tier.",buttonComponent:r?null:s.default,buttonProps:r?null:{defaultSelectedTabName:o.default.ManageServerSubscriptions.Tiers,type:"monochrome",style:"hollow",buttonText:"Add a tier"}},!e.subscriptionsEnabled&&{theme:"warning",iconName:"icon-info-hollow",title:"Subscriptions disabled",text:"Subscriptions are currently disabled and will not be accessible by your members. Enable server subscriptions to allow members to signup."}].filter(Boolean):[{theme:"error",iconName:"icon-info-hollow",title:"Stripe account required",text:"A connected Stripe account is required for subscriptions. Your members will not be able to access the subscriptions section until this is resolved.",buttonComponent:b.default,buttonProps:{stripeOnboardingOpenedEventLocation:"notification-banner-stripe-account-required"}}]:[]}static _GetMemberBannerSpecs({serverSubscription:e}){return e?[e.cancelAtPeriodEnd&&g({iconName:"icon-info-hollow",title:"Subscription will expire"},y._GetSubscriptionWillExpireSpec({serverSubscription:e})),e.lastChargeStatus===d.ChargeStatuses.Failed&&{theme:"error",iconName:"icon-info-hollow",title:"Issue with payment",buttonComponent:c.default,childComponent:u.default,childComponentProps:{subscription:e}}].filter(Boolean):[]}static _GetSubscriptionWillExpireSpec({serverSubscription:e}){const t=(0,l.default)(e.currentPeriodEnd).format("MMM D YYYY");switch(e.cancelationReason){case d.CancelationReasons.PaymentFailed:return{theme:"error",text:"Your subscription is set to cancel on ".concat(t," because your payment could not be processed. Update your payment method in order to maintain your subscription benefits.")};case d.CancelationReasons.PriceChanged:return{theme:"error",text:"Your subscription is set to cancel on ".concat(t," because the price of this subscription tier has increased. You can modify your chosen subscription tier to renew or maintain this subscription.")};case d.CancelationReasons.PlanDeleted:return{theme:"error",text:"Your subscription is set to cancel on ".concat(t," because the owner has removed or modified this subscription tier. You can modify your chosen subscription tier to continue supporting this server.")};case d.CancelationReasons.UserCanceled:return{theme:"warning",text:"Your subscription is set to cancel on ".concat(t,". If you would like to continue this subscription, you can renew it by re-selecting any available tier.")};default:return{theme:"error",text:"Your subscription is set to expire on ".concat(t,". Please review and update your payment method. If you believe this is an error, please contact support.")}}}}t.default=y},5523:function(e,t,r){"use strict";var a=r(0);r(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,r,a;return a=r=class extends e{constructor(...e){super(...e),this._handleClick=e=>{o.default.emit(s.default.OpenTeamSettingsOverlay,{defaultOption:i.default.ServerSubscriptions,actionOptions:e?{defaultSelectedTabName:e}:null})}}get buttonProps(){const{defaultSelectedTabName:e,type:t,style:r,buttonText:a}=this.props;return{onClick:()=>this._handleClick(e),type:t,style:r,buttonText:a}}get iconWithTextProps(){return this.props.iconWithTextProps}},r.displayName=e.displayName||e.name,t=a,(0,n.default)(t.prototype,"buttonProps",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"buttonProps"),t.prototype),(0,n.default)(t.prototype,"iconWithTextProps",[l.computed],Object.getOwnPropertyDescriptor(t.prototype,"iconWithTextProps"),t.prototype),t};var n=a(r(3)),i=a(r(564)),s=a(r(71)),o=a(r(38)),l=r(2)},5524:function(e,t,r){var a=r(7),n=r(5525);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var i,s=0,o={injectType:"lazyStyleTag",insert:"head",singleton:!1},l={};n.locals&&(l.locals=n.locals),l.use=function(e){return s++||(i=a(n,{...o,...e})),l},l.unuse=function(){s>0&&!--s&&(i(),i=null)},e.exports=l},5525:function(e,t,r){(t=r(8)(!1)).push([e.i,"",""]),e.exports=t},5526:function(e,t,r){"use strict";var a=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=a(r(6)),s=a(r(5527)),o=a(r(109)),l=a(r(24)),d=a(r(11)),u=a(r(1)),c=(r(2),r(4));var p=(0,a(r(10)).default)({name:"ServerSubscriptionFailedCharge",loader:()=>r(5528)})(n=(0,s.default)(n=(0,c.observer)(n=class extends u.default.Component{render(){const{className:e}=this.props;return(0,i.default)("div",{className:(0,d.default)("ServerSubscriptionFailedCharge-container",e)},void 0,this.hasFetched?this.charge?(0,i.default)(l.default,{},void 0,"We were unable to process your payment on your ",this.cardDetail,". ",this.failureMessage):(0,i.default)(l.default,{},void 0,"We were unable to process your payment."):(0,i.default)(o.default,{className:"ServerSubscriptionFailedCharge-loader"}))}})||n)||n)||n;t.default=p},5527:function(e,t,r){"use strict";var a=r(0);r(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,r,a,u,c,p;return t=d.observable.struct,(0,l.default)(r=(0,s.default)((p=c=class extends e{constructor(...e){super(...e),(0,n.default)(this,"charge",u,this)}get subscription(){return this.props.subscription}fetchData(){const{lastChargeId:e}=this.subscription,{teamId:t}=this.teamContext;return o.default.GetSubscriptionCharge({stripeChargeId:e,teamId:t})}handleDataFetch(e){this.charge=e}get failureMessage(){var e;return null===(e=this.charge)||void 0===e?void 0:e.failure_message}get cardDetail(){const{source:{card:{brand:e,last4:t}}}=this.charge;return"".concat(e," ending in *").concat(t)}},c.displayName=e.displayName||e.name,a=p,u=(0,i.default)(a.prototype,"charge",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),(0,i.default)(a.prototype,"subscription",[d.computed],Object.getOwnPropertyDescriptor(a.prototype,"subscription"),a.prototype),(0,i.default)(a.prototype,"handleDataFetch",[d.action],Object.getOwnPropertyDescriptor(a.prototype,"handleDataFetch"),a.prototype),(0,i.default)(a.prototype,"failureMessage",[d.computed],Object.getOwnPropertyDescriptor(a.prototype,"failureMessage"),a.prototype),(0,i.default)(a.prototype,"cardDetail",[d.computed],Object.getOwnPropertyDescriptor(a.prototype,"cardDetail"),a.prototype),r=a))||r)||r};var n=a(r(12)),i=a(r(3)),s=(a(r(13)),a(r(39))),o=a(r(4463)),l=a(r(25)),d=r(2)},5528:function(e,t,r){var a=r(7),n=r(5529);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var i,s=0,o={injectType:"lazyStyleTag",insert:"head",singleton:!1},l={};n.locals&&(l.locals=n.locals),l.use=function(e){return s++||(i=a(n,{...o,...e})),l},l.unuse=function(){s>0&&!--s&&(i(),i=null)},e.exports=l},5529:function(e,t,r){(t=r(8)(!1)).push([e.i,".ServerSubscriptionFailedCharge-loader{padding-top:24px;margin-left:24px}",""]),e.exports=t},5530:function(e,t,r){"use strict";var a=r(0);r(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i,s,o=r(14),l=a(r(6)),d=a(r(12)),u=a(r(3)),c=(a(r(13)),a(r(4860))),p=a(r(564)),b=a(r(38)),f=a(r(71)),g=a(r(53)),m=a(r(25)),y=a(r(1)),h=r(2),S=r(4);var v=(0,a(r(10)).default)({name:"ServerSubscriptionsOpenPaymentMethodButton",loader:()=>r(5531)})(n=(0,m.default)(n=(0,S.observer)((i=class extends y.default.Component{constructor(...e){super(...e),(0,d.default)(this,"_handleOpenPaymentMethod",s,this)}render(){const{className:e}=this.props;return(0,l.default)(g.default,{className:e,style:"hollow",type:"monochrome",onClick:this._handleOpenPaymentMethod},void 0,"Review payment method")}},s=(0,u.default)(i.prototype,"_handleOpenPaymentMethod",[h.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(0,o.coroutine)((function*(){b.default.emit(f.default.UserSettingsOverlayOpened,{defaultSetting:p.default.Billing,defaultSettingSubTabName:c.default.BillingTabs.Payments})}))}}),n=i))||n)||n)||n;t.default=v},5531:function(e,t,r){var a=r(7),n=r(5532);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var i,s=0,o={injectType:"lazyStyleTag",insert:"head",singleton:!1},l={};n.locals&&(l.locals=n.locals),l.use=function(e){return s++||(i=a(n,{...o,...e})),l},l.unuse=function(){s>0&&!--s&&(i(),i=null)},e.exports=l},5532:function(e,t,r){(t=r(8)(!1)).push([e.i,"",""]),e.exports=t},5533:function(e,t,r){"use strict";var a=r(0);r(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,r,a,b,f,g,m;return t=p.computed.struct,(0,l.default)((m=g=class extends e{constructor(...e){super(...e),(0,i.default)(this,"isLoading",b,this),(0,i.default)(this,"_handleClick",f,this),this.buttonText="Open Stripe dashboard"}get openStripeDashboardButtonProps(){var e;const{teamInfo:t}=this.teamContext,r={type:"bleached",loading:this.isLoading};return(null==t?void 0:null===(e=t.teamPaymentInfo)||void 0===e?void 0:e.stripeDetailsSubmittedAt)||(r.disabled=!0,r.disabledTooltip="You must go through Stripe onboarding before you can view the Stripe dashboard",r.disabledTooltipDirection="up"),r}},g.displayName=e.displayName||e.name,a=m,b=(0,s.default)(a.prototype,"isLoading",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),f=(0,s.default)(a.prototype,"_handleClick",[p.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return(0,n.coroutine)((function*(){const{teamId:t}=e.teamContext;c.default.Log(u.default.ServerSubscriptionsStripeDashboardOpened,{location:e.props.stripeOpenDashboardEventLocation}),e.isLoading=!0;try{const{url:r}=yield d.default.CreateLoginLink({teamId:t});yield o.default.OpenStripeDashboard({stripeUrl:r})}finally{(0,p.runInAction)(()=>{e.isLoading=!1})}}))}}),(0,s.default)(a.prototype,"openStripeDashboardButtonProps",[t],Object.getOwnPropertyDescriptor(a.prototype,"openStripeDashboardButtonProps"),a.prototype),r=a))||r};var n=r(14),i=a(r(12)),s=a(r(3)),o=(a(r(13)),a(r(4876))),l=a(r(25)),d=a(r(4463)),u=a(r(35)),c=a(r(42)),p=r(2)},5534:function(e,t,r){var a=r(7),n=r(5535);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var i,s=0,o={injectType:"lazyStyleTag",insert:"head",singleton:!1},l={};n.locals&&(l.locals=n.locals),l.use=function(e){return s++||(i=a(n,{...o,...e})),l},l.unuse=function(){s>0&&!--s&&(i(),i=null)},e.exports=l},5535:function(e,t,r){(t=r(8)(!1)).push([e.i,"",""]),e.exports=t},5536:function(e,t,r){"use strict";var a=r(0);r(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=a(r(6)),s=a(r(5537)),o=a(r(53)),l=a(r(1)),d=(r(2),r(4));var u=(0,a(r(10)).default)({name:"ServerSubscriptionsOpenStripeOnboardingButton",loader:()=>r(5538)})(n=(0,s.default)(n=(0,d.observer)(n=class extends l.default.Component{constructor(...e){super(...e),this.StripeOnboardingOpenedEventLocation=this.props.stripeOnboardingOpenedEventLocation}render(){const{className:e}=this.props;return(0,i.default)(o.default,{loading:this.isOnboardStripeAccountLoading,className:e,style:"hollow",type:"monochrome",onClick:this._handleOnboardStripeAccount},void 0,"Open Stripe onboarding")}})||n)||n)||n;t.default=u},5537:function(e,t,r){"use strict";var a=r(0);r(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,r,a,b,f,g,m;return(0,d.default)((m=g=class extends e{constructor(...e){super(...e),(0,i.default)(this,"isOnboardStripeAccountLoading",a,this),(0,i.default)(this,"wasOnboardingButtonClicked",b,this),(0,i.default)(this,"_handleOnboardStripeAccount",f,this)}},g.displayName=e.displayName||e.name,r=m,a=(0,s.default)(r.prototype,"isOnboardStripeAccountLoading",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b=(0,s.default)(r.prototype,"wasOnboardingButtonClicked",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),f=(0,s.default)(r.prototype,"_handleOnboardStripeAccount",[p.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return(0,n.coroutine)((function*(){const{teamId:t}=e.teamContext;l.default.Log(o.default.ServerSubscriptionsStripeOnboardingOpened,{location:e.StripeOnboardingOpenedEventLocation}),e.isOnboardStripeAccountLoading=!0,e.wasOnboardingButtonClicked=!0;try{const r=yield c.default.CreateAccountLink({teamId:t});yield u.default.OnboardExpressAccount({stripeUrl:r.url})}finally{(0,p.runInAction)(()=>{e.isOnboardStripeAccountLoading=!1})}}))}}),t=r))||t};var n=r(14),i=a(r(12)),s=a(r(3)),o=(a(r(13)),a(r(35))),l=a(r(42)),d=a(r(25)),u=a(r(4876)),c=a(r(4463)),p=r(2)},5538:function(e,t,r){var a=r(7),n=r(5539);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var i,s=0,o={injectType:"lazyStyleTag",insert:"head",singleton:!1},l={};n.locals&&(l.locals=n.locals),l.use=function(e){return s++||(i=a(n,{...o,...e})),l},l.unuse=function(){s>0&&!--s&&(i(),i=null)},e.exports=l},5539:function(e,t,r){(t=r(8)(!1)).push([e.i,"",""]),e.exports=t},8239:function(e,t,r){"use strict";var a=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,r,a;return a=r=class extends e{get tabSpecs(){return this.TabSpecs||{TabOptions:Object.values(this.TabOptions).map(e=>({name:e}))}}get defaultSelectedTabIndex(){const{defaultSelectedTabName:e}=this.props;if(!e)return;const t=this.tabSpecs.TabOptions.findIndex(({name:t})=>t===e);return t>=0?t:null}},r.displayName=e.displayName||e.name,t=a,(0,n.default)(t.prototype,"tabSpecs",[i.computed],Object.getOwnPropertyDescriptor(t.prototype,"tabSpecs"),t.prototype),(0,n.default)(t.prototype,"defaultSelectedTabIndex",[i.computed],Object.getOwnPropertyDescriptor(t.prototype,"defaultSelectedTabIndex"),t.prototype),t};var n=a(r(3)),i=r(2)}}]);
//# sourceMappingURL=https://sourcemaps.local.guilded.gg/db0e2dcb/TeamSettingsServerSubscriptionsPage.js.map