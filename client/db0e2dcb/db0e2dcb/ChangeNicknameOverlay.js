(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{4708:function(e,a,t){"use strict";var n=t(0);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r,i=n(t(6)),o=n(t(9949)),l=n(t(551)),d=n(t(1)),s=n(t(114)),c=t(4);var u=(0,n(t(10)).default)({name:"ChangeNicknameOverlay",loader:()=>t(9950)})(r=(0,o.default)(r=(0,c.observer)(r=class extends d.default.Component{render(){const{user:e}=this.props,{teamId:a}=this.teamContext;return(0,i.default)("div",{className:"ChangeNicknameOverlay-container"},void 0,(0,i.default)("div",{className:"ChangeNicknameOverlay-info"},void 0,"Nicknames are visible to everyone in the ",a?"server":"DM"),(0,i.default)(s.default,{className:"ChangeNicknameOverlayForm-container",autoFocus:!0,formSpecs:this.formSpecs,onChange:this._handleChange},this.nickname),(0,i.default)("div",{className:"ChangeNicknameOverlay-reset-container"},void 0,this.nickname!==e.name&&(0,i.default)(l.default,{onClick:this._resetNickname},void 0,"Reset nickname")))}})||r)||r)||r;a.default=u},9949:function(e,a,t){"use strict";var n=t(0);t(9),Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e){var a,t,n,h,y,k,v,w,N;return(0,p.default)(a=(0,m.default)(a=(0,f.default)(a=(0,b.observer)((N=w=class extends e{constructor(...e){var a;super(...e),a=this,this.ControlConfiguration=u.default.ConfirmAndCancel,this.Header="Change nickname",this.ConfirmType="gilded",this.ConfirmText="Save",(0,i.default)(this,"isSavingNickname",n,this),(0,i.default)(this,"formValue",h,this),(0,i.default)(this,"nickname",y,this),this.Confirm=(0,r.coroutine)((function*(){const{formValue:e,resetting:t,UpdateTeamMemberNickname:n,UpdateChannelUserNickname:r}=a,i=e.values.nickname,{user:o}=a.props,{teamId:l}=a.teamContext,{channelId:d}=a.chatChannelContext;if((0,g.runInAction)(()=>a.isSavingNickname=!0),e)try{l?yield n({user:o,resetting:t,nickname:i}):d&&(yield r({user:o,resetting:t,nickname:i}))}catch(e){a.statusContext.displayError({message:"An error occurred setting the nickname",error:e})}})),this.UpdateTeamMemberNickname=function(){var e=(0,r.coroutine)((function*({user:e,resetting:t,nickname:n}){const{teamId:r,teamInfo:i,getUser:o}=a.teamContext;t||e.name===n?yield c.default.ResetMemberNickname({userId:e.id,teamId:r}):yield c.default.SetMemberNickname({userId:e.id,teamId:r,nickname:n}),(null==o?void 0:o(e.id))&&i.updateMember(e.id,{nickname:t?null:n})}));return function(a){return e.apply(this,arguments)}}(),this.UpdateChannelUserNickname=function(){var e=(0,r.coroutine)((function*({user:e,resetting:t,nickname:n}){const{channel:r}=a.chatChannelContext;t||e.name===n?yield s.default.ResetChannelUserNickname({userId:e.id,channelId:r.id}):yield s.default.SetChannelUserNickname({userId:e.id,channelId:r.id,nickname:n}),r.updateUserNickname({userId:e.id,nickname:t?null:n})}));return function(a){return e.apply(this,arguments)}}(),(0,i.default)(this,"_handleChange",k,this),(0,i.default)(this,"_resetNickname",v,this)}get isValid(){const{formValue:e}=this;return e&&e.isValid}get Disabled(){const{isSavingNickname:e,isValid:a}=this;return e||!a}get formSpecs(){return{sections:[{fieldSpecs:[{type:d.default.Text,fieldName:"nickname",label:"Nickname",validationFunction:l.default.ValidateName,defaultValue:this.nickname}]}]}}get resetting(){var e,a;const{user:t}=this.props;return(null===(e=this.formValue)||void 0===e?void 0:null===(a=e.values)||void 0===a?void 0:a.nickname)===t.name}componentDidMount(){super.componentDidMount&&super.componentDidMount(),(0,g.runInAction)(()=>this.nickname=this.name)}},w.displayName=e.displayName||e.name,t=N,n=(0,o.default)(t.prototype,"isSavingNickname",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h=(0,o.default)(t.prototype,"formValue",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=(0,o.default)(t.prototype,"nickname",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),(0,o.default)(t.prototype,"isValid",[g.computed],Object.getOwnPropertyDescriptor(t.prototype,"isValid"),t.prototype),(0,o.default)(t.prototype,"Disabled",[g.computed],Object.getOwnPropertyDescriptor(t.prototype,"Disabled"),t.prototype),(0,o.default)(t.prototype,"formSpecs",[g.computed],Object.getOwnPropertyDescriptor(t.prototype,"formSpecs"),t.prototype),k=(0,o.default)(t.prototype,"_handleChange",[g.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.formValue=e}}}),v=(0,o.default)(t.prototype,"_resetNickname",[g.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{user:a}=this.props;this.nickname=a.name}}}),(0,o.default)(t.prototype,"resetting",[g.computed],Object.getOwnPropertyDescriptor(t.prototype,"resetting"),t.prototype),a=t))||a)||a)||a)||a};var r=t(14),i=n(t(12)),o=n(t(3)),l=(n(t(13)),n(t(199))),d=n(t(68)),s=n(t(378)),c=n(t(50)),u=n(t(273)),f=n(t(46)),m=n(t(381)),p=n(t(204)),g=t(2),b=t(4)},9950:function(e,a,t){var n=t(7),r=t(9951);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i,o=0,l={injectType:"lazyStyleTag",insert:"head",singleton:!1},d={};r.locals&&(d.locals=r.locals),d.use=function(e){return o++||(i=n(r,{...l,...e})),d},d.unuse=function(){o>0&&!--o&&(i(),i=null)},e.exports=d},9951:function(e,a,t){(a=t(8)(!1)).push([e.i,".ChangeNicknameOverlay-container{display:flex;flex-direction:column;align-items:center}.ChangeNicknameOverlay-info{color:#ececee;background:#41434f;border:1px solid rgba(255,255,255,.1);border-radius:4px;width:100%;padding:16px;font-size:14px;font-weight:normal;margin-bottom:24px}.ChangeNicknameOverlayForm-container{width:100%}.ChangeNicknameOverlay-reset-container{width:100%;display:flex;justify-content:flex-end}.ChangeNicknameOverlay-reset-container .CancelText-container{margin-top:8px}",""]),a.locals={confirmationGreen:"#53da33",confirmationGreenDesaturated:"#6cba50",gilded4:"#ecb200",gilded5:"#e0a900",gilded6:"#be8c00",errorRedDesaturated:"#df5353",gray:"#a3a3ac",bodyTextWhite:"#ececee",bodyTextWiteMask64:"rgba(236,236,238,.64)",border:"#848a94",errorRed:"#ff6b6b",warnYellow:"#ffb400",nuxBlue:"#008ae1",calendarOrange:"#d89332",calendarBlue:"#355bf8",calendarGreen:"#6cba50",calendarSeagreen:"#30a68f",calendarJewelgreen:"#148f33",calendarPurple:"#a250e8",calendarPurpleMask7:"rgba(162,80,232,.07)",calendarPurpleMask10:"rgba(162,80,232,.1)",mediumPurple3:"#dab9f6",mediumPurple3Mask10:"rgba(218,185,246,.1)",dropmenuGray:"#4f515d",menuGray:"#4f515d",menuGrayMask30:"rgba(79,81,93,.3)",yellowHighlight:"#ffeca0",desaturatedReddit:"#ea794f",desaturatedTwitter:"#64a9d4",desaturatedYoutube:"#cf5c58",whatsapp:"#25d366",github:"#24292e",vimeo:"#1ab7ea",gilded:"#f5c400",orangeRed:"#ff4500",gameNavBlack:"#32343d",gameNavBlackMask36:"rgba(50,52,61,.36)",white:"#fff",gilded2:"#f8d64c",gilded2Mask5:"rgba(248,214,76,.05)",gilded2Mask7:"rgba(248,214,76,.07)",gilded2Mask10:"rgba(248,214,76,.1)",gilded2Mask20:"rgba(248,214,76,.2)",gilded2Mask50:"rgba(248,214,76,.5)",nuxBlueDesaturatedMask7:"rgba(174,189,252,.07)",restGet:"#335a9e",restHead:"#a250e8",restPost:"#6cba50",restPut:"#d89332",restPatch:"#4f515d",restDelete:"#ff6b6b",mysteriousGray:"#212329",backgroundBlack:"#1e2025",yellowThree:"#ffb400",calendarGreenDesaturated:"#476047",calendarRed:"#df5353",calendarRedMask30:"rgba(223,83,83,.2)",calendarRedDesaturated:"#694148",druidOrange:"#e4b370",sidebarBlack:"#292b32",brandyPunch:"#d89332",navBlack:"#191b1f",yellow1:"gold",yellow2:"#e4c519",yellow3:"#ffb400",yellow4:"#ffb400",yellow5:"#d89f0c",yellow6:"#ffd800",yellow6Mask35:"rgba(255,216,0,.35)",gameNavGray:"#30323a",skeletonGray:"#50525f",blackPearl:"#222329",twitch:"#9146ff",bnet:"#078ad2",psn:"#00134c",xbox:"#1c6d00",steam:"#231f20",origin:"#e73b00",youtube:"red",twitter:"#1189f4",facebook:"#335a9e",switch:"#e60012",patreon:"#ff424d",roblox:"#00a2ff",epic:"#2f2d2e",bnetSecondary:"#009ae4",psnSecondary:"#2d64e6",xboxSecondary:"#52b043",steamSecondary:"#096295",twitchSecondary:"#9146ff",epicSecondary:"#0078f2",grayMask20:"rgba(163,163,172,.2)",grayMask40:"rgba(163,163,172,.4)",goldenShadow:"rgba(255,234,0,.5)",colorChannelGray:"#373943",streamGradient:"linear-gradient(63.5deg, #ff0000 -29.74%, #b258ff 83.36%)"},e.exports=a}}]);
//# sourceMappingURL=https://sourcemaps.local.guilded.gg/db0e2dcb/ChangeNicknameOverlay.js.map