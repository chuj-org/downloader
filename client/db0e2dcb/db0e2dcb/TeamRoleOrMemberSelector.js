(window.webpackJsonp=window.webpackJsonp||[]).push([[179],{4516:function(e,r,t){"use strict";var o=t(0);t(9),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var l,a,n=o(t(6)),s=t(14),i=o(t(3)),c=o(t(81)),d=o(t(1483)),p=o(t(8271)),b=o(t(5054)),m=o(t(273)),u=o(t(18)),f=t(23),h=o(t(938)),g=o(t(11)),y=o(t(1)),O=t(2),M=t(4);var w=(0,o(t(10)).default)({name:"TeamRoleOrMemberSelector",loader:()=>t(8272)})(l=(0,p.default)(l=(0,b.default)(l=(0,M.observer)((a=class extends y.default.Component{constructor(...e){super(...e),this.Header="Roles and Members",this.Confirm=(0,s.coroutine)((function*(){})),this.ControlConfiguration=m.default.BackArrow}get canViewSearchControl(){const{member:e}=this.props,{canUpdateTeam:r}=this.teamContext;return!e||r}get roleAndMemberOptions(){const{roleOptions:e,memberOptions:r}=this;return e.concat(r)}get searchControlComponent(){var e,r;return c.default.AsyncTeamMemberFetching||(null===(e=this.teamContext)||void 0===e?void 0:null===(r=e.teamInfo)||void 0===r?void 0:r.responsiveMemberRendering)?d.default:h.default}render(){const{roleAndMemberOptions:e,canViewSearchControl:r,searchControlComponent:t}=this,{onCloseSelector:o,className:l}=this.props;return(0,n.default)("div",{className:(0,g.default)("TeamRoleOrMemberSelector-container",u.default.IsDesktop&&"TeamRoleOrMemberSelector-container-desktop",l),onClick:f.stopEventPropagationAndDefault},void 0,r&&(0,n.default)(t,{className:"TeamRoleOrMemberSelector-search-select",options:e,hideSelectOptions:!0,placeholder:"Search roles",noOptionsText:"All roles added",dismissOnContentClick:!1,size:"md",onEscapePressed:o,autoFocus:!0,asyncQueryRequestHandler:this.searchAndStoreMembers,includeAsyncOptions:!1}))}},(0,i.default)(a.prototype,"canViewSearchControl",[O.computed],Object.getOwnPropertyDescriptor(a.prototype,"canViewSearchControl"),a.prototype),(0,i.default)(a.prototype,"roleAndMemberOptions",[O.computed],Object.getOwnPropertyDescriptor(a.prototype,"roleAndMemberOptions"),a.prototype),(0,i.default)(a.prototype,"searchControlComponent",[O.computed],Object.getOwnPropertyDescriptor(a.prototype,"searchControlComponent"),a.prototype),l=a))||l)||l)||l)||l;r.default=w},5054:function(e,r,t){"use strict";var o=t(0);t(9),Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){var r,t,o,a,m,f;return r=b.computed.struct,t=b.computed.struct,(0,p.default)((f=m=class extends e{constructor(...e){var r;super(...e),r=this,this.GetRoleLabelStyle=e=>{const{color:r,color2:t}=e;return t?u(u({},i.default.GetTextGradientStyle(r,t)),{},{maxWidth:"fit-content"}):{color:(0,s.GetRoleColor)(r)}},this.ConvertRoleToOption=e=>{const{IsSingleSelect:r=!0,IncludeRoleOptionOnClick:t=!0}=this;return{title:"@".concat(e.name),label:"@".concat(e.name),rgbColorNormalized:(0,s.GetRoleColor)(e.color),color:e.color,color2:e.color2,imageType:"icon",onClick:t?this._handleAssignRole:null,size:d.default.IsDesktop?"sm":"md",infoSize:d.default.IsDesktop?"sm":"md",flavor:"transparent",value:e.id,isSingleSelect:r,labelStyle:this.GetRoleLabelStyle(e)}},this._handleAssignRole=function(){var e=(0,l.coroutine)((function*(e){const{teamId:t}=r.teamContext,{member:o,onRoleSelect:l,onCloseSelector:a}=r.props;var n,s;o?(yield c.default.AssignTeamRole({teamId:t,userId:o.id,roleId:e}),o.addRoleId(e)):(null===(n=r.OnRoleSelect)||void 0===n||n.call(r,e),null==l||l(e),null===(s=r.close)||void 0===s||s.call(r),null==a||a())}));return function(r){return e.apply(this,arguments)}}()}get availableMembershipRoles(){const{member:e,excludedRoleIds:r,excludeHigherPriorityRoles:t=!0,includeBotRoles:o=this.IncludeBotRoles}=this.props,{IncludeCurrentRole:l=!1}=this,{teamInfo:a,viewerIsAdmin:n,memberInfo:s,canManageRoles:i}=this.teamContext;return(o?[...a.assignableRoles,...a.botRoles]:a.assignableRoles).filter(({id:o,isSelfAssignable:a,priority:c})=>!((null==r?void 0:r.includes(o))||(null==e?void 0:e.membershipRoleIds.includes(o)))&&(!t||(a&&(s.rank>c||(null==e?void 0:e.id)===s.id)||n||i&&s.rank>c||l&&s.rank===c)))}get roleOptions(){return this.availableMembershipRoles.map(this.ConvertRoleToOption)}},m.displayName=e.displayName||e.name,a=f,(0,n.default)(a.prototype,"availableMembershipRoles",[r],Object.getOwnPropertyDescriptor(a.prototype,"availableMembershipRoles"),a.prototype),(0,n.default)(a.prototype,"roleOptions",[t],Object.getOwnPropertyDescriptor(a.prototype,"roleOptions"),a.prototype),o=a))||o};var l=t(14),a=o(t(15)),n=o(t(3)),s=t(153),i=o(t(160)),c=o(t(50)),d=o(t(18)),p=o(t(25)),b=t(2);function m(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function u(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?m(Object(t),!0).forEach((function(r){(0,a.default)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}},8271:function(e,r,t){"use strict";var o=t(0);t(9),Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){var r,t,o,d,p,b;return r=c.computed.struct,t=c.computed.struct,(0,i.default)(o=(0,n.default)((b=p=class extends e{constructor(...e){var r;super(...e),r=this,this.includeMember=({id:e})=>!this.excludedMemberIds.includes(e),this.transformMemberForSelector=e=>({title:e.displayName,color:e.roleColor,color2:e.roleColor2,image:e.profilePictureSm,imageType:"user",imageSize:"xs",onClick:this._handleSelectMember,size:s.default.IsDesktop?"sm":"md",infoSize:s.default.IsDesktop?"sm":"md",flavor:"transparent",value:e.id,isSingleSelect:!0}),this._handleSelectMember=function(){var e=(0,l.coroutine)((function*(e){var t,o;const{onMemberSelect:l,onCloseSelector:a}=r.props;null===(t=r.OnMemberSelect)||void 0===t||t.call(r,e),null==l||l(e),null===(o=r.close)||void 0===o||o.call(r),null==a||a()}));return function(r){return e.apply(this,arguments)}}()}get excludedMemberIds(){return this.props.excludedMemberIds||[]}get availableMembers(){const{teamInfo:{activeMembers:e}}=this.teamContext;return e.filter(this.includeMember)}get memberOptions(){return this.availableMembers.map(this.transformMemberForSelector)}},p.displayName=e.displayName||e.name,d=b,(0,a.default)(d.prototype,"excludedMemberIds",[c.computed],Object.getOwnPropertyDescriptor(d.prototype,"excludedMemberIds"),d.prototype),(0,a.default)(d.prototype,"availableMembers",[r],Object.getOwnPropertyDescriptor(d.prototype,"availableMembers"),d.prototype),(0,a.default)(d.prototype,"memberOptions",[t],Object.getOwnPropertyDescriptor(d.prototype,"memberOptions"),d.prototype),o=d))||o)||o};var l=t(14),a=o(t(3)),n=o(t(583)),s=o(t(18)),i=o(t(25)),c=t(2)},8272:function(e,r,t){var o=t(7),l=t(8273);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var a,n=0,s={injectType:"lazyStyleTag",insert:"head",singleton:!1},i={};l.locals&&(i.locals=l.locals),i.use=function(e){return n++||(a=o(l,{...s,...e})),i},i.unuse=function(){n>0&&!--n&&(a(),a=null)},e.exports=i},8273:function(e,r,t){(r=t(8)(!1)).push([e.i,".TeamRoleOrMemberSelector-container{display:flex;flex-direction:column}.TeamRoleOrMemberSelector-search-select{width:100%;padding:12px;flex:1}.TeamRoleOrMemberSelector-list{flex-shrink:0;padding:0 12px 8px 12px;max-height:80px;overflow-y:overlay;display:flex;flex-wrap:wrap;width:100%;scrollbar-width:thin;scrollbar-color:rgba(25,27,31,.8) transparent}.TeamRoleOrMemberSelector-list::-webkit-scrollbar{width:4px}.TeamRoleOrMemberSelector-list::-webkit-scrollbar:horizontal{height:4px}.TeamRoleOrMemberSelector-list::-webkit-scrollbar-thumb{border-color:transparent;border:2px solid transparent;border-radius:3px;cursor:move;background-color:#191b1f}.TeamRoleOrMemberSelector-list::-webkit-scrollbar-thumb,.TeamRoleOrMemberSelector-list::-webkit-scrollbar-track{background-clip:padding-box;border-radius:7.5px;border-style:solid;border-width:3px}.TeamRoleOrMemberSelector-list::-webkit-scrollbar-track{background-color:transparent !important;border-color:transparent !important;border:2px solid transparent !important;border-width:initial}.TeamRoleOrMemberSelector-list::-webkit-scrollbar,.TeamRoleOrMemberSelector-list::-webkit-scrollbar:hover,.TeamRoleOrMemberSelector-list::-webkit-scrollbar-thumb:vertical,.TeamRoleOrMemberSelector-list::-webkit-scrollbar,.TeamRoleOrMemberSelector-list::-webkit-scrollbar,.TeamRoleOrMemberSelector-list::-webkit-scrollbar-track,.TeamRoleOrMemberSelector-list::-webkit-scrollbar-corner,.TeamRoleOrMemberSelector-list::-webkit-scrollbar-track-piece,.TeamRoleOrMemberSelector-list::-webkit-scrollbar-track-piece-thumb,.TeamRoleOrMemberSelector-list::-webkit-scrollbar-track-piece-corner,.TeamRoleOrMemberSelector-list::-webkit-scrollbar-track-piece-button{background-color:transparent;background:transparent}.TeamRoleOrMemberSelector-list::-webkit-scrollbar-thumb{background:rgba(25,27,31,.8) !important}.TeamRoleOrMemberSelector-role{margin:0 4px 4px 0;max-width:100%}.TeamRoleOrMemberSelector-container-desktop{width:220px;max-height:500px}.TeamRoleOrMemberSelector-none{color:#a3a3ac;font-size:14px;line-height:145%;font-weight:normal;line-height:19px}.TeamRoleOrMemberSelector-add-roles-header{border-top:1px solid rgba(163,163,172,.2)}.TeamRoleOrMemberSelector-header{padding:12px 12px 4px 12px;font-size:12px;line-height:14px;color:#a3a3ac;text-transform:uppercase;font-weight:700}.TeamRoleOrMemberSelector-header + .TeamRoleOrMemberSelector-search-select{padding:0 12px 12px 12px}",""]),r.locals={confirmationGreen:"#53da33",confirmationGreenDesaturated:"#6cba50",gilded4:"#ecb200",gilded5:"#e0a900",gilded6:"#be8c00",errorRedDesaturated:"#df5353",gray:"#a3a3ac",bodyTextWhite:"#ececee",bodyTextWiteMask64:"rgba(236,236,238,.64)",border:"#848a94",errorRed:"#ff6b6b",warnYellow:"#ffb400",nuxBlue:"#008ae1",calendarOrange:"#d89332",calendarBlue:"#355bf8",calendarGreen:"#6cba50",calendarSeagreen:"#30a68f",calendarJewelgreen:"#148f33",calendarPurple:"#a250e8",calendarPurpleMask7:"rgba(162,80,232,.07)",calendarPurpleMask10:"rgba(162,80,232,.1)",mediumPurple3:"#dab9f6",mediumPurple3Mask10:"rgba(218,185,246,.1)",dropmenuGray:"#4f515d",menuGray:"#4f515d",menuGrayMask30:"rgba(79,81,93,.3)",yellowHighlight:"#ffeca0",desaturatedReddit:"#ea794f",desaturatedTwitter:"#64a9d4",desaturatedYoutube:"#cf5c58",whatsapp:"#25d366",github:"#24292e",vimeo:"#1ab7ea",gilded:"#f5c400",orangeRed:"#ff4500",gameNavBlack:"#32343d",gameNavBlackMask36:"rgba(50,52,61,.36)",white:"#fff",gilded2:"#f8d64c",gilded2Mask5:"rgba(248,214,76,.05)",gilded2Mask7:"rgba(248,214,76,.07)",gilded2Mask10:"rgba(248,214,76,.1)",gilded2Mask20:"rgba(248,214,76,.2)",gilded2Mask50:"rgba(248,214,76,.5)",nuxBlueDesaturatedMask7:"rgba(174,189,252,.07)",restGet:"#335a9e",restHead:"#a250e8",restPost:"#6cba50",restPut:"#d89332",restPatch:"#4f515d",restDelete:"#ff6b6b",mysteriousGray:"#212329",backgroundBlack:"#1e2025",yellowThree:"#ffb400",calendarGreenDesaturated:"#476047",calendarRed:"#df5353",calendarRedMask30:"rgba(223,83,83,.2)",calendarRedDesaturated:"#694148",druidOrange:"#e4b370",sidebarBlack:"#292b32",brandyPunch:"#d89332",navBlack:"#191b1f",yellow1:"gold",yellow2:"#e4c519",yellow3:"#ffb400",yellow4:"#ffb400",yellow5:"#d89f0c",yellow6:"#ffd800",yellow6Mask35:"rgba(255,216,0,.35)",gameNavGray:"#30323a",skeletonGray:"#50525f",blackPearl:"#222329",twitch:"#9146ff",bnet:"#078ad2",psn:"#00134c",xbox:"#1c6d00",steam:"#231f20",origin:"#e73b00",youtube:"red",twitter:"#1189f4",facebook:"#335a9e",switch:"#e60012",patreon:"#ff424d",roblox:"#00a2ff",epic:"#2f2d2e",bnetSecondary:"#009ae4",psnSecondary:"#2d64e6",xboxSecondary:"#52b043",steamSecondary:"#096295",twitchSecondary:"#9146ff",epicSecondary:"#0078f2",grayMask20:"rgba(163,163,172,.2)",grayMask40:"rgba(163,163,172,.4)",goldenShadow:"rgba(255,234,0,.5)",colorChannelGray:"#373943",streamGradient:"linear-gradient(63.5deg, #ff0000 -29.74%, #b258ff 83.36%)"},e.exports=r}}]);
//# sourceMappingURL=https://sourcemaps.local.guilded.gg/db0e2dcb/TeamRoleOrMemberSelector.js.map