(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{4684:function(e,t,a){"use strict";var o=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,n,l=o(a(6)),i=o(a(3)),s=o(a(273)),c=o(a(21)),d=o(a(204)),u=o(a(24)),f=o(a(1)),p=o(a(9775)),g=o(a(114)),y=a(2),m=a(4);var b=(0,o(a(10)).default)({name:"DeleteUserAccountOverlay",loader:()=>a(9776)})(r=(0,d.default)(r=(0,p.default)(r=(0,m.observer)((n=class extends f.default.Component{get ControlConfiguration(){return this.isUserAccountDeleted?null:s.default.ConfirmAndCancel}render(){const{FormSpecs:e,_handleFormChange:t}=this;return(0,l.default)("div",{className:"DeleteUserAccountOverlay-container"},void 0,this.isUserAccountDeleted?(0,l.default)(f.default.Fragment,{},void 0,(0,l.default)("div",{className:"DeleteUserAccountConfirmation-container"},void 0,(0,l.default)(c.default,{className:"DeleteUserAccountConfirmation-icon",iconName:"icon-checkmark"}),(0,l.default)("div",{className:"DeleteUserAccountConfirmation-title"},void 0,this.DeleteConfirmationTitle),(0,l.default)("div",{className:"DeleteUserAccountConfirmation-info"},void 0,this.DeleteConfirmationSubtitle))):(0,l.default)(f.default.Fragment,{},void 0,(0,l.default)("div",{className:"DeleteUserAccountOverlay-warning-container"},void 0,(0,l.default)(u.default,{},void 0,this.DangerWarningText)),this.canDeleteAccount&&(0,l.default)(g.default,{className:"DeleteUserAccountOverlay-form",formSpecs:e,onChange:t,autoFocus:!0})))}},(0,i.default)(n.prototype,"ControlConfiguration",[y.computed],Object.getOwnPropertyDescriptor(n.prototype,"ControlConfiguration"),n.prototype),r=n))||r)||r)||r)||r;t.default=b},9775:function(e,t,a){"use strict";var o=a(0),r=a(19);a(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,a,o,r,x,D,A,C;return t=(0,p.default)([g.SimpleConfirmationOverlay]),(0,m.default)(a=(0,y.default)(a=t((C=A=class extends e{constructor(...e){var t;super(...e),t=this,(0,l.default)(this,"isUserAccountDeleted",r,this),(0,l.default)(this,"isValid",x,this),this.ConfirmText=f.default.IsNative?"Delete":"Delete my account",this.ConfirmType="delete",this.CancelText="Cancel",this.DeleteConfirmationTitle="Account deleted successfully",this.DeleteConfirmationSubtitle="Your account will be logged out automatically",this.deleteAccountReasonOptions=[{label:"Trouble getting started",value:"troubleGettingStarted"},{label:"Privacy concerns",value:"privacyConcerns"},{label:"Missing features",value:"missingFeatures"},{label:"Technical issues",value:"technicalIssues"},{label:"Something else",value:"somethingElse"}],(0,l.default)(this,"_handleFormChange",D,this),this.OnError=e=>{const t={type:"error",message:403===e.status?"Invalid password":"Couldn't delete account"};f.default.IsNative?u.default.emit(d.default.StatusMessage,t):this.statusContext.displayStatus(t)},this.Confirm=(0,n.coroutine)((function*(){const{password:e,explanation:a,reasonType:o}=t.formValue;yield t.makeRequest(b.default.DeleteUserAccount({password:e,reasonType:o,explanation:a})),(0,w.runInAction)(()=>t.isUserAccountDeleted=!0),yield n.default.delay(3e3);const r=f.default.IsNative?{navigation:t.props.navigation}:{destinationHref:c.default.Landing.getPath()};u.default.emit(s.default.LogoutClicked,r)}))}get DangerWarningText(){return this.canDeleteAccount?"Are you sure you want to delete your account? All information associated with this account will be deleted. This cannot be undone and will be gone forever. You will not able to access it again.":"You can't delete your account because you are a server owner. Please disband the servers you own, or transfer server ownership to someone else. Once you no longer own any servers, then you may delete your account."}get FormSpecs(){const{userInfo:e}=this.userContext,t=null==e?void 0:e.robloxId;return{sections:[{fieldSpecs:[t?{type:h.default.OAuthVerification,fieldName:"verifiedServiceId",label:"You must re-authenticate your account to confirm deletion",networkType:v.default.Roblox,expectedServiceId:t}:{type:h.default.Text,fieldName:"password",label:"Enter password to confirm account deletion",inputType:"password"},{type:h.default.Dropdown,fieldName:"reasonType",label:"To help us, whatâ€™s the reason for deleting your account?",isOptional:!1,placeholder:"Choose an answer",options:this.deleteAccountReasonOptions,grow:1},{type:h.default.TextArea,fieldName:"explanation",label:"Can you go into more detail? (optional)",isOptional:!0}]}]}}get Header(){return this.isUserAccountDeleted?"Delete User":"Danger Zone"}get canDeleteAccount(){return 0===this.userContext.ownedTeams.length}get Disabled(){return!this.isValid||!this.canDeleteAccount}},A.displayName=e.displayName||e.name,o=C,r=(0,i.default)(o.prototype,"isUserAccountDeleted",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=(0,i.default)(o.prototype,"isValid",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,i.default)(o.prototype,"DangerWarningText",[w.computed],Object.getOwnPropertyDescriptor(o.prototype,"DangerWarningText"),o.prototype),(0,i.default)(o.prototype,"FormSpecs",[w.computed],Object.getOwnPropertyDescriptor(o.prototype,"FormSpecs"),o.prototype),(0,i.default)(o.prototype,"Header",[w.computed],Object.getOwnPropertyDescriptor(o.prototype,"Header"),o.prototype),(0,i.default)(o.prototype,"canDeleteAccount",[w.computed],Object.getOwnPropertyDescriptor(o.prototype,"canDeleteAccount"),o.prototype),(0,i.default)(o.prototype,"Disabled",[w.computed],Object.getOwnPropertyDescriptor(o.prototype,"Disabled"),o.prototype),D=(0,i.default)(o.prototype,"_handleFormChange",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,n.coroutine)((function*(t){if(t.values){const{reasonType:a,password:o,explanation:r}=t.values;e.formValue={password:o,explanation:r,reasonType:a},e.isValid=!!t.isValid}}));return function(e){return t.apply(this,arguments)}}()}}),a=o))||a)||a)||a};var n=r(a(14)),l=o(a(12)),i=o(a(3)),s=(o(a(13)),o(a(71))),c=o(a(294)),d=o(a(553)),u=o(a(38)),f=o(a(18)),p=o(a(34)),g=a(30),y=o(a(39)),m=o(a(22)),b=o(a(50)),h=o(a(68)),v=o(a(209)),w=a(2)},9776:function(e,t,a){var o=a(7),r=a(9777);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var n,l=0,i={injectType:"lazyStyleTag",insert:"head",singleton:!1},s={};r.locals&&(s.locals=r.locals),s.use=function(e){return l++||(n=o(r,{...i,...e})),s},s.unuse=function(){l>0&&!--l&&(n(),n=null)},e.exports=s},9777:function(e,t,a){(t=a(8)(!1)).push([e.i,".DeleteUserAccountOverlay-container{display:flex;flex-direction:column;flex:0 1 auto;width:528px}.DeleteUserAccountOverlay-warning-container{background:rgba(248,214,76,.2);border:1px solid #f5c400;padding:12px}.DeleteUserAccountOverlay-form{margin-top:24px}.DeleteUserAccountOverlay-form .TextInputWithLabel-floating-label{color:#ececee;font-weight:normal;font-size:12px;transform:translateY(-18px)}.DeleteUserAccountOverlay-form .FormFieldLabel-container{color:#ececee;font-weight:normal;font-size:12px;margin-bottom:4px}.DeleteUserAccountOverlay-warning-text{color:#ececee}.DeleteUserAccountOverlay-confirm-cancel{margin-top:42px}.DeleteUserAccountConfirmation-container{display:flex;flex-direction:column;flex:1 1 auto;align-content:center;align-items:center;justify-content:center;max-width:584px;padding:12px 70px}@media(max-width: 500px){.DeleteUserAccountConfirmation-container{padding:0}}.DeleteUserAccountConfirmation-icon{height:64px;width:64px;padding:8px;fill:#53da33;display:flex;align-items:center;flex-shrink:0;margin:0 0 12px 0;border:5px solid #53da33;border-radius:50%}.DeleteUserAccountConfirmation-title{color:#fff;margin:0;padding:0;font-size:15px;line-height:145%;font-weight:700;text-align:center}.DeleteUserAccountConfirmation-info{text-align:center;margin-top:8px;margin-bottom:16px}",""]),t.locals={confirmationGreen:"#53da33",confirmationGreenDesaturated:"#6cba50",gilded4:"#ecb200",gilded5:"#e0a900",gilded6:"#be8c00",errorRedDesaturated:"#df5353",gray:"#a3a3ac",bodyTextWhite:"#ececee",bodyTextWiteMask64:"rgba(236,236,238,.64)",border:"#848a94",errorRed:"#ff6b6b",warnYellow:"#ffb400",nuxBlue:"#008ae1",calendarOrange:"#d89332",calendarBlue:"#355bf8",calendarGreen:"#6cba50",calendarSeagreen:"#30a68f",calendarJewelgreen:"#148f33",calendarPurple:"#a250e8",calendarPurpleMask7:"rgba(162,80,232,.07)",calendarPurpleMask10:"rgba(162,80,232,.1)",mediumPurple3:"#dab9f6",mediumPurple3Mask10:"rgba(218,185,246,.1)",dropmenuGray:"#4f515d",menuGray:"#4f515d",menuGrayMask30:"rgba(79,81,93,.3)",yellowHighlight:"#ffeca0",desaturatedReddit:"#ea794f",desaturatedTwitter:"#64a9d4",desaturatedYoutube:"#cf5c58",whatsapp:"#25d366",github:"#24292e",vimeo:"#1ab7ea",gilded:"#f5c400",orangeRed:"#ff4500",gameNavBlack:"#32343d",gameNavBlackMask36:"rgba(50,52,61,.36)",white:"#fff",gilded2:"#f8d64c",gilded2Mask5:"rgba(248,214,76,.05)",gilded2Mask7:"rgba(248,214,76,.07)",gilded2Mask10:"rgba(248,214,76,.1)",gilded2Mask20:"rgba(248,214,76,.2)",gilded2Mask50:"rgba(248,214,76,.5)",nuxBlueDesaturatedMask7:"rgba(174,189,252,.07)",restGet:"#335a9e",restHead:"#a250e8",restPost:"#6cba50",restPut:"#d89332",restPatch:"#4f515d",restDelete:"#ff6b6b",mysteriousGray:"#212329",backgroundBlack:"#1e2025",yellowThree:"#ffb400",calendarGreenDesaturated:"#476047",calendarRed:"#df5353",calendarRedMask30:"rgba(223,83,83,.2)",calendarRedDesaturated:"#694148",druidOrange:"#e4b370",sidebarBlack:"#292b32",brandyPunch:"#d89332",navBlack:"#191b1f",yellow1:"gold",yellow2:"#e4c519",yellow3:"#ffb400",yellow4:"#ffb400",yellow5:"#d89f0c",yellow6:"#ffd800",yellow6Mask35:"rgba(255,216,0,.35)",gameNavGray:"#30323a",skeletonGray:"#50525f",blackPearl:"#222329",twitch:"#9146ff",bnet:"#078ad2",psn:"#00134c",xbox:"#1c6d00",steam:"#231f20",origin:"#e73b00",youtube:"red",twitter:"#1189f4",facebook:"#335a9e",switch:"#e60012",patreon:"#ff424d",roblox:"#00a2ff",epic:"#2f2d2e",bnetSecondary:"#009ae4",psnSecondary:"#2d64e6",xboxSecondary:"#52b043",steamSecondary:"#096295",twitchSecondary:"#9146ff",epicSecondary:"#0078f2",grayMask20:"rgba(163,163,172,.2)",grayMask40:"rgba(163,163,172,.4)",goldenShadow:"rgba(255,234,0,.5)",colorChannelGray:"#373943",streamGradient:"linear-gradient(63.5deg, #ff0000 -29.74%, #b258ff 83.36%)"},e.exports=t}}]);
//# sourceMappingURL=https://sourcemaps.local.guilded.gg/db0e2dcb/DeleteUserAccountOverlay.js.map