(window.webpackJsonp=window.webpackJsonp||[]).push([[116],{4694:function(e,t,r){"use strict";var a=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(r(20)),i=a(r(40)),n=a(r(6)),s=a(r(3)),c=a(r(204)),l=a(r(8456)),u=a(r(9819)),d=a(r(9821)),p=a(r(53)),f=a(r(24)),b=a(r(1)),v=r(2),g=r(4),y=a(r(10));const S=["text"];var m,h;var w=(0,y.default)({name:"ManageServerSubscriptionOverlay",loader:()=>r(9825)})(m=(0,c.default)(m=(0,u.default)(m=(0,g.observer)((h=class extends b.default.Component{get ControlConfiguration(){return this._ControlConfiguration}render(){const{manageState:e}=this;return(0,n.default)("div",{className:"ManageServerSubscriptionOverlay-container"},void 0,(0,n.default)(d.default,{className:"ManageServerSubscriptionOverlay-review"}),e===l.default.Overview&&(0,n.default)("div",{className:"ManageServerSubscriptionOverlay-billing-info"},void 0,(0,n.default)(f.default,{type:"subheader",block:!0},void 0,this.billingInfoHeader),(0,n.default)(f.default,{block:!0},void 0,this.billingInfoText),(0,n.default)("div",{className:"ManageServerSubscriptionOverlay-overview-controls"},void 0,this.overviewControlSpecs.map(e=>{let{text:t}=e,r=(0,i.default)(e,S);return b.default.createElement(p.default,(0,o.default)({className:"ManageServerSubscriptionOverlay-overview-control",key:t},r),t)}))),e===l.default.CancelSubscription&&(0,n.default)("div",{className:"ManageServerSubscriptionOverlay-cancel"},void 0,(0,n.default)(f.default,{type:"subheader",block:!0},void 0,this.cancelSubscriptionHeader),(0,n.default)(f.default,{block:!0},void 0,this.cancelSubscriptionText)))}},(0,s.default)(h.prototype,"ControlConfiguration",[v.computed],Object.getOwnPropertyDescriptor(h.prototype,"ControlConfiguration"),h.prototype),m=h))||m)||m)||m)||m;t.default=w},8456:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={Overview:"Overview",CancelSubscription:"CancelSubscription"}},9819:function(e,t,r){"use strict";var a=r(0);r(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,r,a,o,S,h,w,O;return t=y.computed.struct,(0,u.default)(r=(0,l.default)(r=(0,f.default)((O=w=class extends e{constructor(...e){var t;super(...e),t=this,(0,n.default)(this,"manageState",o,this),this.Confirm=(0,i.coroutine)((function*(){const{manageState:e,serverSubscription:r}=t,{teamId:a}=t.teamContext;if(e===c.default.CancelSubscription){return v.default.Log(b.default.ServerSubscriptionsManageOverlayUnsubscribeConfirmed),{serverSubscription:m(m({},yield d.default.CancelServerSubscription({teamId:a})),{},{cancelAtPeriodEnd:!0})}}if(e===c.default.Overview&&r.cancelAtPeriodEnd){v.default.Log(b.default.ServerSubscriptionsManageOverlaySubscriptionReactivated);const{serverSubscription:e}=yield d.default.UpdateServerSubscription({teamId:a,serverSubscriptionPlanId:t.serverSubscriptionPlan.id});return{serverSubscription:e}}})),(0,n.default)(this,"_handleCancelSubClicked",S,this),(0,n.default)(this,"_handleChangeTierClicked",h,this)}get Header(){return this.manageState===c.default.CancelSubscription?"Unsubscribe":"Manage subscription"}get nextBillingDate(){return(0,g.default)(this.serverSubscription.currentPeriodEnd).format("MMMM DD, YYYY")}get _ControlConfiguration(){return this.manageState!==c.default.Overview||this.serverSubscription.cancelAtPeriodEnd?this.serverSubscriptionPlan.deletedAt?p.default.Cancel:p.default.ConfirmAndCancel:null}get ConfirmText(){const{manageState:e}=this;switch(e){case c.default.CancelSubscription:return"Unsubscribe";case c.default.Overview:return this.serverSubscription.cancelAtPeriodEnd?"Reactivate":"Save";default:return"Save"}}get CancelText(){return"Cancel"}get ConfirmType(){const{manageState:e}=this;return e!==c.default.CancelSubscription?"gilded":"delete"}get billingInfoHeader(){return this.serverSubscription.cancelAtPeriodEnd?this.serverSubscriptionPlan.deletedAt?"Subscription tier removed":"Reactivate your sub":"Next billing date"}get billingInfoText(){const{nextBillingDate:e}=this;return this.serverSubscription.cancelAtPeriodEnd?this.serverSubscriptionPlan.deletedAt?"Your current subscription tier has been deleted by the server owner. Visit the team's subscription page to change your tier if you would like to continue subscribing.":"If you reactivate your sub before ".concat(e,", you wonâ€™t be charged again for this month."):e}get overviewControlSpecs(){const{serverSubscription:e}=this;return[!e.cancelAtPeriodEnd&&m({type:"monochrome",style:"hollow",text:"Change tier",onClick:this._handleChangeTierClicked},this.serverSubscriptionsRestrictedButtonProps),!e.cancelAtPeriodEnd&&{type:"delete",style:"hollow",text:"Cancel subscription",onClick:this._handleCancelSubClicked}].filter(Boolean)}get cancelSubscriptionHeader(){return"Are you sure you want to unsubscribe?"}get cancelSubscriptionText(){return"You will retain your tier rewards until ".concat(this.nextBillingDate,". If you change your mind, you can reactivate your sub.")}},w.displayName=e.displayName||e.name,a=O,o=(0,s.default)(a.prototype,"manageState",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.DefaultManageState||c.default.Overview}}),(0,s.default)(a.prototype,"Header",[y.computed],Object.getOwnPropertyDescriptor(a.prototype,"Header"),a.prototype),(0,s.default)(a.prototype,"nextBillingDate",[y.computed],Object.getOwnPropertyDescriptor(a.prototype,"nextBillingDate"),a.prototype),(0,s.default)(a.prototype,"_ControlConfiguration",[y.computed],Object.getOwnPropertyDescriptor(a.prototype,"_ControlConfiguration"),a.prototype),(0,s.default)(a.prototype,"ConfirmText",[y.computed],Object.getOwnPropertyDescriptor(a.prototype,"ConfirmText"),a.prototype),(0,s.default)(a.prototype,"CancelText",[y.computed],Object.getOwnPropertyDescriptor(a.prototype,"CancelText"),a.prototype),(0,s.default)(a.prototype,"ConfirmType",[y.computed],Object.getOwnPropertyDescriptor(a.prototype,"ConfirmType"),a.prototype),S=(0,s.default)(a.prototype,"_handleCancelSubClicked",[y.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return(0,i.coroutine)((function*(){v.default.Log(b.default.ServerSubscriptionsManageOverlayUnsubscribeClicked),e.manageState=c.default.CancelSubscription}))}}),h=(0,s.default)(a.prototype,"_handleChangeTierClicked",[y.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return(0,i.coroutine)((function*(){e.close(),v.default.Log(b.default.ServerSubscriptionsManageOverlayChangeTierClicked),yield e.MultiStageFlowOverlay.Open(e.SubscriptionFlowSpecs)}))}}),(0,s.default)(a.prototype,"billingInfoHeader",[y.computed],Object.getOwnPropertyDescriptor(a.prototype,"billingInfoHeader"),a.prototype),(0,s.default)(a.prototype,"billingInfoText",[y.computed],Object.getOwnPropertyDescriptor(a.prototype,"billingInfoText"),a.prototype),(0,s.default)(a.prototype,"overviewControlSpecs",[t],Object.getOwnPropertyDescriptor(a.prototype,"overviewControlSpecs"),a.prototype),(0,s.default)(a.prototype,"cancelSubscriptionHeader",[y.computed],Object.getOwnPropertyDescriptor(a.prototype,"cancelSubscriptionHeader"),a.prototype),(0,s.default)(a.prototype,"cancelSubscriptionText",[y.computed],Object.getOwnPropertyDescriptor(a.prototype,"cancelSubscriptionText"),a.prototype),r=a))||r)||r)||r};var o=a(r(15)),i=r(14),n=a(r(12)),s=a(r(3)),c=(a(r(13)),a(r(8456))),l=a(r(1620)),u=a(r(8454)),d=a(r(4463)),p=a(r(273)),f=a(r(9820)),b=a(r(35)),v=a(r(42)),g=a(r(55)),y=r(2);function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},9820:function(e,t,r){"use strict";var a=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,r,a,c;return(0,n.default)((c=a=class extends e{get isServerSubscriptionsRestricted(){return!this.ampContext.CanAccessFeature(i.AMPRestrictedFeatures.ServerSubscriptions)}get serverSubscriptionsRestrictionTooltipText(){var e;return null===(e=this.ampContext.GetFeatureRestrictionSpecs(i.AMPRestrictedFeatures.ServerSubscriptions))||void 0===e?void 0:e.tooltipText}get serverSubscriptionsRestrictedButtonProps(){return this.isServerSubscriptionsRestricted?{disabled:!0,disabledTooltip:this.serverSubscriptionsRestrictionTooltipText,disabledTooltipDirection:"up"}:{}}},a.displayName=e.displayName||e.name,r=c,(0,o.default)(r.prototype,"isServerSubscriptionsRestricted",[s.computed],Object.getOwnPropertyDescriptor(r.prototype,"isServerSubscriptionsRestricted"),r.prototype),(0,o.default)(r.prototype,"serverSubscriptionsRestrictionTooltipText",[s.computed],Object.getOwnPropertyDescriptor(r.prototype,"serverSubscriptionsRestrictionTooltipText"),r.prototype),(0,o.default)(r.prototype,"serverSubscriptionsRestrictedButtonProps",[s.computed],Object.getOwnPropertyDescriptor(r.prototype,"serverSubscriptionsRestrictedButtonProps"),r.prototype),t=r))||t};var o=a(r(3)),i=(a(r(14)),r(398)),n=a(r(746)),s=r(2)},9821:function(e,t,r){"use strict";var a=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i=a(r(6)),n=a(r(9822)),s=a(r(7944)),c=a(r(24)),l=a(r(41)),u=a(r(11)),d=a(r(1)),p=(r(2),r(4));var f=(0,a(r(10)).default)({name:"ServerSubscriptionManageReview",loader:()=>r(9823)})(o=(0,n.default)(o=(0,p.observer)(o=class extends d.default.Component{render(){const{className:e}=this.props,{teamAvatar:t,teamName:r,serverSubscriptionIconWithTextProps:a}=this;return(0,i.default)("div",{className:(0,u.default)("ServerSubscriptionManageReview-container",e)},void 0,(0,i.default)("div",{className:"ServerSubscriptionManageReview-subscription-info-wrapper"},void 0,t&&(0,i.default)(l.default,{className:"ServerSubscriptionManageReview-subscription-info-image",src:t}),(0,i.default)("div",{className:"ServerSubscriptionManageReview-subscription-info-details"},void 0,(0,i.default)(c.default,{type:"heading3",className:"ServerSubscriptionBar-title"},void 0,r),(0,i.default)("div",{className:"ServerSubscriptionBar-subtitle-wrapper"},void 0,d.default.createElement(s.default,a)))))}})||o)||o)||o;t.default=f},9822:function(e,t,r){"use strict";var a=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,r,a,s;return(0,i.default)((s=a=class extends e{get teamAvatar(){const{teamInfo:e}=this.teamContext;return null==e?void 0:e.profilePicture}get teamName(){const{teamInfo:e}=this.teamContext;return e.name}get serverSubscriptionIconWithTextProps(){const{serverSubscriptionTierConst:e}=this;return{serverSubscriptionTierConst:e,iconProps:{fancy:!0},textProps:{type:"heading5"}}}},a.displayName=e.displayName||e.name,r=s,(0,o.default)(r.prototype,"teamAvatar",[n.computed],Object.getOwnPropertyDescriptor(r.prototype,"teamAvatar"),r.prototype),(0,o.default)(r.prototype,"teamName",[n.computed],Object.getOwnPropertyDescriptor(r.prototype,"teamName"),r.prototype),(0,o.default)(r.prototype,"serverSubscriptionIconWithTextProps",[n.computed],Object.getOwnPropertyDescriptor(r.prototype,"serverSubscriptionIconWithTextProps"),r.prototype),t=r))||t};var o=a(r(3)),i=a(r(1620)),n=r(2)},9823:function(e,t,r){var a=r(7),o=r(9824);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i,n=0,s={injectType:"lazyStyleTag",insert:"head",singleton:!1},c={};o.locals&&(c.locals=o.locals),c.use=function(e){return n++||(i=a(o,{...s,...e})),c},c.unuse=function(){n>0&&!--n&&(i(),i=null)},e.exports=c},9824:function(e,t,r){(t=r(8)(!1)).push([e.i,".ServerSubscriptionManageReview-subscription-info-wrapper{background-color:#32343d;border-radius:4px;padding:12px;display:flex}.ServerSubscriptionManageReview-subscription-info-image{width:40px;height:40px;object-fit:contain;margin-right:12px}",""]),t.locals={confirmationGreen:"#53da33",confirmationGreenDesaturated:"#6cba50",gilded4:"#ecb200",gilded5:"#e0a900",gilded6:"#be8c00",errorRedDesaturated:"#df5353",gray:"#a3a3ac",bodyTextWhite:"#ececee",bodyTextWiteMask64:"rgba(236,236,238,.64)",border:"#848a94",errorRed:"#ff6b6b",warnYellow:"#ffb400",nuxBlue:"#008ae1",calendarOrange:"#d89332",calendarBlue:"#355bf8",calendarGreen:"#6cba50",calendarSeagreen:"#30a68f",calendarJewelgreen:"#148f33",calendarPurple:"#a250e8",calendarPurpleMask7:"rgba(162,80,232,.07)",calendarPurpleMask10:"rgba(162,80,232,.1)",mediumPurple3:"#dab9f6",mediumPurple3Mask10:"rgba(218,185,246,.1)",dropmenuGray:"#4f515d",menuGray:"#4f515d",menuGrayMask30:"rgba(79,81,93,.3)",yellowHighlight:"#ffeca0",desaturatedReddit:"#ea794f",desaturatedTwitter:"#64a9d4",desaturatedYoutube:"#cf5c58",whatsapp:"#25d366",github:"#24292e",vimeo:"#1ab7ea",gilded:"#f5c400",orangeRed:"#ff4500",gameNavBlack:"#32343d",gameNavBlackMask36:"rgba(50,52,61,.36)",white:"#fff",gilded2:"#f8d64c",gilded2Mask5:"rgba(248,214,76,.05)",gilded2Mask7:"rgba(248,214,76,.07)",gilded2Mask10:"rgba(248,214,76,.1)",gilded2Mask20:"rgba(248,214,76,.2)",gilded2Mask50:"rgba(248,214,76,.5)",nuxBlueDesaturatedMask7:"rgba(174,189,252,.07)",restGet:"#335a9e",restHead:"#a250e8",restPost:"#6cba50",restPut:"#d89332",restPatch:"#4f515d",restDelete:"#ff6b6b",mysteriousGray:"#212329",backgroundBlack:"#1e2025",yellowThree:"#ffb400",calendarGreenDesaturated:"#476047",calendarRed:"#df5353",calendarRedMask30:"rgba(223,83,83,.2)",calendarRedDesaturated:"#694148",druidOrange:"#e4b370",sidebarBlack:"#292b32",brandyPunch:"#d89332",navBlack:"#191b1f",yellow1:"gold",yellow2:"#e4c519",yellow3:"#ffb400",yellow4:"#ffb400",yellow5:"#d89f0c",yellow6:"#ffd800",yellow6Mask35:"rgba(255,216,0,.35)",gameNavGray:"#30323a",skeletonGray:"#50525f",blackPearl:"#222329",twitch:"#9146ff",bnet:"#078ad2",psn:"#00134c",xbox:"#1c6d00",steam:"#231f20",origin:"#e73b00",youtube:"red",twitter:"#1189f4",facebook:"#335a9e",switch:"#e60012",patreon:"#ff424d",roblox:"#00a2ff",epic:"#2f2d2e",bnetSecondary:"#009ae4",psnSecondary:"#2d64e6",xboxSecondary:"#52b043",steamSecondary:"#096295",twitchSecondary:"#9146ff",epicSecondary:"#0078f2",grayMask20:"rgba(163,163,172,.2)",grayMask40:"rgba(163,163,172,.4)",goldenShadow:"rgba(255,234,0,.5)",colorChannelGray:"#373943",streamGradient:"linear-gradient(63.5deg, #ff0000 -29.74%, #b258ff 83.36%)"},e.exports=t},9825:function(e,t,r){var a=r(7),o=r(9826);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i,n=0,s={injectType:"lazyStyleTag",insert:"head",singleton:!1},c={};o.locals&&(c.locals=o.locals),c.use=function(e){return n++||(i=a(o,{...s,...e})),c},c.unuse=function(){n>0&&!--n&&(i(),i=null)},e.exports=c},9826:function(e,t,r){(t=r(8)(!1)).push([e.i,".ManageServerSubscriptionOverlay-container{width:500px}.ManageServerSubscriptionOverlay-review{margin-bottom:20px}.ManageServerSubscriptionOverlay-overview-controls{margin-top:20px}.ManageServerSubscriptionOverlay-overview-controls .ManageServerSubscriptionOverlay-overview-control:not(:last-child){margin-right:12px}",""]),e.exports=t}}]);
//# sourceMappingURL=https://sourcemaps.local.guilded.gg/db0e2dcb/ManageServerSubscriptionOverlay.js.map