(window.webpackJsonp=window.webpackJsonp||[]).push([[185],{4661:function(e,t,r){"use strict";var o=r(0);r(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,s,a=o(r(6)),i=o(r(3)),u=o(r(1483)),l=o(r(81)),d=o(r(9466)),p=o(r(938)),c=o(r(22)),f=o(r(25)),m=o(r(1)),h=o(r(738)),b=r(4),y=r(2);var v=(0,o(r(10)).default)({name:"TransferOwnershipOverlay",loader:()=>r(9467)})(n=(0,b.observer)(n=(0,f.default)(n=(0,c.default)(n=(0,d.default)((s=class extends h.default{constructor(...e){super(...e),this.PressEnterToConfirm=!1}get IsDisabled(){return!this.transferUserId}get searchControlComponent(){var e,t;return l.default.AsyncTeamMemberFetching||(null===(e=this.teamContext)||void 0===e?void 0:null===(t=e.teamInfo)||void 0===t?void 0:t.responsiveMemberRendering)?u.default:p.default}get ConfirmationText(){const{memberOptions:e,searchControlComponent:t}=this,{teamInfo:r}=this.teamContext;return(0,a.default)(m.default.Fragment,{},void 0,"Choose the new owner of ",(0,a.default)("span",{className:"emphasis"},void 0,r.name),". Before transferring, make sure you have the appropriate roles assigned to yourself to continue using Guilded as intended.",(0,a.default)(t,{className:"TransferOwnershipOverlay-search-select",options:e,placeholder:"Search members",noOptionsText:"No available members to transfer to",hideSelectOptions:!0,asyncQueryRequestHandler:this.searchAndStoreMembers,includeAsyncOptions:!1}))}},(0,i.default)(s.prototype,"IsDisabled",[y.computed],Object.getOwnPropertyDescriptor(s.prototype,"IsDisabled"),s.prototype),(0,i.default)(s.prototype,"searchControlComponent",[y.computed],Object.getOwnPropertyDescriptor(s.prototype,"searchControlComponent"),s.prototype),(0,i.default)(s.prototype,"ConfirmationText",[y.computed],Object.getOwnPropertyDescriptor(s.prototype,"ConfirmationText"),s.prototype),n=s))||n)||n)||n)||n)||n;t.default=v},9466:function(e,t,r){"use strict";var o=r(0);r(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,r,o,p;return(0,u.default)(t=(0,i.default)((r=class extends e{constructor(...e){var t;super(...e),t=this,this.Header="Transfer ownership",this.ConfirmText="Transfer",this.ConfirmType="delete",this.CancelText="Cancel",this.VerificationPhrase="Transfer ownership",this.VerificationActionName="transfer ownership",(0,s.default)(this,"transferUserId",o,this),(0,s.default)(this,"_selectUserId",p,this),this.OnError=(0,n.coroutine)((function*(){const{userId:e}=t.userContext,{teamInfo:r}=t.teamContext;r.updateMember(e,{membershipRole:"admin"})})),this.Confirm=(0,n.coroutine)((function*(){const{teamId:e,teamInfo:r}=t.teamContext,{userId:o}=t.userContext,{transferUserId:n}=t;if(!n)throw new Error("must select a member to transfer to");return r.updateMember(o,{membershipRole:"member"}),yield l.default.TransferOwnership({teamId:e,userId:n})}))}get memberOptions(){const{teamInfo:e}=this.teamContext,{userId:t}=this.userContext,{transferUserId:r}=this;return e.activeMembersWithoutAutomated.reduce((e,o)=>(o.id!==t&&e.push({title:o.name,isSelected:r===o.id,onClick:this._selectUserId,size:"sm",alignment:"right",image:o.profilePictureSm,value:o.id}),e),[])}},o=(0,a.default)(r.prototype,"transferUserId",[d.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=(0,a.default)(r.prototype,"_selectUserId",[d.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.transferUserId=e}}),(0,a.default)(r.prototype,"memberOptions",[d.computed],Object.getOwnPropertyDescriptor(r.prototype,"memberOptions"),r.prototype),t=r))||t)||t};var n=r(14),s=o(r(12)),a=o(r(3)),i=(o(r(13)),o(r(583))),u=o(r(25)),l=o(r(50)),d=r(2)},9467:function(e,t,r){var o=r(7),n=r(9468);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var s,a=0,i={injectType:"lazyStyleTag",insert:"head",singleton:!1},u={};n.locals&&(u.locals=n.locals),u.use=function(e){return a++||(s=o(n,{...i,...e})),u},u.unuse=function(){a>0&&!--a&&(s(),s=null)},e.exports=u},9468:function(e,t,r){(t=r(8)(!1)).push([e.i,".TransferOwnershipOverlay-search-select{width:100%;margin-top:16px}",""]),e.exports=t}}]);
//# sourceMappingURL=https://sourcemaps.local.guilded.gg/db0e2dcb/TransferOwnershipOverlay.js.map