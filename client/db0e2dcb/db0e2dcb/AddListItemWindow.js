(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{7914:function(e,t,a){"use strict";var r=a(0),n=a(19);a(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i=r(a(6)),l=r(a(11)),d=r(a(9233)),s=n(a(910)),c=r(a(7980)),u=r(a(1)),b=(a(2),a(4));var f=(0,r(a(10)).default)({name:"AddListItemWindow",loader:()=>a(9236)})(o=(0,c.default)(o=(0,b.observer)(o=class extends u.default.Component{constructor(...e){super(...e),this.IsTransient=!0,this.IsAlwaysOnTop=!0,this.IsResizable=!1,this.DisablePersistentSizing=!0,this.HasBorderRadius=!0,this.IsSidebarInitiallyCollapsed=!0,this.FrameSlop=300,this.Height=160,this.Width=600,this.MinHeight=160,this.CloseWindowEvent=s.AppHotkeyTypesToElectronEvents[s.default.AddListItem]}render(){return(0,i.default)(d.default,{className:(0,l.default)(this.AppWindowControlClassName,"AddListItemWindow-container"),onGetContainerRef:this.HandleMouseableContainerRef,disabled:this.IsClosing,onClose:this.props.onClose})}})||o)||o)||o;t.default=f},9233:function(e,t,a){"use strict";var r=a(0),n=a(19);a(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i,l,d,s,c,u,b,f,p,h,m,g=a(14),w=r(a(6)),y=r(a(12)),C=r(a(3)),k=(r(a(13)),r(a(676))),I=n(a(111)),x=r(a(86)),v=r(a(47)),A=r(a(395)),L=r(a(11)),W=r(a(35)),S=r(a(295)),_=r(a(42)),M=r(a(895)),D=r(a(1011)),R=r(a(4867)),T=r(a(33)),G=r(a(378)),E=r(a(39)),O=r(a(740)),N=r(a(22)),P=r(a(46)),z=r(a(68)),B=r(a(1)),j=a(2),F=a(4);var H=(o=(0,r(a(10)).default)({name:"AddListItemWindowControl",loader:()=>a(9234)}),i=(0,I.persistWithKey)("add-list-item-window-selected-channel"),l=j.computed.struct,d=j.computed.struct,o(s=(0,I.default)(s=(0,P.default)(s=(0,N.default)(s=(0,E.default)(s=(0,P.default)(s=(0,F.observer)((c=class extends B.default.Component{constructor(...e){super(...e),this.DisplayStatusFetchError=!0,this.listItemTitle=null,(0,y.default)(this,"targetChannel",u,this),(0,y.default)(this,"listChannels",b,this),(0,y.default)(this,"fetchData",f,this),(0,y.default)(this,"handleDataFetch",p,this),this._handleEditorRef=e=>{var t;this.editor=e,null===(t=this.editor)||void 0===t||t.focus()},this._handleNotesRef=e=>this.noteEditor=e,this._handleExternalSubmit=()=>{var e;null===(e=this.editor)||void 0===e||e.submit()},(0,y.default)(this,"_handleTitleChanged",h,this),this._handleChange=({values:e})=>{this.targetChannel=e.channel},(0,y.default)(this,"_handleSubmit",m,this),this._validateItem=({message:e})=>{const{noteEditor:t}=this;return x.default.GetIsEmpty(e)?(this.statusContext.displayError({message:"A task cannot be empty"}),!1):!(t&&!t.getIsValid())}}get listChannelOptions(){const{listChannels:e}=this;return e.filter(e=>e.isActive).map(e=>({value:e.id,id:e.id,label:e.name,name:e.name,iconName:e.iconName}))}get isSubmitDisabled(){const{listChannelOptions:e}=this;return!e.length}get formSpecs(){const{listChannelOptions:e,targetChannel:t,isLoading:a}=this,r=a&&t?[t]:e;return{sections:[{id:"TargetChannel",fieldSpecs:[{type:z.default.Dropdown,fieldName:"channel",options:r,defaultValue:t,autoFocus:!1,searchable:!0,grow:!0}]}]}}render(){const{formSpecs:e,isLoading:t,isMakingRequest:a,isSubmitDisabled:r}=this,{onClose:n,className:o,onGetContainerRef:i,disabled:l}=this.props;return B.default.createElement("div",{className:(0,L.default)("AddListItemWindowControl-container",o),ref:i},(0,w.default)(k.default,{},void 0,(0,w.default)("div",{className:"AddListItemWindowControl-input-wrapper"},void 0,(0,w.default)(A.default,{onGetRef:this._handleEditorRef,placeholder:"Add a task...",size:"xlg",readOnly:l,onSubmit:this._handleSubmit,type:v.default.EditorTypes.Bare}),(0,w.default)(R.default,{className:"AddListItemWindowControl-note",onGetEditorRef:this._handleNotesRef,onSubmit:this._handleExternalSubmit,disabled:l,placeholder:"Add a note",transparent:!0})),(0,w.default)(O.default,{className:"AddListItemWindowControl-channel-form-and-submit",confirmAndCancelClassName:"AddListItemWindowControl-confirm-and-cancel",onChange:this._handleChange,onConfirm:this._handleExternalSubmit,onCancel:n,formSpecs:e,disabled:r||l,isLoading:t||a,confirmText:"Add task",autoFocus:!1,horizontal:!0})))}},u=(0,C.default)(c.prototype,"targetChannel",[i,j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=(0,C.default)(c.prototype,"listChannels",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=(0,C.default)(c.prototype,"fetchData",[j.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return(0,g.coroutine)((function*(){const{userId:t}=e.userContext;return G.default.GetChannelsForSwitcher({userId:t,contentType:T.default.List,canCreateOnly:!0})}))}}),p=(0,C.default)(c.prototype,"handleDataFetch",[j.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{teamChannels:t}=e;this.listChannels=t}}}),(0,C.default)(c.prototype,"listChannelOptions",[l],Object.getOwnPropertyDescriptor(c.prototype,"listChannelOptions"),c.prototype),(0,C.default)(c.prototype,"isSubmitDisabled",[j.computed],Object.getOwnPropertyDescriptor(c.prototype,"isSubmitDisabled"),c.prototype),(0,C.default)(c.prototype,"formSpecs",[d],Object.getOwnPropertyDescriptor(c.prototype,"formSpecs"),c.prototype),h=(0,C.default)(c.prototype,"_handleTitleChanged",[j.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.listItemTitle=e}}}),m=(0,C.default)(c.prototype,"_handleSubmit",[j.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,g.coroutine)((function*({content:t}){if(e.isSubmitDisabled||!e._validateItem({message:t}))return;const{noteEditor:a,targetChannel:r}=e,{userId:n}=e.userContext,o=null==a?void 0:a.getValue().value,i=new M.default(D.default.CreateListItem({message:t,createdBy:n,priority:0,channelId:r.id,note:o}));try{yield _.default.With(e.makeRequest(S.default.CreateListItem(i))).Log(W.default.ListItemCreated,{userId:n,teamId:r.teamId,channelId:r.id,groupId:r.groupId}),e.props.onClose()}catch(t){e.statusContext.displayError({error:t})}}));return function(e){return t.apply(this,arguments)}}()}}),s=c))||s)||s)||s)||s)||s)||s)||s);t.default=H},9234:function(e,t,a){var r=a(7),n=a(9235);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var o,i=0,l={injectType:"lazyStyleTag",insert:"head",singleton:!1},d={};n.locals&&(d.locals=n.locals),d.use=function(e){return i++||(o=r(n,{...l,...e})),d},d.unuse=function(){i>0&&!--i&&(o(),o=null)},e.exports=d},9235:function(e,t,a){(t=a(8)(!1)).push([e.i,".AddListItemWindowControl-container{display:flex;flex-direction:column;flex:0 1 auto;background-color:#3c3e48}.AddListItemWindowControl-note{margin-top:12px;max-height:180px;overflow-y:scroll;scrollbar-width:thin;scrollbar-color:rgba(25,27,31,.8) transparent}.AddListItemWindowControl-note::-webkit-scrollbar{width:4px}.AddListItemWindowControl-note::-webkit-scrollbar:horizontal{height:4px}.AddListItemWindowControl-note::-webkit-scrollbar-thumb{border-color:transparent;border:2px solid transparent;border-radius:3px;cursor:move;background-color:#191b1f}.AddListItemWindowControl-note::-webkit-scrollbar-thumb,.AddListItemWindowControl-note::-webkit-scrollbar-track{background-clip:padding-box;border-radius:7.5px;border-style:solid;border-width:3px}.AddListItemWindowControl-note::-webkit-scrollbar-track{background-color:transparent !important;border-color:transparent !important;border:2px solid transparent !important;border-width:initial}.AddListItemWindowControl-note::-webkit-scrollbar,.AddListItemWindowControl-note::-webkit-scrollbar:hover,.AddListItemWindowControl-note::-webkit-scrollbar-thumb:vertical,.AddListItemWindowControl-note::-webkit-scrollbar,.AddListItemWindowControl-note::-webkit-scrollbar,.AddListItemWindowControl-note::-webkit-scrollbar-track,.AddListItemWindowControl-note::-webkit-scrollbar-corner,.AddListItemWindowControl-note::-webkit-scrollbar-track-piece,.AddListItemWindowControl-note::-webkit-scrollbar-track-piece-thumb,.AddListItemWindowControl-note::-webkit-scrollbar-track-piece-corner,.AddListItemWindowControl-note::-webkit-scrollbar-track-piece-button{background-color:transparent;background:transparent}.AddListItemWindowControl-note::-webkit-scrollbar-thumb{background:rgba(25,27,31,.8) !important}.AddListItemWindowControl-input-wrapper{padding:24px;padding-bottom:20px}.AddListItemWindowControl-channel-form-and-submit{display:flex;flex-direction:row;flex:1 1 auto;align-items:flex-start;background-color:#32343d;padding:12px 24px;border-radius:8px}.AddListItemWindowControl-confirm-and-cancel{margin-top:0;margin-left:24px}",""]),t.locals={confirmationGreen:"#53da33",confirmationGreenDesaturated:"#6cba50",gilded4:"#ecb200",gilded5:"#e0a900",gilded6:"#be8c00",errorRedDesaturated:"#df5353",gray:"#a3a3ac",bodyTextWhite:"#ececee",bodyTextWiteMask64:"rgba(236,236,238,.64)",border:"#848a94",errorRed:"#ff6b6b",warnYellow:"#ffb400",nuxBlue:"#008ae1",calendarOrange:"#d89332",calendarBlue:"#355bf8",calendarGreen:"#6cba50",calendarSeagreen:"#30a68f",calendarJewelgreen:"#148f33",calendarPurple:"#a250e8",calendarPurpleMask7:"rgba(162,80,232,.07)",calendarPurpleMask10:"rgba(162,80,232,.1)",mediumPurple3:"#dab9f6",mediumPurple3Mask10:"rgba(218,185,246,.1)",dropmenuGray:"#4f515d",menuGray:"#4f515d",menuGrayMask30:"rgba(79,81,93,.3)",yellowHighlight:"#ffeca0",desaturatedReddit:"#ea794f",desaturatedTwitter:"#64a9d4",desaturatedYoutube:"#cf5c58",whatsapp:"#25d366",github:"#24292e",vimeo:"#1ab7ea",gilded:"#f5c400",orangeRed:"#ff4500",gameNavBlack:"#32343d",gameNavBlackMask36:"rgba(50,52,61,.36)",white:"#fff",gilded2:"#f8d64c",gilded2Mask5:"rgba(248,214,76,.05)",gilded2Mask7:"rgba(248,214,76,.07)",gilded2Mask10:"rgba(248,214,76,.1)",gilded2Mask20:"rgba(248,214,76,.2)",gilded2Mask50:"rgba(248,214,76,.5)",nuxBlueDesaturatedMask7:"rgba(174,189,252,.07)",restGet:"#335a9e",restHead:"#a250e8",restPost:"#6cba50",restPut:"#d89332",restPatch:"#4f515d",restDelete:"#ff6b6b",mysteriousGray:"#212329",backgroundBlack:"#1e2025",yellowThree:"#ffb400",calendarGreenDesaturated:"#476047",calendarRed:"#df5353",calendarRedMask30:"rgba(223,83,83,.2)",calendarRedDesaturated:"#694148",druidOrange:"#e4b370",sidebarBlack:"#292b32",brandyPunch:"#d89332",navBlack:"#191b1f",yellow1:"gold",yellow2:"#e4c519",yellow3:"#ffb400",yellow4:"#ffb400",yellow5:"#d89f0c",yellow6:"#ffd800",yellow6Mask35:"rgba(255,216,0,.35)",gameNavGray:"#30323a",skeletonGray:"#50525f",blackPearl:"#222329",twitch:"#9146ff",bnet:"#078ad2",psn:"#00134c",xbox:"#1c6d00",steam:"#231f20",origin:"#e73b00",youtube:"red",twitter:"#1189f4",facebook:"#335a9e",switch:"#e60012",patreon:"#ff424d",roblox:"#00a2ff",epic:"#2f2d2e",bnetSecondary:"#009ae4",psnSecondary:"#2d64e6",xboxSecondary:"#52b043",steamSecondary:"#096295",twitchSecondary:"#9146ff",epicSecondary:"#0078f2",grayMask20:"rgba(163,163,172,.2)",grayMask40:"rgba(163,163,172,.4)",goldenShadow:"rgba(255,234,0,.5)",colorChannelGray:"#373943",streamGradient:"linear-gradient(63.5deg, #ff0000 -29.74%, #b258ff 83.36%)"},e.exports=t},9236:function(e,t,a){var r=a(7),n=a(9237);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var o,i=0,l={injectType:"lazyStyleTag",insert:"head",singleton:!1},d={};n.locals&&(d.locals=n.locals),d.use=function(e){return i++||(o=r(n,{...l,...e})),d},d.unuse=function(){i>0&&!--i&&(o(),o=null)},e.exports=d},9237:function(e,t,a){(t=a(8)(!1)).push([e.i,".AddListItemWindow-container{margin:auto;height:auto;box-shadow:0 6px 19px 5px rgba(0,0,0,.5)}",""]),e.exports=t}}]);
//# sourceMappingURL=https://sourcemaps.local.guilded.gg/db0e2dcb/AddListItemWindow.js.map