(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{4649:function(e,t,a){"use strict";var n=a(19),i=a(0);a(9),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,s,o,c,r,d,u=n(a(14)),f=i(a(12)),p=i(a(3)),h=(i(a(13)),i(a(86))),m=a(2),g=a(4),v=i(a(78)),C=i(a(25)),b=i(a(38)),y=i(a(277)),D=i(a(71)),w=i(a(39)),x=i(a(295)),_=i(a(738)),I=i(a(273)),T=i(a(18)),M=i(a(68)),F=i(a(199));let O=(0,w.default)(l=(0,C.default)(l=(0,v.default)(l=(0,g.observer)((d=r=class e extends _.default{constructor(...t){var a;super(...t),a=this,this.ControlConfiguration=T.default.IsNative?null:I.default.Confirm,this.ConfirmText="Cancel event",this.ConfirmType="delete",this.Header="Cancel event",this._cancellationDescription=null,(0,f.default)(this,"IsDisabled",o,this),this.Confirm=(0,u.coroutine)((function*(){const{channelId:e}=a.teamChannelContext,{event:t}=a.props;try{yield a.makeRequest(x.default.CancelEvent({cancellationDescription:a._cancellationDescription?h.default.GetOneLineMessageFromString(a._cancellationDescription):null,channelId:e,eventId:t.id})),b.default.emit(y.default.TeamCalendarEventMutated,{eventId:t.id}),b.default.emit(D.default.StatusMessage,{type:"success",text:"Event has been cancelled!"})}catch(e){b.default.emit(D.default.StatusMessage,{type:"error",text:"There was an issue cancelling the event"})}})),(0,f.default)(this,"_handleFormChange",c,this),this.FormSpecs={sections:[{fieldSpecs:[{type:T.default.IsNative?M.default.Text:M.default.TextArea,fieldName:"cancellationDescription",label:T.default.IsNative?"Optional message for guests":"Add an optional message for cancellations to guests",maxLength:e._cancellationDescriptionMaxLength,placeholder:"Message for cancellation",isOptional:!0,onChange:this._handleFormChange,validationFunction:F.default.ValidateEventCancellationDescription}]}]}}get ConfirmationText(){const{event:e}=this.props;return'Are you sure you want to cancel "'.concat(e.name,'"? Guests will still be able to access all messages and threads associated with it.')}},r._cancellationDescriptionMaxLength=140,s=d,o=(0,p.default)(s.prototype,"IsDisabled",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,p.default)(s.prototype,"ConfirmationText",[m.computed],Object.getOwnPropertyDescriptor(s.prototype,"ConfirmationText"),s.prototype),c=(0,p.default)(s.prototype,"_handleFormChange",[m.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return({isValid:e,hasChanged:t,changedValues:a})=>{this.IsDisabled=!e,e&&(this._cancellationDescription=a.cancellationDescription)}}}),l=s))||l)||l)||l)||l;t.default=O}}]);
//# sourceMappingURL=https://sourcemaps.local.guilded.gg/db0e2dcb/CancelTeamEventOverlay.js.map